{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/ui/field.tsx"],"sourcesContent":["\"use client\"\n\nimport { useMemo } from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\nimport { Separator } from \"@/components/ui/separator\"\n\nfunction FieldSet({ className, ...props }: React.ComponentProps<\"fieldset\">) {\n  return (\n    <fieldset\n      data-slot=\"field-set\"\n      className={cn(\n        \"flex flex-col gap-6\",\n        \"has-[>[data-slot=checkbox-group]]:gap-3 has-[>[data-slot=radio-group]]:gap-3\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldLegend({\n  className,\n  variant = \"legend\",\n  ...props\n}: React.ComponentProps<\"legend\"> & { variant?: \"legend\" | \"label\" }) {\n  return (\n    <legend\n      data-slot=\"field-legend\"\n      data-variant={variant}\n      className={cn(\n        \"mb-3 font-medium\",\n        \"data-[variant=legend]:text-base\",\n        \"data-[variant=label]:text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"field-group\"\n      className={cn(\n        \"group/field-group @container/field-group flex w-full flex-col gap-7 data-[slot=checkbox-group]:gap-3 [&>[data-slot=field-group]]:gap-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nconst fieldVariants = cva(\n  \"group/field flex w-full gap-3 data-[invalid=true]:text-destructive\",\n  {\n    variants: {\n      orientation: {\n        vertical: [\"flex-col [&>*]:w-full [&>.sr-only]:w-auto\"],\n        horizontal: [\n          \"flex-row items-center\",\n          \"[&>[data-slot=field-label]]:flex-auto\",\n          \"has-[>[data-slot=field-content]]:items-start has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px\",\n        ],\n        responsive: [\n          \"flex-col [&>*]:w-full [&>.sr-only]:w-auto @md/field-group:flex-row @md/field-group:items-center @md/field-group:[&>*]:w-auto\",\n          \"@md/field-group:[&>[data-slot=field-label]]:flex-auto\",\n          \"@md/field-group:has-[>[data-slot=field-content]]:items-start @md/field-group:has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px\",\n        ],\n      },\n    },\n    defaultVariants: {\n      orientation: \"vertical\",\n    },\n  }\n)\n\nfunction Field({\n  className,\n  orientation = \"vertical\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof fieldVariants>) {\n  return (\n    <div\n      role=\"group\"\n      data-slot=\"field\"\n      data-orientation={orientation}\n      className={cn(fieldVariants({ orientation }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction FieldContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"field-content\"\n      className={cn(\n        \"group/field-content flex flex-1 flex-col gap-1.5 leading-snug\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof Label>) {\n  return (\n    <Label\n      data-slot=\"field-label\"\n      className={cn(\n        \"group/field-label peer/field-label flex w-fit gap-2 leading-snug group-data-[disabled=true]/field:opacity-50\",\n        \"has-[>[data-slot=field]]:w-full has-[>[data-slot=field]]:flex-col has-[>[data-slot=field]]:rounded-md has-[>[data-slot=field]]:border [&>*]:data-[slot=field]:p-4\",\n        \"has-data-[state=checked]:bg-primary/5 has-data-[state=checked]:border-primary dark:has-data-[state=checked]:bg-primary/10\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"field-label\"\n      className={cn(\n        \"flex w-fit items-center gap-2 text-sm leading-snug font-medium group-data-[disabled=true]/field:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  return (\n    <p\n      data-slot=\"field-description\"\n      className={cn(\n        \"text-muted-foreground text-sm leading-normal font-normal group-has-[[data-orientation=horizontal]]/field:text-balance\",\n        \"last:mt-0 nth-last-2:-mt-1 [[data-variant=legend]+&]:-mt-1.5\",\n        \"[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldSeparator({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  children?: React.ReactNode\n}) {\n  return (\n    <div\n      data-slot=\"field-separator\"\n      data-content={!!children}\n      className={cn(\n        \"relative -my-2 h-5 text-sm group-data-[variant=outline]/field-group:-mb-2\",\n        className\n      )}\n      {...props}\n    >\n      <Separator className=\"absolute inset-0 top-1/2\" />\n      {children && (\n        <span\n          className=\"bg-background text-muted-foreground relative mx-auto block w-fit px-2\"\n          data-slot=\"field-separator-content\"\n        >\n          {children}\n        </span>\n      )}\n    </div>\n  )\n}\n\nfunction FieldError({\n  className,\n  children,\n  errors,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  errors?: Array<{ message?: string } | undefined>\n}) {\n  const content = useMemo(() => {\n    if (children) {\n      return children\n    }\n\n    if (!errors) {\n      return null\n    }\n\n    if (errors?.length === 1 && errors[0]?.message) {\n      return errors[0].message\n    }\n\n    return (\n      <ul className=\"ml-4 flex list-disc flex-col gap-1\">\n        {errors.map(\n          (error, index) =>\n            error?.message && <li key={index}>{error.message}</li>\n        )}\n      </ul>\n    )\n  }, [children, errors])\n\n  if (!content) {\n    return null\n  }\n\n  return (\n    <div\n      role=\"alert\"\n      data-slot=\"field-error\"\n      className={cn(\"text-destructive text-sm font-normal\", className)}\n      {...props}\n    >\n      {content}\n    </div>\n  )\n}\n\nexport {\n  Field,\n  FieldLabel,\n  FieldDescription,\n  FieldError,\n  FieldGroup,\n  FieldLegend,\n  FieldSeparator,\n  FieldSet,\n  FieldContent,\n  FieldTitle,\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 335, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Textarea({ className, ...props }: React.ComponentProps<\"textarea\">) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        \"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 359, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/ui/combo-box.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useRef, useEffect } from \"react\";\r\n\r\ninterface ComboBoxProps {\r\n\toptions: string[];\r\n\tplaceholder?: string;\r\n\tvalue?: string;\r\n\tonSelect?: (option: string | null) => void;\r\n\tdisabled?: boolean;\r\n}\r\n\r\nconst ComboBox = ({\r\n\toptions = [],\r\n\tplaceholder = \"Select an option...\",\r\n\tvalue,\r\n\tonSelect,\r\n\tdisabled = false,\r\n}: ComboBoxProps) => {\r\n\tconst [inputValue, setInputValue] = useState<string>(value || \"\");\r\n\tconst [isOpen, setIsOpen] = useState<boolean>(false);\r\n\tconst [selectedOption, setSelectedOption] = useState<string | null>(\r\n\t\tvalue || null\r\n\t);\r\n\tconst [filteredOptions, setFilteredOptions] = useState<string[]>(options);\r\n\tconst [highlightedIndex, setHighlightedIndex] = useState<number>(-1);\r\n\r\n\tconst comboBoxRef = useRef<HTMLDivElement>(null);\r\n\tconst optionRefs = useRef<(HTMLButtonElement | null)[]>([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (inputValue === \"\") {\r\n\t\t\tsetFilteredOptions(options);\r\n\t\t} else {\r\n\t\t\tsetFilteredOptions(\r\n\t\t\t\toptions.filter((option) =>\r\n\t\t\t\t\toption.toLowerCase().includes(inputValue.toLowerCase())\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t}\r\n\t\tsetHighlightedIndex(-1); // Reset highlighted index when filtering\r\n\t\t// Reset option refs array\r\n\t\toptionRefs.current = [];\r\n\t}, [inputValue, options]);\r\n\r\n\t// Update internal state when value prop changes\r\n\tuseEffect(() => {\r\n\t\tif (value !== undefined) {\r\n\t\t\tsetInputValue(value);\r\n\t\t\tsetSelectedOption(value);\r\n\t\t}\r\n\t}, [value]);\r\n\r\n\t// Scroll to highlighted option\r\n\tuseEffect(() => {\r\n\t\tif (highlightedIndex >= 0 && optionRefs.current[highlightedIndex]) {\r\n\t\t\toptionRefs.current[highlightedIndex]?.scrollIntoView({\r\n\t\t\t\tbehavior: \"smooth\",\r\n\t\t\t\tblock: \"nearest\",\r\n\t\t\t});\r\n\t\t}\r\n\t}, [highlightedIndex]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst handleClickOutside = (event: MouseEvent) => {\r\n\t\t\tif (\r\n\t\t\t\tcomboBoxRef.current &&\r\n\t\t\t\t!comboBoxRef.current.contains(event.target as Node)\r\n\t\t\t) {\r\n\t\t\t\tsetIsOpen(false);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tdocument.addEventListener(\"mousedown\", handleClickOutside);\r\n\t\treturn () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n\t}, []);\r\n\r\n\tconst handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n\t\tif (disabled) return;\r\n\t\tsetInputValue(e.target.value);\r\n\t\tsetIsOpen(true);\r\n\t\tsetSelectedOption(null);\r\n\t\tsetHighlightedIndex(-1);\r\n\t};\r\n\r\n\tconst handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n\t\tif (disabled) return;\r\n\r\n\t\tif (!isOpen && (e.key === \"ArrowDown\" || e.key === \"ArrowUp\")) {\r\n\t\t\tsetIsOpen(true);\r\n\t\t\tif (filteredOptions.length > 0) {\r\n\t\t\t\tsetHighlightedIndex(\r\n\t\t\t\t\te.key === \"ArrowDown\" ? 0 : filteredOptions.length - 1\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!isOpen) return;\r\n\r\n\t\tswitch (e.key) {\r\n\t\t\tcase \"ArrowDown\":\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tif (filteredOptions.length > 0) {\r\n\t\t\t\t\tsetHighlightedIndex((prev) =>\r\n\t\t\t\t\t\tprev < filteredOptions.length - 1 ? prev + 1 : 0\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"ArrowUp\":\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tif (filteredOptions.length > 0) {\r\n\t\t\t\t\tsetHighlightedIndex((prev) =>\r\n\t\t\t\t\t\tprev > 0 ? prev - 1 : filteredOptions.length - 1\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"Enter\":\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tif (\r\n\t\t\t\t\thighlightedIndex >= 0 &&\r\n\t\t\t\t\thighlightedIndex < filteredOptions.length\r\n\t\t\t\t) {\r\n\t\t\t\t\thandleOptionSelect(filteredOptions[highlightedIndex]);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"Escape\":\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tsetIsOpen(false);\r\n\t\t\t\tsetHighlightedIndex(-1);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"Tab\":\r\n\t\t\t\tsetIsOpen(false);\r\n\t\t\t\tsetHighlightedIndex(-1);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOptionSelect = (option: string) => {\r\n\t\tsetSelectedOption(option);\r\n\t\tsetInputValue(option);\r\n\t\tsetIsOpen(false);\r\n\t\tsetHighlightedIndex(-1);\r\n\t\tonSelect?.(option);\r\n\t};\r\n\r\n\tconst handleInputFocus = () => {\r\n\t\tif (disabled) return;\r\n\t\tsetIsOpen(true);\r\n\t};\r\n\r\n\tconst handleClearSelection = () => {\r\n\t\tif (disabled) return;\r\n\t\tsetInputValue(\"\");\r\n\t\tsetSelectedOption(null);\r\n\t\tsetIsOpen(false);\r\n\t\tsetHighlightedIndex(-1);\r\n\t\tonSelect?.(null);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"relative w-full max-w-md\" ref={comboBoxRef}>\r\n\t\t\t<div className=\"relative\">\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvalue={inputValue}\r\n\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\tonFocus={handleInputFocus}\r\n\t\t\t\t\tonKeyDown={handleKeyDown}\r\n\t\t\t\t\tplaceholder={placeholder}\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\tclassName={`w-full px-4 py-2 pr-20 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent placeholder-gray-500 dark:placeholder-gray-400 ${\r\n\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t? \"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed\"\r\n\t\t\t\t\t\t\t: \"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100\"\r\n\t\t\t\t\t}`}\r\n\t\t\t\t\trole=\"combobox\"\r\n\t\t\t\t\taria-expanded={isOpen}\r\n\t\t\t\t\taria-haspopup=\"listbox\"\r\n\t\t\t\t\taria-controls=\"combobox-options\"\r\n\t\t\t\t\taria-autocomplete=\"list\"\r\n\t\t\t\t\taria-activedescendant={\r\n\t\t\t\t\t\thighlightedIndex >= 0 ? `option-${highlightedIndex}` : undefined\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t{selectedOption && !disabled && (\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tonClick={handleClearSelection}\r\n\t\t\t\t\t\tclassName=\"absolute right-8 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors\"\r\n\t\t\t\t\t\taria-label=\"Clear selection\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\tclassName=\"w-4 h-4\"\r\n\t\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\r\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\r\n\t\t\t\t\t\t\t\tstrokeWidth={2}\r\n\t\t\t\t\t\t\t\td=\"M6 18L18 6M6 6l12 12\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t)}\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tonClick={() => !disabled && setIsOpen(!isOpen)}\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\tclassName={`absolute right-2 top-1/2 transform -translate-y-1/2 transition-colors ${\r\n\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t? \"text-gray-400 dark:text-gray-500 cursor-not-allowed\"\r\n\t\t\t\t\t\t\t: \"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300\"\r\n\t\t\t\t\t}`}\r\n\t\t\t\t\taria-label=\"Toggle dropdown\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\tclassName={`w-5 h-5 transition-transform ${isOpen ? \"rotate-180\" : \"\"}`}\r\n\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\tstrokeLinecap=\"round\"\r\n\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\r\n\t\t\t\t\t\t\tstrokeWidth={2}\r\n\t\t\t\t\t\t\td=\"M19 9l-7 7-7-7\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t{isOpen && !disabled && (\r\n\t\t\t\t<div\r\n\t\t\t\t\tid=\"combobox-options\"\r\n\t\t\t\t\tclassName=\"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-y-scroll\"\r\n\t\t\t\t\trole=\"listbox\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{filteredOptions.length > 0 ? (\r\n\t\t\t\t\t\tfilteredOptions.map((option, index) => (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\tref={(el) => {\r\n\t\t\t\t\t\t\t\t\toptionRefs.current[index] = el;\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tid={`option-${index}`}\r\n\t\t\t\t\t\t\t\tonClick={() => handleOptionSelect(option)}\r\n\t\t\t\t\t\t\t\tclassName={`w-full px-4 py-2 text-left focus:outline-none first:rounded-t-lg last:rounded-b-lg transition-colors ${\r\n\t\t\t\t\t\t\t\t\tindex === highlightedIndex\r\n\t\t\t\t\t\t\t\t\t\t? \"bg-blue-100 dark:bg-blue-900/20 text-blue-900 dark:text-blue-300\"\r\n\t\t\t\t\t\t\t\t\t\t: \"text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-700 focus:bg-gray-50 dark:focus:bg-gray-700\"\r\n\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\trole=\"option\"\r\n\t\t\t\t\t\t\t\taria-selected={selectedOption === option}\r\n\t\t\t\t\t\t\t\tonMouseEnter={() => setHighlightedIndex(index)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{option}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"px-4 py-2 text-gray-500 dark:text-gray-400\"\r\n\t\t\t\t\t\t\trole=\"status\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tNo options found\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ComboBox;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 623, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/ui/calendar-widget.tsx"],"sourcesContent":["/* eslint-disable react/no-children-prop */\n\"use client\";\n\nimport React from \"react\";\nimport { Button } from \"./button\";\n\ninterface CalendarWidgetProps {\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\tform: any;\n\tcalendarDate: Date;\n\thandleCalendarNavigation: (direction: \"prev\" | \"next\") => void;\n\thandleDateClick: (day: number | null) => void;\n\tformatDisplayDate?: (date?: Date | number) => string;\n\t// Optional props for additional dates (like dueDate in detail page)\n\tshowDueDate?: boolean;\n\tvariant?: \"default\" | \"detailed\"; // \"detailed\" for project detail page with enhanced styling\n}\n\nconst getCalendarDays = (date: Date) => {\n\tconst year = date.getFullYear();\n\tconst month = date.getMonth();\n\n\tconst firstDay = new Date(year, month, 1);\n\tconst lastDay = new Date(year, month + 1, 0);\n\tconst startingDayOfWeek = firstDay.getDay();\n\tconst daysInMonth = lastDay.getDate();\n\n\tconst calendarDays: Array<number | null> = [];\n\n\tfor (let i = 0; i < startingDayOfWeek; i++) {\n\t\tcalendarDays.push(null);\n\t}\n\n\tfor (let day = 1; day <= daysInMonth; day++) {\n\t\tcalendarDays.push(day);\n\t}\n\n\twhile (calendarDays.length < 42) {\n\t\tcalendarDays.push(null);\n\t}\n\n\treturn calendarDays;\n};\n\nconst defaultFormatDisplayDate = (date?: Date | number) => {\n\tif (!date) return \"Not set\";\n\tconst dateObj = typeof date === \"number\" ? new Date(date) : date;\n\treturn dateObj.toLocaleDateString(\"en-US\", {\n\t\tyear: \"numeric\",\n\t\tmonth: \"long\",\n\t\tday: \"numeric\",\n\t});\n};\n\nexport function CalendarWidget({\n\tform,\n\tcalendarDate,\n\thandleCalendarNavigation,\n\thandleDateClick,\n\tformatDisplayDate = defaultFormatDisplayDate,\n\tshowDueDate = false,\n\tvariant = \"default\",\n}: CalendarWidgetProps) {\n\treturn (\n\t\t<form.Field\n\t\t\tname=\"startDate\"\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\tchildren={(startField: any) => (\n\t\t\t\t<form.Field\n\t\t\t\t\tname=\"endDate\"\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\t\t\tchildren={(endField: any) => {\n\t\t\t\t\t\tconst startDateValue = startField.state.value;\n\t\t\t\t\t\tconst endDateValue = endField.state.value;\n\n\t\t\t\t\t\t// Get dueDate if needed\n\t\t\t\t\t\tlet dueDateValue: Date | number | undefined;\n\t\t\t\t\t\tif (showDueDate) {\n\t\t\t\t\t\t\tconst dueDateField = form.getFieldValue(\"dueDate\");\n\t\t\t\t\t\t\tdueDateValue = dueDateField as Date | number | undefined;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst isDetailed = variant === \"detailed\";\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\tisDetailed\n\t\t\t\t\t\t\t\t\t\t? \"relative overflow-hidden rounded-2xl p-6 shadow-sm border border-gray-200/60 dark:border-white/10 bg-white/80 dark:bg-white/[0.03] backdrop-blur supports-[backdrop-filter]:bg-white/60 ring-1 ring-black/5 dark:ring-white/10\"\n\t\t\t\t\t\t\t\t\t\t: \"bg-white dark:bg-gray-900 border border-gray-200 dark:border-white/10 rounded-xl p-6 shadow-sm\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{isDetailed && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<div className=\"pointer-events-none absolute -top-24 -right-24 h-48 w-48 rounded-full bg-primary/10 blur-3xl\" />\n\t\t\t\t\t\t\t\t\t\t<div className=\"pointer-events-none absolute -bottom-24 -left-24 h-48 w-48 rounded-full bg-blue-500/10 blur-3xl\" />\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-between mb-6\">\n\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t{calendarDate.toLocaleDateString(\"en-US\", {\n\t\t\t\t\t\t\t\t\t\t\tmonth: \"long\",\n\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\tisDetailed\n\t\t\t\t\t\t\t\t\t\t\t\t? \"flex gap-2 rounded-lg bg-gray-50/80 dark:bg-white/5 p-1 ring-1 ring-inset ring-gray-200/70 dark:ring-white/10 shadow-sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"flex gap-2\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\thandleCalendarNavigation(\"prev\");\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 mr-1\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth=\"2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M15 19l-7-7 7-7\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\thandleCalendarNavigation(\"next\");\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-4 h-4 ml-1\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth=\"2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M9 5l7 7-7 7\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\tisDetailed\n\t\t\t\t\t\t\t\t\t\t\t? \"grid grid-cols-7 gap-1.5\"\n\t\t\t\t\t\t\t\t\t\t\t: \"grid grid-cols-7 gap-1\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{[\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"].map(\n\t\t\t\t\t\t\t\t\t\t(day) => (\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tkey={day}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t\tisDetailed\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"text-center text-[11px] uppercase tracking-wide font-medium text-gray-500 dark:text-gray-400 py-3 border-b border-gray-100/80 dark:border-white/5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"text-center text-xs font-medium text-gray-500 dark:text-gray-400 py-3 border-b border-gray-100 dark:border-white/5\"\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{day}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t{getCalendarDays(calendarDate).map((day, index) => {\n\t\t\t\t\t\t\t\t\t\tconst isCurrentMonth = day !== null;\n\t\t\t\t\t\t\t\t\t\tconst today = new Date();\n\t\t\t\t\t\t\t\t\t\tconst isToday =\n\t\t\t\t\t\t\t\t\t\t\tisCurrentMonth &&\n\t\t\t\t\t\t\t\t\t\t\tday === today.getDate() &&\n\t\t\t\t\t\t\t\t\t\t\tcalendarDate.getMonth() === today.getMonth() &&\n\t\t\t\t\t\t\t\t\t\t\tcalendarDate.getFullYear() === today.getFullYear();\n\n\t\t\t\t\t\t\t\t\t\tlet isStart = false;\n\t\t\t\t\t\t\t\t\t\tlet isEnd = false;\n\t\t\t\t\t\t\t\t\t\tlet isDue = false;\n\t\t\t\t\t\t\t\t\t\tlet isInRange = false;\n\t\t\t\t\t\t\t\t\t\tlet isDisabled = false;\n\n\t\t\t\t\t\t\t\t\t\t// Create current day date for comparison\n\t\t\t\t\t\t\t\t\t\tconst currentDayDate = day\n\t\t\t\t\t\t\t\t\t\t\t? new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\tcalendarDate.getFullYear(),\n\t\t\t\t\t\t\t\t\t\t\t\t\tcalendarDate.getMonth(),\n\t\t\t\t\t\t\t\t\t\t\t\t\tday\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t: null;\n\t\t\t\t\t\t\t\t\t\tif (currentDayDate) {\n\t\t\t\t\t\t\t\t\t\t\tcurrentDayDate.setHours(0, 0, 0, 0);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (day && startDateValue) {\n\t\t\t\t\t\t\t\t\t\t\tconst start =\n\t\t\t\t\t\t\t\t\t\t\t\ttypeof startDateValue === \"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t? new Date(startDateValue)\n\t\t\t\t\t\t\t\t\t\t\t\t\t: new Date(startDateValue.getTime());\n\t\t\t\t\t\t\t\t\t\t\tstart.setHours(0, 0, 0, 0);\n\n\t\t\t\t\t\t\t\t\t\t\tisStart = currentDayDate?.getTime() === start.getTime();\n\n\t\t\t\t\t\t\t\t\t\t\t// Disable dates before start date when selecting end date\n\t\t\t\t\t\t\t\t\t\t\tif (!endDateValue && currentDayDate) {\n\t\t\t\t\t\t\t\t\t\t\t\tisDisabled = currentDayDate < start;\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Check if day is in range between start and end\n\t\t\t\t\t\t\t\t\t\t\tif (endDateValue && !isStart && currentDayDate) {\n\t\t\t\t\t\t\t\t\t\t\t\tconst end =\n\t\t\t\t\t\t\t\t\t\t\t\t\ttypeof endDateValue === \"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? new Date(endDateValue)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: new Date(endDateValue.getTime());\n\t\t\t\t\t\t\t\t\t\t\t\tend.setHours(0, 0, 0, 0);\n\n\t\t\t\t\t\t\t\t\t\t\t\tisInRange =\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentDayDate > start && currentDayDate < end;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (day && endDateValue && currentDayDate) {\n\t\t\t\t\t\t\t\t\t\t\tconst end =\n\t\t\t\t\t\t\t\t\t\t\t\ttypeof endDateValue === \"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t? new Date(endDateValue)\n\t\t\t\t\t\t\t\t\t\t\t\t\t: new Date(endDateValue.getTime());\n\t\t\t\t\t\t\t\t\t\t\tend.setHours(0, 0, 0, 0);\n\n\t\t\t\t\t\t\t\t\t\t\tisEnd = currentDayDate.getTime() === end.getTime();\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif (day && showDueDate && dueDateValue && currentDayDate) {\n\t\t\t\t\t\t\t\t\t\t\tconst due =\n\t\t\t\t\t\t\t\t\t\t\t\ttypeof dueDateValue === \"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t? new Date(dueDateValue)\n\t\t\t\t\t\t\t\t\t\t\t\t\t: new Date(dueDateValue.getTime());\n\t\t\t\t\t\t\t\t\t\t\tdue.setHours(0, 0, 0, 0);\n\n\t\t\t\t\t\t\t\t\t\t\tisDue = currentDayDate.getTime() === due.getTime();\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tconst hasEvent = isStart || isEnd || isDue;\n\n\t\t\t\t\t\t\t\t\t\tif (isDetailed) {\n\t\t\t\t\t\t\t\t\t\t\t// Detailed variant for project detail page\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!isDisabled && day) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleDateClick(day);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`\n\t\t\t\t\t\t\t\t\t\t\t\t\trelative h-11 flex items-center justify-center text-sm transition-colors duration-200 rounded-lg\n\t\t\t\t\t\t\t\t\t\t\t\t\t${isCurrentMonth && !isDisabled ? \"cursor-pointer\" : \"cursor-default\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisCurrentMonth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"text-gray-900 dark:text-white\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"text-gray-300 dark:text-gray-600\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisCurrentMonth &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t!isDisabled &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t!hasEvent &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t!isInRange\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"hover:bg-primary/10 ring-1 ring-inset ring-primary/20 dark:hover:bg-primary/15\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${hasEvent ? \"bg-primary text-primary-foreground shadow-sm ring-1 ring-primary/40 font-medium\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${isInRange ? \"bg-blue-100 dark:bg-blue-900/50 text-blue-900 dark:text-blue-100 font-medium\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisToday && !hasEvent && !isInRange\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"ring-1 ring-amber-500/60 text-amber-600 dark:text-amber-300 bg-amber-500/10\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisDisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"Cannot select date before start date\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: isStart\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"Project Start\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: isEnd\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"Project End\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: isDue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"Due Date\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: isCurrentMonth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"Click to set date\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{day || \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{hasEvent && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"absolute bottom-1 left-1/2 -translate-x-1/2 w-6 h-1 rounded-full bg-white/70 dark:bg-white/80\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t// Default variant for onboarding form\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!isDisabled && day) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleDateClick(day);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`relative h-10 flex items-center justify-center text-sm transition-all duration-200 ${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisCurrentMonth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? isDisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"text-gray-300 dark:text-gray-700 cursor-not-allowed opacity-50\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: isStart\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"bg-blue-600 text-white rounded-l-lg shadow-md hover:bg-blue-700 font-bold cursor-pointer\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: isEnd\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"bg-blue-600 text-white rounded-r-lg shadow-md hover:bg-blue-700 font-bold cursor-pointer\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: isInRange\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"bg-blue-100 dark:bg-blue-900/50 text-blue-900 dark:text-blue-100 font-medium cursor-pointer hover:bg-blue-200 dark:hover:bg-blue-900/70\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"text-gray-900 dark:text-white hover:bg-blue-50 dark:hover:bg-blue-900/30 cursor-pointer\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"text-gray-300 dark:text-gray-600\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t}${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisToday && !hasEvent && !isInRange && !isDisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \" ring-2 ring-orange-500 dark:ring-orange-400 ring-inset rounded-lg font-medium\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisDisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"Cannot select date before start date\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: isStart\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"Project Start Date\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: isEnd\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"Project End Date\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: isInRange\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"Within project range\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: isCurrentMonth\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"Click to set date\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{day ?? \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{isStart && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"absolute top-0.5 right-0.5 w-1.5 h-1.5 bg-white rounded-full\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{isEnd && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"absolute top-0.5 left-0.5 w-1.5 h-1.5 bg-white rounded-full\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\tisDetailed\n\t\t\t\t\t\t\t\t\t\t\t? \"flex items-center justify-center gap-6 mt-5 pt-4 border-t border-gray-200/80 dark:border-white/10 text-xs\"\n\t\t\t\t\t\t\t\t\t\t\t: \"flex items-center justify-center gap-6 mt-4 pt-4 border-t border-gray-200 dark:border-white/10 text-xs text-gray-500 dark:text-gray-400\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{startDateValue && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-3 h-3 bg-blue-600 rounded\"></div>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\tStart: {formatDisplayDate(startDateValue)}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{endDateValue && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-3 h-3 bg-blue-600 rounded\"></div>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\tEnd: {formatDisplayDate(endDateValue)}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{showDueDate && dueDateValue && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-3 h-3 bg-blue-600 rounded\"></div>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\tDue: {formatDisplayDate(dueDateValue)}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\t\t/>\n\t);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1043, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/shared/sticky-form-footer.tsx"],"sourcesContent":["import { ReactNode, Fragment } from \"react\";\nimport { useSidebar } from \"@/components/ui/sidebar\";\nimport { StyledButton } from \"@/components/ui/styled/styled-button\";\n\ninterface ButtonConfig {\n\tlabel: string;\n\tonClick?: () => void;\n\tintent?:\n\t\t| \"primary\"\n\t\t| \"outline\"\n\t\t| \"secondary\"\n\t\t| \"warning\"\n\t\t| \"plain\"\n\t\t| \"success\"\n\t\t| \"destructive\";\n\tsize?: \"sm\" | \"md\" | \"lg\";\n\ticon?: ReactNode;\n\tisLoading?: boolean;\n\tdisabled?: boolean;\n\ttype?: \"button\" | \"submit\";\n\tposition?: \"left\" | \"right\";\n\tcustomComponent?: (button: ReactNode) => ReactNode; // Wrapper for button (e.g., Popover)\n}\n\ninterface StickyFormFooterProps {\n\tbuttons?: ButtonConfig[];\n\t// Legacy props for backward compatibility\n\tonCancel?: () => void;\n\tonSave?: () => void;\n\tcancelText?: string;\n\tsaveText?: string;\n\tisLoading?: boolean;\n\tclassName?: string;\n\tfullWidth?: boolean;\n\thasUnsavedChanges?: boolean;\n\tisEditing?: boolean;\n}\n\nexport function StickyFormFooter({\n\tbuttons,\n\tonCancel,\n\tonSave,\n\tcancelText = \"Cancel\",\n\tsaveText = \"Save\",\n\tisLoading = false,\n\tclassName = \"\",\n\tfullWidth = false,\n\thasUnsavedChanges = false,\n\tisEditing = false,\n}: StickyFormFooterProps) {\n\tconst sidebar = useSidebar();\n\n\t// Use new button config if provided, otherwise fall back to legacy props\n\tconst buttonConfigs: ButtonConfig[] = buttons || [\n\t\t...(onCancel\n\t\t\t? [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: cancelText,\n\t\t\t\t\t\tonClick: onCancel,\n\t\t\t\t\t\tintent: \"outline\" as const,\n\t\t\t\t\t\tdisabled: isLoading,\n\t\t\t\t\t},\n\t\t\t\t]\n\t\t\t: []),\n\t\t...(onSave\n\t\t\t? [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: isLoading ? \"Saving...\" : saveText,\n\t\t\t\t\t\tonClick: onSave,\n\t\t\t\t\t\tintent: \"primary\" as const,\n\t\t\t\t\t\ttype: \"submit\" as const,\n\t\t\t\t\t\tdisabled: isLoading,\n\t\t\t\t\t},\n\t\t\t\t]\n\t\t\t: []),\n\t];\n\n\tif (buttonConfigs.length === 0) return null;\n\n\t// Calculate sidebar width based on state\n\tconst getSidebarWidth = () => {\n\t\tif (!sidebar || sidebar.isMobile) return \"0px\";\n\t\treturn sidebar.state === \"expanded\"\n\t\t\t? \"var(--sidebar-width, 18rem)\"\n\t\t\t: \"var(--sidebar-width-icon, 3rem)\";\n\t};\n\n\t// Always use fixed positioning to stick to bottom of viewport\n\tconst sidebarWidth = getSidebarWidth();\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`fixed bottom-0 right-0 z-40 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 shadow-lg ${className} transition-[left] duration-200 ease-linear`}\n\t\t\tstyle={{\n\t\t\t\tleft: sidebarWidth,\n\t\t\t}}\n\t\t>\n\t\t\t<div className={fullWidth ? \"w-full px-6\" : \"w-full px-6\"}>\n\t\t\t\t<div className=\"w-full\">\n\t\t\t\t\t<div className=\"flex items-center justify-between gap-x-3 py-4 flex-wrap\">\n\t\t\t\t\t\t{/* Left side buttons */}\n\t\t\t\t\t\t<div className=\"flex items-center gap-x-3 flex-wrap\">\n\t\t\t\t\t\t\t{buttonConfigs\n\t\t\t\t\t\t\t\t.filter(\n\t\t\t\t\t\t\t\t\t(button) => !button.position || button.position === \"left\"\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.map((button, index) => {\n\t\t\t\t\t\t\t\t\tconst buttonElement = (\n\t\t\t\t\t\t\t\t\t\t<StyledButton\n\t\t\t\t\t\t\t\t\t\t\tlabel={button.label}\n\t\t\t\t\t\t\t\t\t\t\tonClick={button.onClick}\n\t\t\t\t\t\t\t\t\t\t\tintent={button.intent}\n\t\t\t\t\t\t\t\t\t\t\tsize={button.size}\n\t\t\t\t\t\t\t\t\t\t\ticon={button.icon}\n\t\t\t\t\t\t\t\t\t\t\tisLoading={button.isLoading}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={button.disabled}\n\t\t\t\t\t\t\t\t\t\t\ttype={button.type}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Fragment key={`left-${index}`}>\n\t\t\t\t\t\t\t\t\t\t\t{button.customComponent\n\t\t\t\t\t\t\t\t\t\t\t\t? button.customComponent(buttonElement)\n\t\t\t\t\t\t\t\t\t\t\t\t: buttonElement}\n\t\t\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Unsaved Changes Notification - Centered */}\n\t\t\t\t\t\t{isEditing && hasUnsavedChanges && (\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2.5 px-4 py-2 rounded-lg bg-yellow-100 dark:bg-yellow-900/40 border-2 border-yellow-400 dark:border-yellow-600 shrink-0 shadow-md animate-pulse\">\n\t\t\t\t\t\t\t\t<div className=\"w-2.5 h-2.5 bg-yellow-500 rounded-full shrink-0 animate-pulse\" />\n\t\t\t\t\t\t\t\t<div className=\"flex flex-col\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-semibold text-yellow-900 dark:text-yellow-100 leading-tight\">\n\t\t\t\t\t\t\t\t\t\tUnsaved changes\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xs font-medium text-yellow-800 dark:text-yellow-200 leading-tight\">\n\t\t\t\t\t\t\t\t\t\tSave or cancel your changes\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{/* Right side buttons */}\n\t\t\t\t\t\t<div className=\"flex items-center gap-x-3 flex-wrap\">\n\t\t\t\t\t\t\t{buttonConfigs\n\t\t\t\t\t\t\t\t.filter((button) => button.position === \"right\")\n\t\t\t\t\t\t\t\t.map((button, index) => {\n\t\t\t\t\t\t\t\t\tconst buttonElement = (\n\t\t\t\t\t\t\t\t\t\t<StyledButton\n\t\t\t\t\t\t\t\t\t\t\tlabel={button.label}\n\t\t\t\t\t\t\t\t\t\t\tonClick={button.onClick}\n\t\t\t\t\t\t\t\t\t\t\tintent={button.intent}\n\t\t\t\t\t\t\t\t\t\t\tsize={button.size}\n\t\t\t\t\t\t\t\t\t\t\ticon={button.icon}\n\t\t\t\t\t\t\t\t\t\t\tisLoading={button.isLoading}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={button.disabled}\n\t\t\t\t\t\t\t\t\t\t\ttype={button.type}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Fragment key={`right-${index}`}>\n\t\t\t\t\t\t\t\t\t\t\t{button.customComponent\n\t\t\t\t\t\t\t\t\t\t\t\t? button.customComponent(buttonElement)\n\t\t\t\t\t\t\t\t\t\t\t\t: buttonElement}\n\t\t\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAoCO,SAAS,iBAAiB,EAChC,OAAO,EACP,QAAQ,EACR,MAAM,EACN,aAAa,QAAQ,EACrB,WAAW,MAAM,EACjB,YAAY,KAAK,EACjB,YAAY,EAAE,EACd,YAAY,KAAK,EACjB,oBAAoB,KAAK,EACzB,YAAY,KAAK,EACM;IACvB,MAAM,UAAU,IAAA,gKAAU;IAE1B,yEAAyE;IACzE,MAAM,gBAAgC,WAAW;WAC5C,WACD;YACA;gBACC,OAAO;gBACP,SAAS;gBACT,QAAQ;gBACR,UAAU;YACX;SACA,GACA,EAAE;WACD,SACD;YACA;gBACC,OAAO,YAAY,cAAc;gBACjC,SAAS;gBACT,QAAQ;gBACR,MAAM;gBACN,UAAU;YACX;SACA,GACA,EAAE;KACL;IAED,IAAI,cAAc,MAAM,KAAK,GAAG,OAAO;IAEvC,yCAAyC;IACzC,MAAM,kBAAkB;QACvB,IAAI,CAAC,WAAW,QAAQ,QAAQ,EAAE,OAAO;QACzC,OAAO,QAAQ,KAAK,KAAK,aACtB,gCACA;IACJ;IAEA,8DAA8D;IAC9D,MAAM,eAAe;IAErB,qBACC,8OAAC;QACA,WAAW,CAAC,8GAA8G,EAAE,UAAU,2CAA2C,CAAC;QAClL,OAAO;YACN,MAAM;QACP;kBAEA,cAAA,8OAAC;YAAI,WAAW,YAAY,gBAAgB;sBAC3C,cAAA,8OAAC;gBAAI,WAAU;0BACd,cAAA,8OAAC;oBAAI,WAAU;;sCAEd,8OAAC;4BAAI,WAAU;sCACb,cACC,MAAM,CACN,CAAC,SAAW,CAAC,OAAO,QAAQ,IAAI,OAAO,QAAQ,KAAK,QAEpD,GAAG,CAAC,CAAC,QAAQ;gCACb,MAAM,8BACL,8OAAC,qLAAY;oCACZ,OAAO,OAAO,KAAK;oCACnB,SAAS,OAAO,OAAO;oCACvB,QAAQ,OAAO,MAAM;oCACrB,MAAM,OAAO,IAAI;oCACjB,MAAM,OAAO,IAAI;oCACjB,WAAW,OAAO,SAAS;oCAC3B,UAAU,OAAO,QAAQ;oCACzB,MAAM,OAAO,IAAI;;;;;;gCAGnB,qBACC,8OAAC,iNAAQ;8CACP,OAAO,eAAe,GACpB,OAAO,eAAe,CAAC,iBACvB;mCAHW,CAAC,KAAK,EAAE,OAAO;;;;;4BAMhC;;;;;;wBAID,aAAa,mCACb,8OAAC;4BAAI,WAAU;;8CACd,8OAAC;oCAAI,WAAU;;;;;;8CACf,8OAAC;oCAAI,WAAU;;sDACd,8OAAC;4CAAE,WAAU;sDAA2E;;;;;;sDAGxF,8OAAC;4CAAE,WAAU;sDAAyE;;;;;;;;;;;;;;;;;;sCAQzF,8OAAC;4BAAI,WAAU;sCACb,cACC,MAAM,CAAC,CAAC,SAAW,OAAO,QAAQ,KAAK,SACvC,GAAG,CAAC,CAAC,QAAQ;gCACb,MAAM,8BACL,8OAAC,qLAAY;oCACZ,OAAO,OAAO,KAAK;oCACnB,SAAS,OAAO,OAAO;oCACvB,QAAQ,OAAO,MAAM;oCACrB,MAAM,OAAO,IAAI;oCACjB,MAAM,OAAO,IAAI;oCACjB,WAAW,OAAO,SAAS;oCAC3B,UAAU,OAAO,QAAQ;oCACzB,MAAM,OAAO,IAAI;;;;;;gCAGnB,qBACC,8OAAC,iNAAQ;8CACP,OAAO,eAAe,GACpB,OAAO,eAAe,CAAC,iBACvB;mCAHW,CAAC,MAAM,EAAE,OAAO;;;;;4BAMjC;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOR"}},
    {"offset": {"line": 1224, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/ui/button-group.tsx"],"sourcesContent":["import { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Separator } from \"@/components/ui/separator\"\n\nconst buttonGroupVariants = cva(\n  \"flex w-fit items-stretch [&>*]:focus-visible:z-10 [&>*]:focus-visible:relative [&>[data-slot=select-trigger]:not([class*='w-'])]:w-fit [&>input]:flex-1 has-[select[aria-hidden=true]:last-child]:[&>[data-slot=select-trigger]:last-of-type]:rounded-r-md has-[>[data-slot=button-group]]:gap-2\",\n  {\n    variants: {\n      orientation: {\n        horizontal:\n          \"[&>*:not(:first-child)]:rounded-l-none [&>*:not(:first-child)]:border-l-0 [&>*:not(:last-child)]:rounded-r-none\",\n        vertical:\n          \"flex-col [&>*:not(:first-child)]:rounded-t-none [&>*:not(:first-child)]:border-t-0 [&>*:not(:last-child)]:rounded-b-none\",\n      },\n    },\n    defaultVariants: {\n      orientation: \"horizontal\",\n    },\n  }\n)\n\nfunction ButtonGroup({\n  className,\n  orientation,\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof buttonGroupVariants>) {\n  return (\n    <div\n      role=\"group\"\n      data-slot=\"button-group\"\n      data-orientation={orientation}\n      className={cn(buttonGroupVariants({ orientation }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction ButtonGroupText({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  asChild?: boolean\n}) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      className={cn(\n        \"bg-muted flex items-center gap-2 rounded-md border px-4 text-sm font-medium shadow-xs [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ButtonGroupSeparator({\n  className,\n  orientation = \"vertical\",\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"button-group-separator\"\n      orientation={orientation}\n      className={cn(\n        \"bg-input relative !m-0 self-stretch data-[orientation=vertical]:h-auto\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  ButtonGroup,\n  ButtonGroupSeparator,\n  ButtonGroupText,\n  buttonGroupVariants,\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;AACA;AAEA;AACA;;;;;;AAEA,MAAM,sBAAsB,IAAA,uKAAG,EAC7B,oSACA;IACE,UAAU;QACR,aAAa;YACX,YACE;YACF,UACE;QACJ;IACF;IACA,iBAAiB;QACf,aAAa;IACf;AACF;AAGF,SAAS,YAAY,EACnB,SAAS,EACT,WAAW,EACX,GAAG,OACoE;IACvE,qBACE,8OAAC;QACC,MAAK;QACL,aAAU;QACV,oBAAkB;QAClB,WAAW,IAAA,wIAAE,EAAC,oBAAoB;YAAE;QAAY,IAAI;QACnD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EACvB,SAAS,EACT,UAAU,KAAK,EACf,GAAG,OAGJ;IACC,MAAM,OAAO,UAAU,uLAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,WAAW,IAAA,wIAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,qBAAqB,EAC5B,SAAS,EACT,cAAc,UAAU,EACxB,GAAG,OACoC;IACvC,qBACE,8OAAC,iKAAS;QACR,aAAU;QACV,aAAa;QACb,WAAW,IAAA,wIAAE,EACX,0EACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 1298, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/ui/styled/styled-card.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport {\n\tCard,\n\tCardHeader,\n\tCardFooter,\n\tCardTitle,\n\tCardAction,\n\tCardDescription,\n\tCardContent,\n} from \"@/components/ui/card\";\nimport { cn } from \"@/lib/utils\";\n\n/**\n * StyledCard - A wrapper around the base Card component with consistent glassmorphism styling\n */\nexport function StyledCard({\n\tclassName,\n\tchildren,\n\t...props\n}: React.ComponentProps<typeof Card>) {\n\treturn (\n\t\t<Card\n\t\t\tclassName={cn(\n\t\t\t\t\"group relative backdrop-blur-md overflow-hidden ring-1 ring-border/20 dark:ring-border/40\",\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\t{...props}\n\t\t>\n\t\t\t{/* Glassmorphism gradient overlay */}\n\t\t\t<div className=\"absolute inset-0 bg-linear-to-br from-white/10 via-white/5 to-transparent dark:from-white/5 dark:via-white/2 dark:to-transparent rounded-2xl pointer-events-none\" />\n\t\t\t<div className=\"relative z-10\">{children}</div>\n\t\t</Card>\n\t);\n}\n\nexport function StyledCardHeader({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof CardHeader>) {\n\treturn <CardHeader className={cn(\"relative z-10\", className)} {...props} />;\n}\n\nexport function StyledCardTitle({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof CardTitle>) {\n\treturn <CardTitle className={cn(\"relative z-10\", className)} {...props} />;\n}\n\nexport function StyledCardDescription({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof CardDescription>) {\n\treturn (\n\t\t<CardDescription className={cn(\"relative z-10\", className)} {...props} />\n\t);\n}\n\nexport function StyledCardContent({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof CardContent>) {\n\treturn <CardContent className={cn(\"relative z-10\", className)} {...props} />;\n}\n\nexport function StyledCardFooter({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof CardFooter>) {\n\treturn <CardFooter className={cn(\"relative z-10\", className)} {...props} />;\n}\n\nexport function StyledCardAction({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof CardAction>) {\n\treturn <CardAction className={cn(\"relative z-10\", className)} {...props} />;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAGA;AASA;AAZA;;;;AAiBO,SAAS,WAAW,EAC1B,SAAS,EACT,QAAQ,EACR,GAAG,OACgC;IACnC,qBACC,8OAAC,uJAAI;QACJ,WAAW,IAAA,wIAAE,EACZ,6FACA;QAEA,GAAG,KAAK;;0BAGT,8OAAC;gBAAI,WAAU;;;;;;0BACf,8OAAC;gBAAI,WAAU;0BAAiB;;;;;;;;;;;;AAGnC;AAEO,SAAS,iBAAiB,EAChC,SAAS,EACT,GAAG,OACsC;IACzC,qBAAO,8OAAC,6JAAU;QAAC,WAAW,IAAA,wIAAE,EAAC,iBAAiB;QAAa,GAAG,KAAK;;;;;;AACxE;AAEO,SAAS,gBAAgB,EAC/B,SAAS,EACT,GAAG,OACqC;IACxC,qBAAO,8OAAC,4JAAS;QAAC,WAAW,IAAA,wIAAE,EAAC,iBAAiB;QAAa,GAAG,KAAK;;;;;;AACvE;AAEO,SAAS,sBAAsB,EACrC,SAAS,EACT,GAAG,OAC2C;IAC9C,qBACC,8OAAC,kKAAe;QAAC,WAAW,IAAA,wIAAE,EAAC,iBAAiB;QAAa,GAAG,KAAK;;;;;;AAEvE;AAEO,SAAS,kBAAkB,EACjC,SAAS,EACT,GAAG,OACuC;IAC1C,qBAAO,8OAAC,8JAAW;QAAC,WAAW,IAAA,wIAAE,EAAC,iBAAiB;QAAa,GAAG,KAAK;;;;;;AACzE;AAEO,SAAS,iBAAiB,EAChC,SAAS,EACT,GAAG,OACsC;IACzC,qBAAO,8OAAC,6JAAU;QAAC,WAAW,IAAA,wIAAE,EAAC,iBAAiB;QAAa,GAAG,KAAK;;;;;;AACxE;AAEO,SAAS,iBAAiB,EAChC,SAAS,EACT,GAAG,OACsC;IACzC,qBAAO,8OAAC,6JAAU;QAAC,WAAW,IAAA,wIAAE,EAAC,iBAAiB;QAAa,GAAG,KAAK;;;;;;AACxE"}},
    {"offset": {"line": 1412, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/ui/styled/styled-input.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { Input } from \"@/components/ui/input\";\nimport { cn } from \"@/lib/utils\";\n\n/**\n * StyledInput - A wrapper around the base Input component with consistent styling\n */\nexport function StyledInput({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof Input>) {\n\treturn (\n\t\t<Input\n\t\t\tclassName={cn(\n\t\t\t\t\"transition-all duration-200 focus:ring-2 focus:ring-primary/20 dark:focus:ring-primary/30\",\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAJA;;;;AASO,SAAS,YAAY,EAC3B,SAAS,EACT,GAAG,OACiC;IACpC,qBACC,8OAAC,yJAAK;QACL,WAAW,IAAA,wIAAE,EACZ,6FACA;QAEA,GAAG,KAAK;;;;;;AAGZ"}},
    {"offset": {"line": 1437, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/ui/styled/styled-badge.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { Badge, badgeVariants } from \"@/components/ui/badge\";\nimport { cn } from \"@/lib/utils\";\nimport type { VariantProps } from \"class-variance-authority\";\n\n/**\n * StyledBadge - A wrapper around the base Badge component with consistent styling\n * Maintains all variant functionality from the base component\n */\nexport function StyledBadge({\n\tclassName,\n\tvariant,\n\t...props\n}: React.ComponentProps<\"span\"> & VariantProps<typeof badgeVariants>) {\n\treturn (\n\t\t<Badge\n\t\t\tclassName={cn(\"transition-all duration-200\", className)}\n\t\t\tvariant={variant}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport { badgeVariants };\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAJA;;;;AAWO,SAAS,YAAY,EAC3B,SAAS,EACT,OAAO,EACP,GAAG,OACgE;IACnE,qBACC,8OAAC,yJAAK;QACL,WAAW,IAAA,wIAAE,EAAC,+BAA+B;QAC7C,SAAS;QACR,GAAG,KAAK;;;;;;AAGZ"}},
    {"offset": {"line": 1464, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/ui/table.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Table({ className, ...props }: React.ComponentProps<\"table\">) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn(\"w-full caption-bottom text-sm\", className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<\"thead\">) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn(\"[&_tr]:border-b\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<\"tbody\">) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn(\"[&_tr:last-child]:border-0\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<\"tfoot\">) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        \"bg-muted/50 border-t font-medium [&>tr]:last:border-b-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<\"tr\">) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        \"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<\"th\">) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        \"text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<\"td\">) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        \"p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<\"caption\">) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn(\"text-muted-foreground mt-4 text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;AAJA;;;AAMA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAsC;IACnE,qBACE,8OAAC;QACC,aAAU;QACV,WAAU;kBAEV,cAAA,8OAAC;YACC,aAAU;YACV,WAAW,IAAA,wIAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIjB;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAsC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAmC;IACnE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,sJACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC6B;IAChC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 1588, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/ui/styled/styled-table.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport {\n\tTable,\n\tTableHeader,\n\tTableBody,\n\tTableFooter,\n\tTableHead,\n\tTableRow,\n\tTableCell,\n\tTableCaption,\n} from \"@/components/ui/table\";\nimport { cn } from \"@/lib/utils\";\n\n/**\n * StyledTable - A wrapper around the base Table component with consistent styling\n */\nexport function StyledTable({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof Table>) {\n\treturn (\n\t\t<Table\n\t\t\tclassName={cn(\"rounded-lg border overflow-hidden\", className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport function StyledTableHeader({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof TableHeader>) {\n\treturn (\n\t\t<TableHeader\n\t\t\tclassName={cn(\"bg-muted/50 sticky top-0 z-10\", className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport function StyledTableBody({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof TableBody>) {\n\treturn <TableBody className={cn(\"\", className)} {...props} />;\n}\n\nexport function StyledTableRow({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof TableRow>) {\n\treturn (\n\t\t<TableRow\n\t\t\tclassName={cn(\"transition-colors hover:bg-muted/30\", className)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport function StyledTableHead({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof TableHead>) {\n\treturn <TableHead className={cn(\"font-semibold\", className)} {...props} />;\n}\n\nexport function StyledTableCell({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof TableCell>) {\n\treturn <TableCell className={cn(\"\", className)} {...props} />;\n}\n\nexport function StyledTableFooter({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof TableFooter>) {\n\treturn <TableFooter className={cn(\"\", className)} {...props} />;\n}\n\nexport function StyledTableCaption({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof TableCaption>) {\n\treturn <TableCaption className={cn(\"\", className)} {...props} />;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAGA;AAUA;AAbA;;;;AAkBO,SAAS,YAAY,EAC3B,SAAS,EACT,GAAG,OACiC;IACpC,qBACC,8OAAC,yJAAK;QACL,WAAW,IAAA,wIAAE,EAAC,qCAAqC;QAClD,GAAG,KAAK;;;;;;AAGZ;AAEO,SAAS,kBAAkB,EACjC,SAAS,EACT,GAAG,OACuC;IAC1C,qBACC,8OAAC,+JAAW;QACX,WAAW,IAAA,wIAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGZ;AAEO,SAAS,gBAAgB,EAC/B,SAAS,EACT,GAAG,OACqC;IACxC,qBAAO,8OAAC,6JAAS;QAAC,WAAW,IAAA,wIAAE,EAAC,IAAI;QAAa,GAAG,KAAK;;;;;;AAC1D;AAEO,SAAS,eAAe,EAC9B,SAAS,EACT,GAAG,OACoC;IACvC,qBACC,8OAAC,4JAAQ;QACR,WAAW,IAAA,wIAAE,EAAC,uCAAuC;QACpD,GAAG,KAAK;;;;;;AAGZ;AAEO,SAAS,gBAAgB,EAC/B,SAAS,EACT,GAAG,OACqC;IACxC,qBAAO,8OAAC,6JAAS;QAAC,WAAW,IAAA,wIAAE,EAAC,iBAAiB;QAAa,GAAG,KAAK;;;;;;AACvE;AAEO,SAAS,gBAAgB,EAC/B,SAAS,EACT,GAAG,OACqC;IACxC,qBAAO,8OAAC,6JAAS;QAAC,WAAW,IAAA,wIAAE,EAAC,IAAI;QAAa,GAAG,KAAK;;;;;;AAC1D;AAEO,SAAS,kBAAkB,EACjC,SAAS,EACT,GAAG,OACuC;IAC1C,qBAAO,8OAAC,+JAAW;QAAC,WAAW,IAAA,wIAAE,EAAC,IAAI;QAAa,GAAG,KAAK;;;;;;AAC5D;AAEO,SAAS,mBAAmB,EAClC,SAAS,EACT,GAAG,OACwC;IAC3C,qBAAO,8OAAC,gKAAY;QAAC,WAAW,IAAA,wIAAE,EAAC,IAAI;QAAa,GAAG,KAAK;;;;;;AAC7D"}},
    {"offset": {"line": 1697, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/lib/primitive.ts"],"sourcesContent":["\"use client\"\n\nimport { composeRenderProps } from \"react-aria-components\"\nimport { type ClassNameValue, twMerge } from \"tailwind-merge\"\n\n/** @deprecated Use cx */\nexport function composeTailwindRenderProps<T>(\n  className: string | ((v: T) => string) | undefined,\n  tailwind: ClassNameValue,\n): string | ((v: T) => string) {\n  return composeRenderProps(className, (className) => twMerge(tailwind, className))\n}\n\ntype Render<T> = string | ((v: T) => string) | undefined\n\ntype CxArgs<T> = [...ClassNameValue[], Render<T>] | [[...ClassNameValue[], Render<T>]]\n\nexport function cx<T = unknown>(...args: CxArgs<T>): string | ((v: T) => string) {\n  let resolvedArgs = args\n  if (args.length === 1 && Array.isArray(args[0])) {\n    resolvedArgs = args[0] as [...ClassNameValue[], Render<T>]\n  }\n\n  const className = resolvedArgs.pop() as Render<T>\n  const tailwinds = resolvedArgs as ClassNameValue[]\n\n  const fixed = twMerge(...tailwinds)\n\n  return composeRenderProps(className, (cn) => twMerge(fixed, cn))\n}\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAHA;;;AAMO,SAAS,2BACd,SAAkD,EAClD,QAAwB;IAExB,OAAO,IAAA,mLAAkB,EAAC,WAAW,CAAC,YAAc,IAAA,sKAAO,EAAC,UAAU;AACxE;AAMO,SAAS,GAAgB,GAAG,IAAe;IAChD,IAAI,eAAe;IACnB,IAAI,KAAK,MAAM,KAAK,KAAK,MAAM,OAAO,CAAC,IAAI,CAAC,EAAE,GAAG;QAC/C,eAAe,IAAI,CAAC,EAAE;IACxB;IAEA,MAAM,YAAY,aAAa,GAAG;IAClC,MAAM,YAAY;IAElB,MAAM,QAAQ,IAAA,sKAAO,KAAI;IAEzB,OAAO,IAAA,mLAAkB,EAAC,WAAW,CAAC,KAAO,IAAA,sKAAO,EAAC,OAAO;AAC9D"}},
    {"offset": {"line": 1725, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\";\n\nimport { IconX } from \"@intentui/icons\";\nimport { useEffect, useRef } from \"react\";\nimport type { HeadingProps, TextProps } from \"react-aria-components\";\nimport {\n\tButton as ButtonPrimitive,\n\tDialog as DialogPrimitive,\n\tHeading,\n\tText,\n} from \"react-aria-components\";\nimport { twMerge } from \"tailwind-merge\";\nimport { composeTailwindRenderProps } from \"@/lib/primitive\";\nimport { Button, type ButtonProps } from \"./button\";\n\nconst Dialog = ({\n\trole = \"dialog\",\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof DialogPrimitive>) => {\n\treturn (\n\t\t<DialogPrimitive\n\t\t\trole={role}\n\t\t\tclassName={twMerge(\n\t\t\t\t\"peer/dialog group/dialog relative flex max-h-[inherit] flex-col overflow-hidden outline-hidden bg-white dark:bg-gray-900 [--gutter:--spacing(6)] sm:[--gutter:--spacing(8)]\",\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n};\n\nconst DialogTrigger = (props: React.ComponentProps<typeof ButtonPrimitive>) => (\n\t<ButtonPrimitive {...props} />\n);\n\ninterface DialogHeaderProps extends Omit<React.ComponentProps<\"div\">, \"title\"> {\n\ttitle?: string;\n\tdescription?: string;\n}\n\nconst DialogHeader = ({ className, ...props }: DialogHeaderProps) => {\n\tconst headerRef = useRef<HTMLHeadingElement>(null);\n\n\tuseEffect(() => {\n\t\tconst header = headerRef.current;\n\t\tif (!header) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst observer = new ResizeObserver((entries) => {\n\t\t\tfor (const entry of entries) {\n\t\t\t\theader.parentElement?.style.setProperty(\n\t\t\t\t\t\"--dialog-header-height\",\n\t\t\t\t\t`${entry.target.clientHeight}px`\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\t\tobserver.observe(header);\n\t\treturn () => observer.unobserve(header);\n\t}, []);\n\n\treturn (\n\t\t<div\n\t\t\tdata-slot=\"dialog-header\"\n\t\t\tref={headerRef}\n\t\t\tclassName={twMerge(\n\t\t\t\t\"relative space-y-1 p-(--gutter) pb-[calc(var(--gutter)---spacing(3))]\",\n\t\t\t\tclassName\n\t\t\t)}\n\t\t>\n\t\t\t{props.title && <DialogTitle>{props.title}</DialogTitle>}\n\t\t\t{props.description && (\n\t\t\t\t<DialogDescription>{props.description}</DialogDescription>\n\t\t\t)}\n\t\t\t{!props.title && typeof props.children === \"string\" ? (\n\t\t\t\t<DialogTitle {...props} />\n\t\t\t) : (\n\t\t\t\tprops.children\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\ninterface DialogTitleProps extends HeadingProps {\n\tref?: React.Ref<HTMLHeadingElement>;\n}\nconst DialogTitle = ({ className, ref, ...props }: DialogTitleProps) => (\n\t<Heading\n\t\tslot=\"title\"\n\t\tref={ref}\n\t\tclassName={twMerge(\n\t\t\t\"text-balance font-semibold text-fg text-lg/6 sm:text-base/6\",\n\t\t\tclassName\n\t\t)}\n\t\t{...props}\n\t/>\n);\n\ninterface DialogDescriptionProps extends TextProps {\n\tref?: React.Ref<HTMLDivElement>;\n}\nconst DialogDescription = ({\n\tclassName,\n\tref,\n\t...props\n}: DialogDescriptionProps) => (\n\t<Text\n\t\tslot=\"description\"\n\t\tclassName={twMerge(\n\t\t\t\"text-pretty text-base/6 text-muted-fg group-disabled:opacity-50 sm:text-sm/6\",\n\t\t\tclassName\n\t\t)}\n\t\tref={ref}\n\t\t{...props}\n\t/>\n);\n\ntype DialogBodyProps = React.ComponentProps<\"div\">;\nconst DialogBody = ({ className, ref, ...props }: DialogBodyProps) => (\n\t<div\n\t\tdata-slot=\"dialog-body\"\n\t\tref={ref}\n\t\tclassName={twMerge(\n\t\t\t\"flex max-h-[calc(var(--visual-viewport-height)-var(--visual-viewport-vertical-padding)-var(--dialog-header-height,0px)-var(--dialog-footer-height,0px))] flex-1 flex-col overflow-auto px-(--gutter) py-1\",\n\t\t\tclassName\n\t\t)}\n\t\t{...props}\n\t/>\n);\n\ntype DialogFooterProps = React.ComponentProps<\"div\">;\nconst DialogFooter = ({ className, ...props }: DialogFooterProps) => {\n\tconst footerRef = useRef<HTMLDivElement>(null);\n\n\tuseEffect(() => {\n\t\tconst footer = footerRef.current;\n\n\t\tif (!footer) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst observer = new ResizeObserver((entries) => {\n\t\t\tfor (const entry of entries) {\n\t\t\t\tfooter.parentElement?.style.setProperty(\n\t\t\t\t\t\"--dialog-footer-height\",\n\t\t\t\t\t`${entry.target.clientHeight}px`\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\t\tobserver.observe(footer);\n\t\treturn () => {\n\t\t\tobserver.unobserve(footer);\n\t\t};\n\t}, []);\n\treturn (\n\t\t<div\n\t\t\tref={footerRef}\n\t\t\tdata-slot=\"dialog-footer\"\n\t\t\tclassName={twMerge(\n\t\t\t\t\"mt-auto flex flex-col-reverse justify-between gap-3 p-(--gutter) pt-[calc(var(--gutter)---spacing(3))] group-not-has-data-[slot=dialog-body]/dialog:pt-0 group-not-has-data-[slot=dialog-body]/popover:pt-0 sm:flex-row\",\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n};\n\nconst DialogClose = ({\n\tclassName,\n\tintent = \"outline\",\n\tref,\n\t...props\n}: ButtonProps) => {\n\treturn (\n\t\t<Button\n\t\t\tslot=\"close\"\n\t\t\tclassName={className}\n\t\t\tref={ref}\n\t\t\tintent={intent}\n\t\t\t{...props}\n\t\t/>\n\t);\n};\n\ninterface CloseButtonIndicatorProps extends Omit<ButtonProps, \"children\"> {\n\tclassName?: string;\n\tisDismissable?: boolean | undefined;\n}\n\nconst DialogCloseIcon = ({\n\tclassName,\n\t...props\n}: CloseButtonIndicatorProps) => {\n\treturn props.isDismissable ? (\n\t\t<ButtonPrimitive\n\t\t\taria-label=\"Close\"\n\t\t\tslot=\"close\"\n\t\t\tclassName={composeTailwindRenderProps(\n\t\t\t\tclassName,\n\t\t\t\t\"close absolute top-1 right-1 z-50 grid size-8 place-content-center rounded-xl hover:bg-secondary focus:bg-secondary focus:outline-hidden focus-visible:ring-1 focus-visible:ring-primary sm:top-2 sm:right-2 sm:size-7 sm:rounded-md\"\n\t\t\t)}\n\t\t>\n\t\t\t<IconX className=\"size-4\" />\n\t\t</ButtonPrimitive>\n\t) : null;\n};\n\nexport type {\n\tDialogHeaderProps,\n\tDialogTitleProps,\n\tDialogBodyProps,\n\tDialogFooterProps,\n\tDialogDescriptionProps,\n\tCloseButtonIndicatorProps,\n};\nexport {\n\tDialog,\n\tDialogClose,\n\tDialogTrigger,\n\tDialogHeader,\n\tDialogTitle,\n\tDialogDescription,\n\tDialogBody,\n\tDialogFooter,\n\tDialogCloseIcon,\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1923, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/ui/styled/styled-dialog.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport {\n\tDialog,\n\tDialogHeader,\n\tDialogTitle,\n\tDialogDescription,\n\tDialogBody,\n\tDialogFooter,\n\tDialogTrigger,\n\tDialogClose,\n\tDialogCloseIcon,\n\ttype DialogHeaderProps,\n\ttype DialogTitleProps,\n\ttype DialogBodyProps,\n\ttype DialogFooterProps,\n\ttype DialogDescriptionProps,\n} from \"@/components/ui/dialog\";\nimport { cn } from \"@/lib/utils\";\n\n/**\n * StyledDialog - A wrapper around the base Dialog component with consistent styling\n * Note: Dialog uses react-aria-components and has a complex structure\n * This wrapper adds consistent backdrop blur and styling\n */\nexport function StyledDialog({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof Dialog>) {\n\treturn (\n\t\t<Dialog\n\t\t\tclassName={cn(\n\t\t\t\t\"backdrop-blur-xl bg-background/95 dark:bg-background/95\",\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport function StyledDialogHeader({\n\tclassName,\n\t...props\n}: DialogHeaderProps) {\n\treturn (\n\t\t<DialogHeader\n\t\t\tclassName={cn(\n\t\t\t\t\"border-b border-border/40\",\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport function StyledDialogTitle({\n\tclassName,\n\t...props\n}: DialogTitleProps) {\n\treturn (\n\t\t<DialogTitle\n\t\t\tclassName={cn(\n\t\t\t\t\"font-semibold\",\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport function StyledDialogDescription({\n\tclassName,\n\t...props\n}: DialogDescriptionProps) {\n\treturn (\n\t\t<DialogDescription\n\t\t\tclassName={cn(\n\t\t\t\t\"text-muted-foreground\",\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport function StyledDialogBody({\n\tclassName,\n\t...props\n}: DialogBodyProps) {\n\treturn (\n\t\t<DialogBody\n\t\t\tclassName={cn(\n\t\t\t\t\"\",\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport function StyledDialogFooter({\n\tclassName,\n\t...props\n}: DialogFooterProps) {\n\treturn (\n\t\t<DialogFooter\n\t\t\tclassName={cn(\n\t\t\t\t\"border-t border-border/40\",\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\n// Re-export other dialog components as-is\nexport {\n\tDialogTrigger,\n\tDialogClose,\n\tDialogCloseIcon,\n};\n\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAGA;AAgBA;AAnBA;;;;AA0BO,SAAS,aAAa,EAC5B,SAAS,EACT,GAAG,OACkC;IACrC,qBACC,8OAAC,2JAAM;QACN,WAAW,IAAA,wIAAE,EACZ,2DACA;QAEA,GAAG,KAAK;;;;;;AAGZ;AAEO,SAAS,mBAAmB,EAClC,SAAS,EACT,GAAG,OACgB;IACnB,qBACC,8OAAC,iKAAY;QACZ,WAAW,IAAA,wIAAE,EACZ,6BACA;QAEA,GAAG,KAAK;;;;;;AAGZ;AAEO,SAAS,kBAAkB,EACjC,SAAS,EACT,GAAG,OACe;IAClB,qBACC,8OAAC,gKAAW;QACX,WAAW,IAAA,wIAAE,EACZ,iBACA;QAEA,GAAG,KAAK;;;;;;AAGZ;AAEO,SAAS,wBAAwB,EACvC,SAAS,EACT,GAAG,OACqB;IACxB,qBACC,8OAAC,sKAAiB;QACjB,WAAW,IAAA,wIAAE,EACZ,yBACA;QAEA,GAAG,KAAK;;;;;;AAGZ;AAEO,SAAS,iBAAiB,EAChC,SAAS,EACT,GAAG,OACc;IACjB,qBACC,8OAAC,+JAAU;QACV,WAAW,IAAA,wIAAE,EACZ,IACA;QAEA,GAAG,KAAK;;;;;;AAGZ;AAEO,SAAS,mBAAmB,EAClC,SAAS,EACT,GAAG,OACgB;IACnB,qBACC,8OAAC,iKAAY;QACZ,WAAW,IAAA,wIAAE,EACZ,6BACA;QAEA,GAAG,KAAK;;;;;;AAGZ"}},
    {"offset": {"line": 2009, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn(\"flex flex-col gap-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        \"bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn(\"flex-1 outline-none\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,8OAAC,wKAAkB;QACjB,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,8OAAC,wKAAkB;QACjB,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,mqBACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 2075, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/ui/styled/styled-tabs.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from \"@/components/ui/tabs\";\nimport { cn } from \"@/lib/utils\";\n\n/**\n * StyledTabs - A wrapper around the base Tabs component with consistent styling\n * that matches the app's design system (similar to StyledButton and Badge)\n */\nexport function StyledTabs({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof Tabs>) {\n\treturn <Tabs className={cn(\"w-full\", className)} {...props} />;\n}\n\nexport function StyledTabsList({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof TabsList>) {\n\treturn (\n\t\t<TabsList\n\t\t\tclassName={cn(\n\t\t\t\t\"bg-background/80 dark:bg-background/60\",\n\t\t\t\t\"ring-1 ring-border/40 dark:ring-border/30\",\n\t\t\t\t\"backdrop-blur-sm\",\n\t\t\t\t\"shadow-sm\",\n\t\t\t\t\"p-0 gap-0 rounded-lg\",\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport function StyledTabsTrigger({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof TabsTrigger>) {\n\treturn (\n\t\t<TabsTrigger\n\t\t\tclassName={cn(\n\t\t\t\t// Smooth transitions\n\t\t\t\t\"transition-all duration-200\",\n\t\t\t\t// Active state - clean and prominent\n\t\t\t\t\"data-[state=active]:bg-primary/10 dark:data-[state=active]:bg-primary/20\",\n\t\t\t\t\"data-[state=active]:text-primary dark:data-[state=active]:text-primary-foreground\",\n\t\t\t\t\"data-[state=active]:ring-1 data-[state=active]:ring-primary/30 dark:data-[state=active]:ring-primary/40\",\n\t\t\t\t\"data-[state=active]:shadow-sm\",\n\t\t\t\t// Hover state\n\t\t\t\t\"hover:bg-accent/30 hover:text-accent-foreground\",\n\t\t\t\t// Font styling\n\t\t\t\t\"font-medium\",\n\t\t\t\t// Tighter padding for button group feel\n\t\t\t\t\"px-3 py-1.5\",\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n\nexport function StyledTabsContent({\n\tclassName,\n\t...props\n}: React.ComponentProps<typeof TabsContent>) {\n\treturn (\n\t\t<TabsContent\n\t\t\tclassName={cn(\n\t\t\t\t// Smooth content transition\n\t\t\t\t\"mt-6 animate-in fade-in-50 duration-200\",\n\t\t\t\tclassName\n\t\t\t)}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AACA;AAJA;;;;AAUO,SAAS,WAAW,EAC1B,SAAS,EACT,GAAG,OACgC;IACnC,qBAAO,8OAAC,uJAAI;QAAC,WAAW,IAAA,wIAAE,EAAC,UAAU;QAAa,GAAG,KAAK;;;;;;AAC3D;AAEO,SAAS,eAAe,EAC9B,SAAS,EACT,GAAG,OACoC;IACvC,qBACC,8OAAC,2JAAQ;QACR,WAAW,IAAA,wIAAE,EACZ,0CACA,6CACA,oBACA,aACA,wBACA;QAEA,GAAG,KAAK;;;;;;AAGZ;AAEO,SAAS,kBAAkB,EACjC,SAAS,EACT,GAAG,OACuC;IAC1C,qBACC,8OAAC,8JAAW;QACX,WAAW,IAAA,wIAAE,EACZ,qBAAqB;QACrB,+BACA,qCAAqC;QACrC,4EACA,qFACA,2GACA,iCACA,cAAc;QACd,mDACA,eAAe;QACf,eACA,wCAAwC;QACxC,eACA;QAEA,GAAG,KAAK;;;;;;AAGZ;AAEO,SAAS,kBAAkB,EACjC,SAAS,EACT,GAAG,OACuC;IAC1C,qBACC,8OAAC,8JAAW;QACX,WAAW,IAAA,wIAAE,EACZ,4BAA4B;QAC5B,2CACA;QAEA,GAAG,KAAK;;;;;;AAGZ"}},
    {"offset": {"line": 2142, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/ui/styled/styled-tags-input.tsx"],"sourcesContent":["\"use client\";\n\nimport { cn } from \"@/lib/utils\";\nimport React, { useState, useRef, useEffect } from \"react\";\n\ninterface StyledTagsInputProps {\n\ttags: string[];\n\tsetTags: React.Dispatch<React.SetStateAction<string[]>>;\n\tonTagAdded?: (tag: string) => void;\n\tonTagRemoved?: (tag: string) => void;\n\teditTag?: boolean;\n\tclassName?: string;\n\tplaceholder?: string;\n\tdisabled?: boolean;\n}\n\nexport const StyledTagsInput: React.FC<StyledTagsInputProps> = ({\n\ttags,\n\tsetTags,\n\tonTagAdded,\n\tonTagRemoved,\n\teditTag = true,\n\tclassName,\n\tplaceholder = \"Add a tag...\",\n\tdisabled = false,\n}) => {\n\tconst [input, setInput] = useState(\"\");\n\tconst [editingIndex, setEditingIndex] = useState<number | null>(null);\n\tconst editInputRef = useRef<HTMLInputElement>(null);\n\n\tconst handleAddTag = (e: React.KeyboardEvent<HTMLInputElement>) => {\n\t\tconst trimmedInput = input.trim();\n\n\t\tif ((e.key === \"Enter\" || e.key === \",\") && trimmedInput) {\n\t\t\te.preventDefault();\n\t\t\tif (editingIndex !== null) {\n\t\t\t\tconst updatedTags = [...tags];\n\t\t\t\tconst oldTag = tags[editingIndex];\n\t\t\t\tupdatedTags[editingIndex] = trimmedInput;\n\t\t\t\tsetTags(updatedTags);\n\t\t\t\tsetEditingIndex(null);\n\t\t\t\tif (oldTag !== trimmedInput) {\n\t\t\t\t\tonTagAdded?.(trimmedInput);\n\t\t\t\t}\n\t\t\t} else if (!tags.includes(trimmedInput)) {\n\t\t\t\tsetTags([...tags, trimmedInput]);\n\t\t\t\tonTagAdded?.(trimmedInput);\n\t\t\t}\n\t\t\tsetInput(\"\");\n\t\t}\n\t};\n\n\tconst handleRemoveTag = (tag: string) => {\n\t\tsetTags(tags.filter((t) => t !== tag));\n\t\tif (editingIndex !== null) {\n\t\t\tsetEditingIndex(null);\n\t\t}\n\t\tonTagRemoved?.(tag);\n\t};\n\n\tconst handleEditTag = (index: number) => {\n\t\tif (editTag && !disabled) {\n\t\t\tsetInput(tags[index]);\n\t\t\tsetEditingIndex(index);\n\t\t\tsetTimeout(() => editInputRef.current?.focus(), 0);\n\t\t}\n\t};\n\n\tconst handleBlur = () => {\n\t\tif (editingIndex !== null) {\n\t\t\tconst updatedTags = [...tags];\n\t\t\tconst trimmedInput = input.trim();\n\t\t\tif (trimmedInput) {\n\t\t\t\tupdatedTags[editingIndex] = trimmedInput;\n\t\t\t} else {\n\t\t\t\tupdatedTags.splice(editingIndex, 1);\n\t\t\t}\n\t\t\tsetTags(updatedTags);\n\t\t\tsetEditingIndex(null);\n\t\t}\n\t\tsetInput(\"\");\n\t};\n\n\tuseEffect(() => {\n\t\tif (editInputRef.current) {\n\t\t\teditInputRef.current.style.width = `${input.length + 1}ch`;\n\t\t}\n\t}, [input]);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\n\t\t\t\t\"flex flex-wrap w-full items-center gap-2 p-3 rounded-lg border transition-colors\",\n\t\t\t\t\"bg-white dark:bg-gray-900/50\",\n\t\t\t\t\"border-gray-200 dark:border-white/10\",\n\t\t\t\t!disabled && \"focus-within:border-primary focus-within:ring-1 focus-within:ring-primary/20\",\n\t\t\t\tclassName\n\t\t\t)}\n\t\t>\n\t\t\t{tags.map((tag, index) => (\n\t\t\t\t<div key={`${tag}-${index}`} className=\"relative\">\n\t\t\t\t\t{editTag && editingIndex === index ? (\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tref={editInputRef}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={input}\n\t\t\t\t\t\t\tonChange={(e) => setInput(e.target.value)}\n\t\t\t\t\t\t\tonKeyDown={handleAddTag}\n\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\"px-3 py-1.5 text-sm rounded-md border outline-none transition-colors\",\n\t\t\t\t\t\t\t\t\"bg-gray-50 dark:bg-gray-800\",\n\t\t\t\t\t\t\t\t\"border-gray-300 dark:border-gray-600\",\n\t\t\t\t\t\t\t\t\"focus:border-primary focus:ring-1 focus:ring-primary/20\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tplaceholder=\"Edit tag...\"\n\t\t\t\t\t\t\tstyle={{ width: `${Math.max(input.length + 1, 8)}ch` }}\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tonClick={() => !disabled && handleEditTag(index)}\n\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\"flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium rounded-md transition-all\",\n\t\t\t\t\t\t\t\t\"bg-primary/10 text-primary dark:bg-primary/20 dark:text-primary-foreground\",\n\t\t\t\t\t\t\t\t\"border border-primary/20 dark:border-primary/30\",\n\t\t\t\t\t\t\t\t!disabled\n\t\t\t\t\t\t\t\t\t? \"cursor-pointer hover:bg-primary/20 dark:hover:bg-primary/30 hover:border-primary/30\"\n\t\t\t\t\t\t\t\t\t: \"cursor-default\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{tag}\n\t\t\t\t\t\t\t{!disabled && (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\thandleRemoveTag(tag);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\"ml-0.5 -mr-1 text-primary/70 hover:text-primary dark:text-primary-foreground/70 dark:hover:text-primary-foreground\",\n\t\t\t\t\t\t\t\t\t\t\"focus:outline-none transition-colors text-lg leading-none hover:scale-110\"\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\taria-label=\"Remove tag\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t))}\n\t\t\t{!disabled && (\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tvalue={input}\n\t\t\t\t\tonChange={(e) => setInput(e.target.value)}\n\t\t\t\t\tonKeyDown={handleAddTag}\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"flex-grow min-w-[120px] px-2 py-1 text-sm border-none outline-none\",\n\t\t\t\t\t\t\"bg-transparent\",\n\t\t\t\t\t\t\"placeholder:text-gray-500 dark:placeholder:text-gray-400\",\n\t\t\t\t\t\teditingIndex !== null ? \"opacity-0\" : \"opacity-100\"\n\t\t\t\t\t)}\n\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2294, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/website/ui/button.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { Slot } from '@radix-ui/react-slot';\r\nimport { cva, type VariantProps } from 'class-variance-authority';\r\n\r\nimport { cn } from '@/lib/utils';\r\n\r\nconst buttonVariants = cva(\r\n  'inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50',\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\r\n        destructive:\r\n          'bg-destructive text-destructive-foreground hover:bg-destructive/90',\r\n        outline:\r\n          'border border-input dark:bg-neutral-800 bg-neutral-50 hover:bg-accent hover:text-accent-foreground',\r\n        secondary:\r\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\r\n        ghost: 'hover:bg-accent hover:text-accent-foreground',\r\n        link: 'text-primary underline-offset-4 hover:underline',\r\n        uilayouts:\r\n          'dark:bg-zinc-900 bg-neutral-200 dark:text-white text-black border dark:border-neutral-800',\r\n      },\r\n      size: {\r\n        default: 'h-10 px-4 py-2',\r\n        sm: 'h-9 rounded-md px-3',\r\n        lg: 'h-11 rounded-md px-8',\r\n        icon: 'h-10 w-10',\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: 'default',\r\n      size: 'default',\r\n    },\r\n  }\r\n);\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean;\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : 'button';\r\n    return (\r\n      <Comp\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\nButton.displayName = 'Button';\r\n\r\nexport { Button, buttonVariants };\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,4RACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;YACN,WACE;QACJ;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,uLAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,IAAA,wIAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 2355, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/website/ui/popover.tsx"],"sourcesContent":["'use client';\r\n\r\nimport * as React from 'react';\r\nimport * as PopoverPrimitive from '@radix-ui/react-popover';\r\n\r\nimport { cn } from '@/lib/utils';\r\n\r\nconst Popover = PopoverPrimitive.Root;\r\n\r\nconst PopoverTrigger = PopoverPrimitive.Trigger;\r\n\r\nconst PopoverContent = React.forwardRef<\r\n  React.ElementRef<typeof PopoverPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\r\n>(({ className, align = 'center', sideOffset = 4, ...props }, ref) => (\r\n  <PopoverPrimitive.Portal>\r\n    <PopoverPrimitive.Content\r\n      ref={ref}\r\n      align={align}\r\n      sideOffset={sideOffset}\r\n      className={cn(\r\n        'z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-hidden data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  </PopoverPrimitive.Portal>\r\n));\r\nPopoverContent.displayName = PopoverPrimitive.Content.displayName;\r\n\r\nexport { Popover, PopoverTrigger, PopoverContent };\r\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,UAAU,2KAAqB;AAErC,MAAM,iBAAiB,8KAAwB;AAE/C,MAAM,+BAAiB,mNAAgB,CAGrC,CAAC,EAAE,SAAS,EAAE,QAAQ,QAAQ,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC5D,8OAAC,6KAAuB;kBACtB,cAAA,8OAAC,8KAAwB;YACvB,KAAK;YACL,OAAO;YACP,YAAY;YACZ,WAAW,IAAA,wIAAE,EACX,gbACA;YAED,GAAG,KAAK;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,8KAAwB,CAAC,WAAW"}},
    {"offset": {"line": 2397, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/website/ui/command.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { type DialogProps } from \"@radix-ui/react-dialog\";\r\n\r\nimport { Command as CommandPrimitive } from \"cmdk\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Dialog } from \"@/components/ui/dialog\";\r\nimport { DialogBody } from \"@/components/ui/dialog\";\r\nimport { Search } from \"lucide-react\";\r\n\r\nconst Command = React.forwardRef<\r\n\tReact.ElementRef<typeof CommandPrimitive>,\r\n\tReact.ComponentPropsWithoutRef<typeof CommandPrimitive>\r\n>(({ className, ...props }, ref) => (\r\n\t<CommandPrimitive\r\n\t\tref={ref}\r\n\t\tclassName={cn(\r\n\t\t\t\"flex h-full w-full flex-col overflow-hidden rounded-md dark:bg-neutral-800 bg-neutral-50 text-popover-foreground\",\r\n\t\t\tclassName\r\n\t\t)}\r\n\t\t{...props}\r\n\t/>\r\n));\r\nCommand.displayName = CommandPrimitive.displayName;\r\n\r\ninterface CommandDialogProps extends DialogProps {}\r\n\r\nconst CommandDialog = ({ children, ...props }: CommandDialogProps) => {\r\n\treturn (\r\n\t\t<Dialog {...props}>\r\n\t\t\t<DialogBody className=\"overflow-hidden p-0\">\r\n\t\t\t\t<Command className=\"**:[cmdk-group-heading]**:px-2 **:[cmdk-group-heading]**:font-medium **:[cmdk-group-heading]**:text-muted-foreground **:[cmdk-group]:not([hidden])_~[cmdk-group]**:pt-0 **:[cmdk-group]**:px-2 **:[cmdk-input-wrapper]_svg**:h-5 **:[cmdk-input-wrapper]_svg**:w-5 **:[cmdk-input]**:h-12 **:[cmdk-item]**:px-2 **:[cmdk-item]**:py-3 **:[cmdk-item]_svg**:h-5 **:[cmdk-item]_svg**:w-5\">\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</Command>\r\n\t\t\t</DialogBody>\r\n\t\t</Dialog>\r\n\t);\r\n};\r\n\r\nconst CommandInput = React.forwardRef<\r\n\tReact.ElementRef<typeof CommandPrimitive.Input>,\r\n\tReact.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\r\n>(({ className, ...props }, ref) => (\r\n\t<div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\r\n\t\t<Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\r\n\t\t<CommandPrimitive.Input\r\n\t\t\tref={ref}\r\n\t\t\tclassName={cn(\r\n\t\t\t\t\"flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\r\n\t\t\t\tclassName\r\n\t\t\t)}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t</div>\r\n));\r\n\r\nCommandInput.displayName = CommandPrimitive.Input.displayName;\r\n\r\nconst CommandList = React.forwardRef<\r\n\tReact.ElementRef<typeof CommandPrimitive.List>,\r\n\tReact.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\r\n>(({ className, ...props }, ref) => (\r\n\t<CommandPrimitive.List\r\n\t\tref={ref}\r\n\t\tclassName={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\r\n\t\t{...props}\r\n\t/>\r\n));\r\n\r\nCommandList.displayName = CommandPrimitive.List.displayName;\r\n\r\nconst CommandEmpty = React.forwardRef<\r\n\tReact.ElementRef<typeof CommandPrimitive.Empty>,\r\n\tReact.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\r\n>((props, ref) => (\r\n\t<CommandPrimitive.Empty\r\n\t\tref={ref}\r\n\t\tclassName=\"py-6 text-center text-sm\"\r\n\t\t{...props}\r\n\t/>\r\n));\r\n\r\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName;\r\n\r\nconst CommandGroup = React.forwardRef<\r\n\tReact.ElementRef<typeof CommandPrimitive.Group>,\r\n\tReact.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\r\n>(({ className, ...props }, ref) => (\r\n\t<CommandPrimitive.Group\r\n\t\tref={ref}\r\n\t\tclassName={cn(\r\n\t\t\t\"overflow-hidden p-1 text-foreground **:[cmdk-group-heading]**:px-2 **:[cmdk-group-heading]**:py-1.5 **:[cmdk-group-heading]**:text-xs **:[cmdk-group-heading]**:font-medium **:[cmdk-group-heading]**:text-muted-foreground\",\r\n\t\t\tclassName\r\n\t\t)}\r\n\t\t{...props}\r\n\t/>\r\n));\r\n\r\nCommandGroup.displayName = CommandPrimitive.Group.displayName;\r\n\r\nconst CommandSeparator = React.forwardRef<\r\n\tReact.ElementRef<typeof CommandPrimitive.Separator>,\r\n\tReact.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\r\n>(({ className, ...props }, ref) => (\r\n\t<CommandPrimitive.Separator\r\n\t\tref={ref}\r\n\t\tclassName={cn(\"-mx-1 h-px bg-border\", className)}\r\n\t\t{...props}\r\n\t/>\r\n));\r\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName;\r\n\r\nconst CommandItem = React.forwardRef<\r\n\tReact.ElementRef<typeof CommandPrimitive.Item>,\r\n\tReact.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\r\n>(({ className, ...props }, ref) => (\r\n\t<CommandPrimitive.Item\r\n\t\tref={ref}\r\n\t\tclassName={cn(\r\n\t\t\t'relative flex cursor-default select-none items-center rounded-xs px-2 py-1.5 text-sm outline-hidden dark:aria-selected:bg-neutral-950 aria-selected:bg-neutral-200 aria-selected:text-accent-foreground data-[disabled=\"true\"]:pointer-events-none data-[disabled=\"true\"]:opacity-50',\r\n\t\t\tclassName\r\n\t\t)}\r\n\t\t{...props}\r\n\t/>\r\n));\r\n\r\nCommandItem.displayName = CommandPrimitive.Item.displayName;\r\n\r\nconst CommandShortcut = ({\r\n\tclassName,\r\n\t...props\r\n}: React.HTMLAttributes<HTMLSpanElement>) => {\r\n\treturn (\r\n\t\t<span\r\n\t\t\tclassName={cn(\r\n\t\t\t\t\"ml-auto text-xs tracking-widest text-muted-foreground\",\r\n\t\t\t\tclassName\r\n\t\t\t)}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t);\r\n};\r\nCommandShortcut.displayName = \"CommandShortcut\";\r\n\r\nexport {\r\n\tCommand,\r\n\tCommandDialog,\r\n\tCommandInput,\r\n\tCommandList,\r\n\tCommandEmpty,\r\n\tCommandGroup,\r\n\tCommandItem,\r\n\tCommandShortcut,\r\n\tCommandSeparator,\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAEA;AAGA;AAEA;AACA;AAEA;AAVA;;;;;;;;AAYA,MAAM,wBAAU,mNAAgB,CAG9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,8OAAC,iJAAgB;QAChB,KAAK;QACL,WAAW,IAAA,wIAAE,EACZ,oHACA;QAEA,GAAG,KAAK;;;;;;AAGX,QAAQ,WAAW,GAAG,iJAAgB,CAAC,WAAW;AAIlD,MAAM,gBAAgB,CAAC,EAAE,QAAQ,EAAE,GAAG,OAA2B;IAChE,qBACC,8OAAC,2JAAM;QAAE,GAAG,KAAK;kBAChB,cAAA,8OAAC,+JAAU;YAAC,WAAU;sBACrB,cAAA,8OAAC;gBAAQ,WAAU;0BACjB;;;;;;;;;;;;;;;;AAKN;AAEA,MAAM,6BAAe,mNAAgB,CAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,8OAAC;QAAI,WAAU;QAAkC,sBAAmB;;0BACnE,8OAAC,gNAAM;gBAAC,WAAU;;;;;;0BAClB,8OAAC,iJAAgB,CAAC,KAAK;gBACtB,KAAK;gBACL,WAAW,IAAA,wIAAE,EACZ,4JACA;gBAEA,GAAG,KAAK;;;;;;;;;;;;AAKZ,aAAa,WAAW,GAAG,iJAAgB,CAAC,KAAK,CAAC,WAAW;AAE7D,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,8OAAC,iJAAgB,CAAC,IAAI;QACrB,KAAK;QACL,WAAW,IAAA,wIAAE,EAAC,mDAAmD;QAChE,GAAG,KAAK;;;;;;AAIX,YAAY,WAAW,GAAG,iJAAgB,CAAC,IAAI,CAAC,WAAW;AAE3D,MAAM,6BAAe,mNAAgB,CAGnC,CAAC,OAAO,oBACT,8OAAC,iJAAgB,CAAC,KAAK;QACtB,KAAK;QACL,WAAU;QACT,GAAG,KAAK;;;;;;AAIX,aAAa,WAAW,GAAG,iJAAgB,CAAC,KAAK,CAAC,WAAW;AAE7D,MAAM,6BAAe,mNAAgB,CAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,8OAAC,iJAAgB,CAAC,KAAK;QACtB,KAAK;QACL,WAAW,IAAA,wIAAE,EACZ,+NACA;QAEA,GAAG,KAAK;;;;;;AAIX,aAAa,WAAW,GAAG,iJAAgB,CAAC,KAAK,CAAC,WAAW;AAE7D,MAAM,iCAAmB,mNAAgB,CAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,8OAAC,iJAAgB,CAAC,SAAS;QAC1B,KAAK;QACL,WAAW,IAAA,wIAAE,EAAC,wBAAwB;QACrC,GAAG,KAAK;;;;;;AAGX,iBAAiB,WAAW,GAAG,iJAAgB,CAAC,SAAS,CAAC,WAAW;AAErE,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3B,8OAAC,iJAAgB,CAAC,IAAI;QACrB,KAAK;QACL,WAAW,IAAA,wIAAE,EACZ,wRACA;QAEA,GAAG,KAAK;;;;;;AAIX,YAAY,WAAW,GAAG,iJAAgB,CAAC,IAAI,CAAC,WAAW;AAE3D,MAAM,kBAAkB,CAAC,EACxB,SAAS,EACT,GAAG,OACoC;IACvC,qBACC,8OAAC;QACA,WAAW,IAAA,wIAAE,EACZ,yDACA;QAEA,GAAG,KAAK;;;;;;AAGZ;AACA,gBAAgB,WAAW,GAAG"}},
    {"offset": {"line": 2558, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/ui/multi-selector.tsx"],"sourcesContent":["'use client';\r\nimport * as React from 'react';\r\nimport { CheckIcon, XCircle, ChevronDown, XIcon } from 'lucide-react';\r\n\r\nimport { cn } from '@/lib/utils';\r\nimport { Button } from '@/components/website/ui/button';\r\nimport {\r\n  Popover,\r\n  PopoverContent,\r\n  PopoverTrigger,\r\n} from '@/components/website/ui/popover';\r\nimport {\r\n  Command,\r\n  CommandEmpty,\r\n  CommandGroup,\r\n  CommandInput,\r\n  CommandItem,\r\n  CommandList,\r\n  CommandSeparator,\r\n} from '@/components/website/ui/command';\r\n\r\n/**\r\n * Props for MultiSelect component\r\n */\r\ninterface MultiSelectProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n  /**\r\n   * An array of option objects to be displayed in the multi-select component.\r\n   * Each option object has a label, value, and an optional icon.\r\n   */\r\n  options: {\r\n    /** The text to display for the option. */\r\n    label: string;\r\n    /** The unique value associated with the option. */\r\n    value: string;\r\n    /** Optional icon component to display alongside the option. */\r\n    icon?: React.ComponentType<{ className?: string }>;\r\n    disable?: boolean;\r\n  }[];\r\n\r\n  /**\r\n   * Callback function triggered when the selected values change.\r\n   * Receives an array of the new selected values.\r\n   */\r\n  onValueChange: (value: string[]) => void;\r\n\r\n  /** The default selected values when the component mounts. */\r\n  defaultValue?: string[];\r\n\r\n  /**\r\n   * Placeholder text to be displayed when no values are selected.\r\n   * Optional, defaults to \"Select options\".\r\n   */\r\n  placeholder?: string;\r\n\r\n  /**\r\n   * Animation duration in seconds for the visual effects (e.g., bouncing badges).\r\n   * Optional, defaults to 0 (no animation).\r\n   */\r\n  animation?: number;\r\n\r\n  /**\r\n   * Maximum number of items to display. Extra selected items will be summarized.\r\n   * Optional, defaults to 3.\r\n   */\r\n  maxCount?: number;\r\n\r\n  /**\r\n   * The modality of the popover. When set to true, interaction with outside elements\r\n   * will be disabled and only popover content will be visible to screen readers.\r\n   * Optional, defaults to false.\r\n   */\r\n  modalPopover?: boolean;\r\n\r\n  /**\r\n   * If true, renders the multi-select component as a child of another component.\r\n   * Optional, defaults to false.\r\n   */\r\n  asChild?: boolean;\r\n\r\n  /**\r\n   * Additional class names to apply custom styles to the multi-select component.\r\n   * Optional, can be used to add custom styles.\r\n   */\r\n  className?: string;\r\n  popoverClass?: string;\r\n  showall?: boolean;\r\n}\r\n\r\nexport const MultiSelect = React.forwardRef<\r\n  HTMLButtonElement,\r\n  MultiSelectProps\r\n>(\r\n  (\r\n    {\r\n      options,\r\n      onValueChange,\r\n      defaultValue = [],\r\n      placeholder = 'Select options',\r\n      animation = 0,\r\n      maxCount = 3,\r\n      modalPopover = false,\r\n      asChild = false,\r\n      className,\r\n      popoverClass,\r\n      showall = false,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    const [selectedValues, setSelectedValues] =\r\n      React.useState<string[]>(defaultValue);\r\n    const [isPopoverOpen, setIsPopoverOpen] = React.useState(false);\r\n\r\n    const handleInputKeyDown = (\r\n      event: React.KeyboardEvent<HTMLInputElement>\r\n    ) => {\r\n      if (event.key === 'Enter') {\r\n        setIsPopoverOpen(true);\r\n      } else if (event.key === 'Backspace' && !event.currentTarget.value) {\r\n        const newSelectedValues = [...selectedValues];\r\n        newSelectedValues.pop();\r\n        setSelectedValues(newSelectedValues);\r\n        onValueChange(newSelectedValues);\r\n      }\r\n    };\r\n\r\n    const toggleOption = (option: string) => {\r\n      const newSelectedValues = selectedValues.includes(option)\r\n        ? selectedValues.filter((value) => value !== option)\r\n        : [...selectedValues, option];\r\n      setSelectedValues(newSelectedValues);\r\n      onValueChange(newSelectedValues);\r\n    };\r\n\r\n    const handleClear = () => {\r\n      setSelectedValues([]);\r\n      onValueChange([]);\r\n    };\r\n\r\n    const handleTogglePopover = () => {\r\n      setIsPopoverOpen((prev) => !prev);\r\n    };\r\n\r\n    const clearExtraOptions = () => {\r\n      const newSelectedValues = selectedValues.slice(0, maxCount);\r\n      setSelectedValues(newSelectedValues);\r\n      onValueChange(newSelectedValues);\r\n    };\r\n    const filteredOptions = options.filter((option) => !option.disable);\r\n    const toggleAll = () => {\r\n      if (selectedValues.length === filteredOptions.length) {\r\n        handleClear();\r\n      } else {\r\n        const allValues = filteredOptions.map((option) => option.value);\r\n        setSelectedValues(allValues);\r\n        onValueChange(allValues);\r\n      }\r\n    };\r\n\r\n    return (\r\n      <Popover\r\n        open={isPopoverOpen}\r\n        onOpenChange={setIsPopoverOpen}\r\n        modal={modalPopover}\r\n      >\r\n        <PopoverTrigger asChild>\r\n          <Button\r\n            ref={ref}\r\n            {...props}\r\n            onClick={handleTogglePopover}\r\n            className={cn(\r\n              'flex w-full p-1 rounded-md border min-h-10 h-auto items-center justify-between hover:bg-neutral-100 dark:bg-neutral-900 bg-neutral-50 dark:hover:bg-neutral-950',\r\n              className\r\n            )}\r\n          >\r\n            {selectedValues.length > 0 ? (\r\n              <div className='flex justify-between items-center w-full'>\r\n                <div className='flex flex-wrap items-center  gap-1 p-1'>\r\n                  {(showall\r\n                    ? selectedValues\r\n                    : selectedValues.slice(0, maxCount)\r\n                  ).map((value) => {\r\n                    const option = options.find((o) => o.value === value);\r\n                    const IconComponent = option?.icon;\r\n                    return (\r\n                      <div\r\n                        key={value}\r\n                        className={cn(\r\n                          'inline-flex items-center rounded-lg px-2 py-1 text-xs font-semibold dark:bg-neutral-950 bg-neutral-200 text-primary'\r\n                        )}\r\n                      >\r\n                        {IconComponent && (\r\n                          <IconComponent className='h-4 w-4 mr-2' />\r\n                        )}\r\n                        {option?.label}\r\n                        <XCircle\r\n                          className='ml-2 h-4 w-4 cursor-pointer'\r\n                          onClick={(event) => {\r\n                            event.stopPropagation();\r\n                            toggleOption(value);\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    );\r\n                  })}\r\n                  {!showall && selectedValues.length > maxCount && (\r\n                    <div\r\n                      className={cn(\r\n                        'bg-primary-foreground inline-flex items-center border px-2 py-0.5 rounded-lg text-foreground border-foreground/1 hover:bg-transparent'\r\n                      )}\r\n                      style={{ animationDuration: `${animation}s` }}\r\n                    >\r\n                      {`+ ${selectedValues.length - maxCount} more`}\r\n                      <XCircle\r\n                        className='ml-2 h-4 w-4 cursor-pointer'\r\n                        onClick={(event) => {\r\n                          event.stopPropagation();\r\n                          clearExtraOptions();\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <div className='flex items-center justify-between'>\r\n                  <XIcon\r\n                    className='h-4 mx-2 cursor-pointer text-primary'\r\n                    onClick={(event) => {\r\n                      event.stopPropagation();\r\n                      handleClear();\r\n                    }}\r\n                  />\r\n                  {/* <Separator\r\n                    orientation=\"vertical\"\r\n                    className=\"flex min-h-6 h-full\"\r\n                  /> */}\r\n                  <ChevronDown className='h-4 mx-2 cursor-pointer text-primary' />\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className='flex items-center justify-between w-full mx-auto'>\r\n                <span className='text-sm text-muted-foreground mx-3'>\r\n                  {placeholder}\r\n                </span>\r\n                <ChevronDown className='h-4 cursor-pointer text-muted-foreground mx-2' />\r\n              </div>\r\n            )}\r\n          </Button>\r\n        </PopoverTrigger>\r\n        <PopoverContent\r\n          className={cn('w-auto p-0', popoverClass)}\r\n          align='start'\r\n          onEscapeKeyDown={() => setIsPopoverOpen(false)}\r\n        >\r\n          <Command>\r\n            <CommandInput\r\n              placeholder='Search...'\r\n              onKeyDown={handleInputKeyDown}\r\n            />\r\n            <CommandList>\r\n              <CommandEmpty>No results found.</CommandEmpty>\r\n              <CommandGroup>\r\n                <CommandItem\r\n                  key='all'\r\n                  onSelect={toggleAll}\r\n                  className='cursor-pointer'\r\n                >\r\n                  <div\r\n                    className={cn(\r\n                      'mr-2 flex h-4 w-4 items-center justify-center rounded-xs border border-primary',\r\n                      selectedValues.length === filteredOptions.length\r\n                        ? 'bg-primary text-primary-foreground'\r\n                        : 'opacity-50 [&_svg]:invisible'\r\n                    )}\r\n                  >\r\n                    <CheckIcon className='h-4 w-4' />\r\n                  </div>\r\n                  <span>(Select All)</span>\r\n                </CommandItem>\r\n                {options.map((option) => {\r\n                  const isSelected = selectedValues.includes(option.value);\r\n                  const isDisabled = option.disable; // Check if option is disabled\r\n\r\n                  return (\r\n                    <CommandItem\r\n                      key={option.value}\r\n                      onSelect={() => !isDisabled && toggleOption(option.value)}\r\n                      className={cn(\r\n                        'cursor-pointer',\r\n                        isDisabled && 'opacity-50 cursor-not-allowed' // Disable styling\r\n                      )}\r\n                    >\r\n                      <div\r\n                        className={cn(\r\n                          'mr-2 flex h-4 w-4 items-center justify-center rounded-xs border border-primary',\r\n                          isSelected\r\n                            ? 'bg-primary text-primary-foreground'\r\n                            : 'opacity-50 [&_svg]:invisible'\r\n                        )}\r\n                      >\r\n                        {!isDisabled && <CheckIcon className='h-4 w-4' />}\r\n                      </div>\r\n                      {option.icon && (\r\n                        <option.icon\r\n                          className={cn(\r\n                            'mr-2 h-4 w-4',\r\n                            isDisabled ? 'text-muted-foreground' : ''\r\n                          )}\r\n                        />\r\n                      )}\r\n                      <span>{option.label}</span>\r\n                    </CommandItem>\r\n                  );\r\n                })}\r\n              </CommandGroup>\r\n              <CommandSeparator />\r\n              <CommandGroup>\r\n                <div className='flex items-center justify-between'>\r\n                  {selectedValues.length > 0 && (\r\n                    <>\r\n                      <CommandItem\r\n                        onSelect={handleClear}\r\n                        className='flex-1 justify-center cursor-pointer border-r'\r\n                      >\r\n                        Clear\r\n                      </CommandItem>\r\n                    </>\r\n                  )}\r\n                  <CommandItem\r\n                    onSelect={() => setIsPopoverOpen(false)}\r\n                    className='flex-1 justify-center cursor-pointer max-w-full'\r\n                  >\r\n                    Close\r\n                  </CommandItem>\r\n                </div>\r\n              </CommandGroup>\r\n            </CommandList>\r\n          </Command>\r\n        </PopoverContent>\r\n      </Popover>\r\n    );\r\n  }\r\n);\r\n\r\nMultiSelect.displayName = 'MultiSelect';\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2945, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/ui/styled/styled-multi-selector.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { MultiSelect } from \"@/components/ui/multi-selector\";\nimport { cn } from \"@/lib/utils\";\n\n/**\n * StyledMultiSelector - A wrapper around the base MultiSelect component with consistent styling\n * that matches the application's design system\n */\n\ninterface StyledMultiSelectorProps {\n\t/**\n\t * An array of option objects to be displayed in the multi-select component.\n\t */\n\toptions: {\n\t\t/** The text to display for the option. */\n\t\tlabel: string;\n\t\t/** The unique value associated with the option. */\n\t\tvalue: string;\n\t\t/** Optional icon component to display alongside the option. */\n\t\ticon?: React.ComponentType<{ className?: string }>;\n\t\t/** Whether this option is disabled */\n\t\tdisable?: boolean;\n\t}[];\n\n\t/**\n\t * Callback function triggered when the selected values change.\n\t */\n\tonValueChange: (value: string[]) => void;\n\n\t/** The current selected values (controlled) */\n\tvalue?: string[];\n\n\t/** The default selected values when the component mounts (uncontrolled). */\n\tdefaultValue?: string[];\n\n\t/**\n\t * Placeholder text to be displayed when no values are selected.\n\t */\n\tplaceholder?: string;\n\n\t/**\n\t * Maximum number of items to display. Extra selected items will be summarized.\n\t */\n\tmaxCount?: number;\n\n\t/**\n\t * Additional class names to apply custom styles to the multi-select component.\n\t */\n\tclassName?: string;\n\n\t/**\n\t * Class names for the popover content\n\t */\n\tpopoverClass?: string;\n\n\t/**\n\t * Whether to show all selected items or truncate with maxCount\n\t */\n\tshowall?: boolean;\n\n\t/**\n\t * Whether the selector is disabled\n\t */\n\tdisabled?: boolean;\n}\n\nexport const StyledMultiSelector = React.forwardRef<\n\tHTMLButtonElement,\n\tStyledMultiSelectorProps\n>(\n\t(\n\t\t{\n\t\t\toptions,\n\t\t\tonValueChange,\n\t\t\tvalue,\n\t\t\tdefaultValue = [],\n\t\t\tplaceholder = \"Select options\",\n\t\t\tmaxCount = 3,\n\t\t\tclassName,\n\t\t\tpopoverClass,\n\t\t\tshowall = false,\n\t\t\tdisabled = false,\n\t\t\t...props\n\t\t},\n\t\tref\n\t) => {\n\t\t// Use the value prop if provided (controlled), otherwise use defaultValue\n\t\tconst actualValue = value !== undefined ? value : defaultValue;\n\n\t\treturn (\n\t\t\t<MultiSelect\n\t\t\t\tkey={JSON.stringify(actualValue)} // Force re-render when value changes\n\t\t\t\tref={ref}\n\t\t\t\toptions={options}\n\t\t\t\tonValueChange={onValueChange}\n\t\t\t\tdefaultValue={actualValue}\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\tmaxCount={maxCount}\n\t\t\t\tclassName={cn(\n\t\t\t\t\t\"transition-all duration-200 border-gray-200/60 dark:border-white/10 hover:border-primary/30 dark:hover:border-primary/30\",\n\t\t\t\t\tdisabled && \"cursor-not-allowed disabled:opacity-100\", // Override base button opacity\n\t\t\t\t\tclassName\n\t\t\t\t)}\n\t\t\t\tpopoverClass={cn(\n\t\t\t\t\t\"backdrop-blur-md bg-background/95 dark:bg-background/95\",\n\t\t\t\t\tpopoverClass\n\t\t\t\t)}\n\t\t\t\tshowall={showall}\n\t\t\t\tmodalPopover={false}\n\t\t\t\tanimation={0}\n\t\t\t\tdisabled={disabled}\n\t\t\t\t{...props}\n\t\t\t/>\n\t\t);\n\t}\n);\n\nStyledMultiSelector.displayName = \"StyledMultiSelector\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAoEO,MAAM,oCAAsB,mNAAgB,CAIlD,CACC,EACC,OAAO,EACP,aAAa,EACb,KAAK,EACL,eAAe,EAAE,EACjB,cAAc,gBAAgB,EAC9B,WAAW,CAAC,EACZ,SAAS,EACT,YAAY,EACZ,UAAU,KAAK,EACf,WAAW,KAAK,EAChB,GAAG,OACH,EACD;IAEA,0EAA0E;IAC1E,MAAM,cAAc,UAAU,YAAY,QAAQ;IAElD,qBACC,8OAAC,2KAAW;QAEX,KAAK;QACL,SAAS;QACT,eAAe;QACf,cAAc;QACd,aAAa;QACb,UAAU;QACV,WAAW,IAAA,wIAAE,EACZ,4HACA,YAAY,2CACZ;QAED,cAAc,IAAA,wIAAE,EACf,2DACA;QAED,SAAS;QACT,cAAc;QACd,WAAW;QACX,UAAU;QACT,GAAG,KAAK;OApBJ,KAAK,SAAS,CAAC;;;;;AAuBvB;AAGD,oBAAoB,WAAW,GAAG"}},
    {"offset": {"line": 2986, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/ui/styled/index.ts"],"sourcesContent":["/**\n * Styled Components - Unified styling system wrappers\n *\n * These components wrap the base Shadcn components with consistent\n * application styling patterns. Use these instead of the base components\n * for consistent design across the application.\n */\n\nexport * from \"./styled-button\";\nexport * from \"./styled-card\";\nexport * from \"./styled-input\";\nexport * from \"./styled-badge\";\nexport * from \"./styled-table\";\nexport * from \"./styled-dialog\";\nexport * from \"./styled-select\";\nexport * from \"./styled-tabs\";\nexport * from \"./styled-tags-input\";\nexport * from \"./styled-multi-selector\";\n"],"names":[],"mappings":"AAAA;;;;;;CAMC;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 3017, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/app/%28workspace%29/projects/components/project-documents.tsx"],"sourcesContent":["\"use client\";\n\nimport { useQuery } from \"convex/react\";\nimport { api } from \"@onetool/backend/convex/_generated/api\";\nimport {\n\tStyledCard,\n\tStyledCardHeader,\n\tStyledCardTitle,\n\tStyledCardContent,\n} from \"@/components/ui/styled\";\nimport {\n\tFileIcon,\n\tDownload,\n\tImage as ImageIcon,\n\tFolderOpen,\n\tLoader2,\n\tFileCheck,\n} from \"lucide-react\";\nimport type { Id } from \"@onetool/backend/convex/_generated/dataModel\";\nimport { memo, useMemo } from \"react\";\nimport { Badge } from \"@/components/ui/badge\";\n\ninterface ProjectDocumentsProps {\n\tprojectId: Id<\"projects\">;\n}\n\n// Helper utilities\nconst formatFileSize = (bytes: number): string => {\n\tif (bytes === 0) return \"0 Bytes\";\n\tconst k = 1024;\n\tconst sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\"];\n\tlet i = Math.floor(Math.log(bytes) / Math.log(k));\n\ti = Math.min(i, sizes.length - 1);\n\treturn Math.round((bytes / Math.pow(k, i)) * 100) / 100 + \" \" + sizes[i];\n};\n\nconst formatDate = (timestamp: number): string => {\n\t// Use runtime-detected locale from navigator, fallback to undefined (browser default)\n\tconst userLocale =\n\t\ttypeof navigator !== \"undefined\" ? navigator.language : undefined;\n\treturn new Date(timestamp).toLocaleDateString(userLocale, {\n\t\tyear: \"numeric\",\n\t\tmonth: \"short\",\n\t\tday: \"numeric\",\n\t});\n};\n\nconst isImage = (mimeType: string) => mimeType.startsWith(\"image/\");\nconst isPdf = (mimeType: string) => mimeType === \"application/pdf\";\n\n// Unified document type for both attachments and signed quotes\ntype UnifiedDocument = {\n\t_id: string;\n\tfileName: string;\n\tfileSize: number;\n\tmimeType: string;\n\tuploadedAt: number;\n\tdownloadUrl: string | null;\n\ttype: \"attachment\" | \"signed-quote\";\n\tquoteNumber?: string | null;\n};\n\n// Attachment content component with memo optimization\ninterface DocumentContentProps {\n\tdocument: UnifiedDocument;\n}\n\nconst DocumentContent = memo(({ document }: DocumentContentProps) => (\n\t<>\n\t\t{/* File preview/icon */}\n\t\t<div className=\"shrink-0\">\n\t\t\t{document.type === \"signed-quote\" ? (\n\t\t\t\t<div className=\"h-16 w-16 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t<FileCheck className=\"h-6 w-6 text-green-600 dark:text-green-400\" />\n\t\t\t\t</div>\n\t\t\t) : isImage(document.mimeType) ? (\n\t\t\t\t<div className=\"h-16 w-16 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center overflow-hidden\">\n\t\t\t\t\t<ImageIcon className=\"h-6 w-6 text-blue-500\" />\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<div className=\"h-16 w-16 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t<FileIcon\n\t\t\t\t\t\tclassName={`h-6 w-6 ${\n\t\t\t\t\t\t\tisPdf(document.mimeType) ? \"text-red-500\" : \"text-gray-500\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\n\t\t{/* File details */}\n\t\t<div className=\"flex-1 min-w-0\">\n\t\t\t<div className=\"flex items-center gap-2 mb-1\">\n\t\t\t\t<p className=\"text-sm font-medium text-gray-900 dark:text-white truncate\">\n\t\t\t\t\t{document.fileName}\n\t\t\t\t</p>\n\t\t\t\t{document.type === \"signed-quote\" && (\n\t\t\t\t\t<Badge\n\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\tclassName=\"shrink-0 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800\"\n\t\t\t\t\t>\n\t\t\t\t\t\tSigned Quote\n\t\t\t\t\t</Badge>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t{document.fileSize > 0 && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<p className=\"text-xs text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t{formatFileSize(document.fileSize)}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<span className=\"text-xs text-gray-400\"></span>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t<p className=\"text-xs text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t{formatDate(document.uploadedAt)}\n\t\t\t\t</p>\n\t\t\t\t{document.quoteNumber && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<span className=\"text-xs text-gray-400\"></span>\n\t\t\t\t\t\t<p className=\"text-xs text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\tQuote #{document.quoteNumber}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\n\t\t{/* Download button */}\n\t\t<div className=\"shrink-0\">\n\t\t\t<Download className=\"h-4 w-4 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors\" />\n\t\t</div>\n\t</>\n));\n\nDocumentContent.displayName = \"DocumentContent\";\n\nexport function ProjectDocuments({ projectId }: ProjectDocumentsProps) {\n\t// Fetch both attachments and signed documents\n\tconst attachments = useQuery(api.messageAttachments.listByEntity, {\n\t\tentityType: \"project\",\n\t\tentityId: projectId,\n\t});\n\tconst signedDocuments = useQuery(api.documents.listSignedByProject, {\n\t\tprojectId,\n\t});\n\n\t// Combine and sort documents\n\tconst allDocuments = useMemo(() => {\n\t\tif (!attachments || !signedDocuments) return undefined;\n\n\t\tconst unified: UnifiedDocument[] = [\n\t\t\t// Map attachments\n\t\t\t...attachments.map((att) => ({\n\t\t\t\t_id: att._id,\n\t\t\t\tfileName: att.fileName,\n\t\t\t\tfileSize: att.fileSize,\n\t\t\t\tmimeType: att.mimeType,\n\t\t\t\tuploadedAt: att.uploadedAt,\n\t\t\t\tdownloadUrl: att.downloadUrl,\n\t\t\t\ttype: \"attachment\" as const,\n\t\t\t})),\n\t\t\t// Map signed documents\n\t\t\t...signedDocuments.map((doc) => ({\n\t\t\t\t_id: doc._id,\n\t\t\t\tfileName: doc.fileName,\n\t\t\t\tfileSize: doc.fileSize,\n\t\t\t\tmimeType: doc.mimeType,\n\t\t\t\tuploadedAt: doc.uploadedAt,\n\t\t\t\tdownloadUrl: doc.downloadUrl,\n\t\t\t\ttype: \"signed-quote\" as const,\n\t\t\t\tquoteNumber: doc.quoteNumber,\n\t\t\t})),\n\t\t];\n\n\t\t// Sort by upload date (most recent first)\n\t\treturn unified.sort((a, b) => b.uploadedAt - a.uploadedAt);\n\t}, [attachments, signedDocuments]);\n\n\t// Loading state\n\tif (allDocuments === undefined) {\n\t\treturn (\n\t\t\t<StyledCard>\n\t\t\t\t<StyledCardHeader>\n\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t<FolderOpen className=\"h-5 w-5 text-primary\" />\n\t\t\t\t\t\t<StyledCardTitle className=\"text-lg\">\n\t\t\t\t\t\t\tProject Documents\n\t\t\t\t\t\t</StyledCardTitle>\n\t\t\t\t\t</div>\n\t\t\t\t</StyledCardHeader>\n\t\t\t\t<StyledCardContent>\n\t\t\t\t\t<div className=\"animate-pulse space-y-3\">\n\t\t\t\t\t\t{[1, 2, 3].map((i) => (\n\t\t\t\t\t\t\t<div key={i} className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t<div className=\"h-16 w-16 bg-gray-200 dark:bg-gray-700 rounded-lg\" />\n\t\t\t\t\t\t\t\t<div className=\"flex-1 space-y-2\">\n\t\t\t\t\t\t\t\t\t<div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4\" />\n\t\t\t\t\t\t\t\t\t<div className=\"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</StyledCardContent>\n\t\t\t</StyledCard>\n\t\t);\n\t}\n\n\t// Empty state\n\tif (allDocuments.length === 0) {\n\t\treturn (\n\t\t\t<StyledCard>\n\t\t\t\t<StyledCardHeader>\n\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t<FolderOpen className=\"h-5 w-5 text-primary\" />\n\t\t\t\t\t\t<StyledCardTitle className=\"text-lg\">\n\t\t\t\t\t\t\tProject Documents\n\t\t\t\t\t\t</StyledCardTitle>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\n\t\t\t\t\t\tFiles shared in team communications and signed quotes\n\t\t\t\t\t</p>\n\t\t\t\t</StyledCardHeader>\n\t\t\t\t<StyledCardContent>\n\t\t\t\t\t<div className=\"flex flex-col items-center justify-center py-12 text-center\">\n\t\t\t\t\t\t<div className=\"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4\">\n\t\t\t\t\t\t\t<FolderOpen className=\"h-8 w-8 text-gray-400 dark:text-gray-600\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">\n\t\t\t\t\t\t\tNo documents yet\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<p className=\"text-sm text-gray-600 dark:text-gray-400 max-w-sm\">\n\t\t\t\t\t\t\tDocuments and signed quotes will appear here\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</StyledCardContent>\n\t\t\t</StyledCard>\n\t\t);\n\t}\n\n\treturn (\n\t\t<StyledCard>\n\t\t\t<StyledCardHeader>\n\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t<FolderOpen className=\"h-5 w-5 text-primary\" />\n\t\t\t\t\t<StyledCardTitle className=\"text-lg\">\n\t\t\t\t\t\tProject Documents\n\t\t\t\t\t</StyledCardTitle>\n\t\t\t\t\t<span className=\"text-sm text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t({allDocuments.length})\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\n\t\t\t\t\tFiles shared in team communications and signed quotes\n\t\t\t\t</p>\n\t\t\t</StyledCardHeader>\n\t\t\t<StyledCardContent>\n\t\t\t\t<div className=\"grid grid-cols-1 gap-3\">\n\t\t\t\t\t{allDocuments.map((document) => (\n\t\t\t\t\t\t<DocumentDownloadLink\n\t\t\t\t\t\t\tkey={document._id}\n\t\t\t\t\t\t\tdownloadUrl={document.downloadUrl}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<DocumentContent document={document} />\n\t\t\t\t\t\t</DocumentDownloadLink>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</StyledCardContent>\n\t\t</StyledCard>\n\t);\n}\n\n// Component to render download link with pre-fetched URL (no per-attachment query)\nfunction DocumentDownloadLink({\n\tdownloadUrl,\n\tchildren,\n}: {\n\tdownloadUrl: string | null;\n\tchildren: React.ReactNode;\n}) {\n\tif (!downloadUrl) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg opacity-50\"\n\t\t\t\taria-busy=\"true\"\n\t\t\t\taria-label=\"Loading download link\"\n\t\t\t>\n\t\t\t\t<Loader2 className=\"h-4 w-4 text-gray-400 animate-spin shrink-0\" />\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<a\n\t\t\thref={downloadUrl}\n\t\t\ttarget=\"_blank\"\n\t\t\trel=\"noopener noreferrer\"\n\t\t\tclassName=\"group flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800/50 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 transition-all\"\n\t\t>\n\t\t\t{children}\n\t\t</a>\n\t);\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AApBA;;;;;;;;AA0BA,mBAAmB;AACnB,MAAM,iBAAiB,CAAC;IACvB,IAAI,UAAU,GAAG,OAAO;IACxB,MAAM,IAAI;IACV,MAAM,QAAQ;QAAC;QAAS;QAAM;QAAM;QAAM;QAAM;KAAK;IACrD,IAAI,IAAI,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,SAAS,KAAK,GAAG,CAAC;IAC9C,IAAI,KAAK,GAAG,CAAC,GAAG,MAAM,MAAM,GAAG;IAC/B,OAAO,KAAK,KAAK,CAAC,AAAC,QAAQ,KAAK,GAAG,CAAC,GAAG,KAAM,OAAO,MAAM,MAAM,KAAK,CAAC,EAAE;AACzE;AAEA,MAAM,aAAa,CAAC;IACnB,sFAAsF;IACtF,MAAM,aACL,OAAO,cAAc,cAAc,UAAU,QAAQ,GAAG;IACzD,OAAO,IAAI,KAAK,WAAW,kBAAkB,CAAC,YAAY;QACzD,MAAM;QACN,OAAO;QACP,KAAK;IACN;AACD;AAEA,MAAM,UAAU,CAAC,WAAqB,SAAS,UAAU,CAAC;AAC1D,MAAM,QAAQ,CAAC,WAAqB,aAAa;AAmBjD,MAAM,gCAAkB,IAAA,6MAAI,EAAC,CAAC,EAAE,QAAQ,EAAwB,iBAC/D;;0BAEC,8OAAC;gBAAI,WAAU;0BACb,SAAS,IAAI,KAAK,+BAClB,8OAAC;oBAAI,WAAU;8BACd,cAAA,8OAAC,6NAAS;wBAAC,WAAU;;;;;;;;;;+DAEnB,QAAQ,SAAS,QAAQ,kBAC5B,8OAAC;oBAAI,WAAU;8BACd,cAAA,8OAAC,6MAAS;wBAAC,WAAU;;;;;;;;;;6EAGtB,8OAAC;oBAAI,WAAU;8BACd,cAAA,8OAAC,kNAAQ;wBACR,WAAW,CAAC,QAAQ,EACnB,MAAM,SAAS,QAAQ,IAAI,iBAAiB,iBAC3C;;;;;;;;;;;;;;;;0BAON,8OAAC;gBAAI,WAAU;;kCACd,8OAAC;wBAAI,WAAU;;0CACd,8OAAC;gCAAE,WAAU;0CACX,SAAS,QAAQ;;;;;;4BAElB,SAAS,IAAI,KAAK,gCAClB,8OAAC,yJAAK;gCACL,SAAQ;gCACR,WAAU;0CACV;;;;;;;;;;;;kCAKH,8OAAC;wBAAI,WAAU;;4BACb,SAAS,QAAQ,GAAG,mBACpB;;kDACC,8OAAC;wCAAE,WAAU;kDACX,eAAe,SAAS,QAAQ;;;;;;kDAElC,8OAAC;wCAAK,WAAU;kDAAwB;;;;;;;;0CAG1C,8OAAC;gCAAE,WAAU;0CACX,WAAW,SAAS,UAAU;;;;;;4BAE/B,SAAS,WAAW,kBACpB;;kDACC,8OAAC;wCAAK,WAAU;kDAAwB;;;;;;kDACxC,8OAAC;wCAAE,WAAU;;4CAA2C;4CAC/C,SAAS,WAAW;;;;;;;;;;;;;;;;;;;;;0BAQjC,8OAAC;gBAAI,WAAU;0BACd,cAAA,8OAAC,sNAAQ;oBAAC,WAAU;;;;;;;;;;;;;AAKvB,gBAAgB,WAAW,GAAG;AAEvB,SAAS,iBAAiB,EAAE,SAAS,EAAyB;IACpE,8CAA8C;IAC9C,MAAM,cAAc,IAAA,oKAAQ,EAAC,yJAAG,CAAC,kBAAkB,CAAC,YAAY,EAAE;QACjE,YAAY;QACZ,UAAU;IACX;IACA,MAAM,kBAAkB,IAAA,oKAAQ,EAAC,yJAAG,CAAC,SAAS,CAAC,mBAAmB,EAAE;QACnE;IACD;IAEA,6BAA6B;IAC7B,MAAM,eAAe,IAAA,gNAAO,EAAC;QAC5B,IAAI,CAAC,eAAe,CAAC,iBAAiB,OAAO;QAE7C,MAAM,UAA6B;YAClC,kBAAkB;eACf,YAAY,GAAG,CAAC,CAAC,MAAQ,CAAC;oBAC5B,KAAK,IAAI,GAAG;oBACZ,UAAU,IAAI,QAAQ;oBACtB,UAAU,IAAI,QAAQ;oBACtB,UAAU,IAAI,QAAQ;oBACtB,YAAY,IAAI,UAAU;oBAC1B,aAAa,IAAI,WAAW;oBAC5B,MAAM;gBACP,CAAC;YACD,uBAAuB;eACpB,gBAAgB,GAAG,CAAC,CAAC,MAAQ,CAAC;oBAChC,KAAK,IAAI,GAAG;oBACZ,UAAU,IAAI,QAAQ;oBACtB,UAAU,IAAI,QAAQ;oBACtB,UAAU,IAAI,QAAQ;oBACtB,YAAY,IAAI,UAAU;oBAC1B,aAAa,IAAI,WAAW;oBAC5B,MAAM;oBACN,aAAa,IAAI,WAAW;gBAC7B,CAAC;SACD;QAED,0CAA0C;QAC1C,OAAO,QAAQ,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,UAAU,GAAG,EAAE,UAAU;IAC1D,GAAG;QAAC;QAAa;KAAgB;IAEjC,gBAAgB;IAChB,IAAI,iBAAiB,WAAW;QAC/B,qBACC,8OAAC,iLAAU;;8BACV,8OAAC,uLAAgB;8BAChB,cAAA,8OAAC;wBAAI,WAAU;;0CACd,8OAAC,gOAAU;gCAAC,WAAU;;;;;;0CACtB,8OAAC,sLAAe;gCAAC,WAAU;0CAAU;;;;;;;;;;;;;;;;;8BAKvC,8OAAC,wLAAiB;8BACjB,cAAA,8OAAC;wBAAI,WAAU;kCACb;4BAAC;4BAAG;4BAAG;yBAAE,CAAC,GAAG,CAAC,CAAC,kBACf,8OAAC;gCAAY,WAAU;;kDACtB,8OAAC;wCAAI,WAAU;;;;;;kDACf,8OAAC;wCAAI,WAAU;;0DACd,8OAAC;gDAAI,WAAU;;;;;;0DACf,8OAAC;gDAAI,WAAU;;;;;;;;;;;;;+BAJP;;;;;;;;;;;;;;;;;;;;;IAYhB;IAEA,cAAc;IACd,IAAI,aAAa,MAAM,KAAK,GAAG;QAC9B,qBACC,8OAAC,iLAAU;;8BACV,8OAAC,uLAAgB;;sCAChB,8OAAC;4BAAI,WAAU;;8CACd,8OAAC,gOAAU;oCAAC,WAAU;;;;;;8CACtB,8OAAC,sLAAe;oCAAC,WAAU;8CAAU;;;;;;;;;;;;sCAItC,8OAAC;4BAAE,WAAU;sCAAgD;;;;;;;;;;;;8BAI9D,8OAAC,wLAAiB;8BACjB,cAAA,8OAAC;wBAAI,WAAU;;0CACd,8OAAC;gCAAI,WAAU;0CACd,cAAA,8OAAC,gOAAU;oCAAC,WAAU;;;;;;;;;;;0CAEvB,8OAAC;gCAAG,WAAU;0CAAyD;;;;;;0CAGvE,8OAAC;gCAAE,WAAU;0CAAoD;;;;;;;;;;;;;;;;;;;;;;;IAOtE;IAEA,qBACC,8OAAC,iLAAU;;0BACV,8OAAC,uLAAgB;;kCAChB,8OAAC;wBAAI,WAAU;;0CACd,8OAAC,gOAAU;gCAAC,WAAU;;;;;;0CACtB,8OAAC,sLAAe;gCAAC,WAAU;0CAAU;;;;;;0CAGrC,8OAAC;gCAAK,WAAU;;oCAA2C;oCACxD,aAAa,MAAM;oCAAC;;;;;;;;;;;;;kCAGxB,8OAAC;wBAAE,WAAU;kCAAgD;;;;;;;;;;;;0BAI9D,8OAAC,wLAAiB;0BACjB,cAAA,8OAAC;oBAAI,WAAU;8BACb,aAAa,GAAG,CAAC,CAAC,yBAClB,8OAAC;4BAEA,aAAa,SAAS,WAAW;sCAEjC,cAAA,8OAAC;gCAAgB,UAAU;;;;;;2BAHtB,SAAS,GAAG;;;;;;;;;;;;;;;;;;;;;AAUxB;AAEA,mFAAmF;AACnF,SAAS,qBAAqB,EAC7B,WAAW,EACX,QAAQ,EAIR;IACA,IAAI,CAAC,aAAa;QACjB,qBACC,8OAAC;YACA,WAAU;YACV,aAAU;YACV,cAAW;;8BAEX,8OAAC,4NAAO;oBAAC,WAAU;;;;;;gBAClB;;;;;;;IAGJ;IAEA,qBACC,8OAAC;QACA,MAAM;QACN,QAAO;QACP,KAAI;QACJ,WAAU;kBAET;;;;;;AAGJ"}},
    {"offset": {"line": 3592, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/app/%28workspace%29/projects/components/project-view-edit-form.tsx"],"sourcesContent":["/* eslint-disable react/no-children-prop */\n\"use client\";\n\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { useForm } from \"@tanstack/react-form\";\nimport * as z from \"zod\";\nimport { useQuery } from \"convex/react\";\nimport { api } from \"@onetool/backend/convex/_generated/api\";\nimport type { Id } from \"@onetool/backend/convex/_generated/dataModel\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n\tField,\n\tFieldError,\n\tFieldGroup,\n\tFieldLabel,\n} from \"@/components/ui/field\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Button } from \"@/components/ui/button\";\nimport { Calendar } from \"@/components/ui/calendar\";\nimport {\n\tPopover,\n\tPopoverContent,\n\tPopoverTrigger,\n} from \"@/components/ui/popover\";\nimport {\n\tTooltip,\n\tTooltipTrigger,\n\tTooltipContent,\n} from \"@/components/ui/tooltip\";\nimport ComboBox from \"@/components/ui/combo-box\";\nimport { CalendarWidget } from \"@/components/ui/calendar-widget\";\nimport { StickyFormFooter } from \"@/components/shared/sticky-form-footer\";\nimport { ButtonGroup } from \"@/components/ui/button-group\";\nimport { ProjectDocuments } from \"@/app/(workspace)/projects/components/project-documents\";\nimport { cn } from \"@/lib/utils\";\nimport {\n\tMagnifyingGlassIcon,\n\tUserIcon,\n\tCheckIcon,\n} from \"@heroicons/react/16/solid\";\nimport {\n\tMapPinIcon,\n\tPencilIcon,\n\tTrashIcon,\n\tPlayIcon,\n\tArrowTopRightOnSquareIcon,\n} from \"@heroicons/react/24/outline\";\nimport {\n\tCalendarIcon,\n\tPlus,\n\tClipboardList,\n\tReceipt,\n\tFileText,\n\tUser,\n} from \"lucide-react\";\nimport {\n\tStyledSelect,\n\tStyledSelectTrigger,\n\tStyledSelectContent,\n\tSelectValue,\n\tSelectItem,\n} from \"@/components/ui/styled/styled-select\";\nimport { StyledMultiSelector } from \"@/components/ui/styled/styled-multi-selector\";\n\ntype ClientId = Id<\"clients\">;\ntype UserId = Id<\"users\">;\n\ninterface ProjectData {\n\t_id: Id<\"projects\">;\n\tclientId?: ClientId;\n\ttitle: string;\n\tdescription?: string;\n\tinstructions?: string;\n\tprojectType: \"one-off\" | \"recurring\";\n\tstartDate?: number;\n\tendDate?: number;\n\tassignedUserIds?: UserId[];\n\tinvoiceReminderEnabled?: boolean;\n\tscheduleForLater?: boolean;\n\tstatus: \"planned\" | \"in-progress\" | \"completed\" | \"cancelled\";\n\tprojectNumber?: string;\n}\n\ninterface ProjectViewEditFormProps {\n\tprojectId: Id<\"projects\">;\n\tproject: ProjectData;\n\tonUpdate: (updates: Partial<ProjectData>) => Promise<void>;\n\tonDelete: () => Promise<void>;\n\tonStatusUpdate: (\n\t\tstatus: \"planned\" | \"in-progress\" | \"completed\" | \"cancelled\"\n\t) => Promise<void>;\n\tisUpdating: boolean;\n\tprojectTasks?: Array<{\n\t\t_id: Id<\"tasks\">;\n\t\ttitle: string;\n\t\tstatus: string;\n\t\tdate?: number;\n\t}>;\n\tprojectQuotes?: Array<{\n\t\t_id: Id<\"quotes\">;\n\t\tquoteNumber?: string;\n\t\tstatus?: string;\n\t\ttotal?: number;\n\t\t_creationTime: number;\n\t}>;\n\tapprovedQuotesCount: number;\n\tonTaskSheetOpen: () => void;\n\tonNavigate: (path: string) => void;\n\tonGenerateInvoice: () => void;\n\tisEditing?: boolean;\n\tonEditingChange?: (isEditing: boolean) => void;\n}\n\n// Zod validation schema\nconst formSchema = z.object({\n\tclientId: z.string().optional(),\n\ttitle: z.string().min(1, \"Project title is required\"),\n\tinstructions: z.string().optional(),\n\tprojectType: z.enum([\"one-off\", \"recurring\"]),\n\tstartDate: z.date().optional(),\n\tendDate: z.date().optional(),\n\tassignedUserIds: z.array(z.string()).optional(), // Array of user IDs\n\tinvoiceReminderEnabled: z.boolean(),\n\tscheduleForLater: z.boolean(),\n});\n\nconst formatDisplayDate = (date?: Date | number) => {\n\tif (!date) return \"Not set\";\n\tconst dateObj = typeof date === \"number\" ? new Date(date) : date;\n\treturn dateObj.toLocaleDateString(\"en-US\", {\n\t\tyear: \"numeric\",\n\t\tmonth: \"long\",\n\t\tday: \"numeric\",\n\t});\n};\n\nconst getStatusColor = (status: string) => {\n\tswitch (status) {\n\t\tcase \"planned\":\n\t\t\treturn \"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400\";\n\t\tcase \"in-progress\":\n\t\t\treturn \"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400\";\n\t\tcase \"completed\":\n\t\t\treturn \"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400\";\n\t\tcase \"cancelled\":\n\t\t\treturn \"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400\";\n\t\tcase \"lead\":\n\t\tcase \"prospect\":\n\t\t\treturn \"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400\";\n\t\tcase \"active\":\n\t\t\treturn \"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400\";\n\t\tcase \"inactive\":\n\t\t\treturn \"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400\";\n\t\tcase \"archived\":\n\t\t\treturn \"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400\";\n\t\tdefault:\n\t\t\treturn \"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400\";\n\t}\n};\n\nexport function ProjectViewEditForm({\n\tprojectId,\n\tproject,\n\tonUpdate,\n\tonDelete,\n\tonStatusUpdate,\n\tisUpdating,\n\tprojectTasks,\n\tprojectQuotes,\n\tapprovedQuotesCount,\n\tonTaskSheetOpen,\n\tonNavigate,\n\tonGenerateInvoice,\n\tisEditing: isEditingProp,\n\tonEditingChange,\n}: ProjectViewEditFormProps) {\n\tconst [internalIsEditing, setInternalIsEditing] = useState(false);\n\t\n\t// Use controlled prop if provided, otherwise use internal state\n\tconst isEditing = isEditingProp !== undefined ? isEditingProp : internalIsEditing;\n\tconst setIsEditing = (value: boolean) => {\n\t\tif (onEditingChange) {\n\t\t\tonEditingChange(value);\n\t\t} else {\n\t\t\tsetInternalIsEditing(value);\n\t\t}\n\t};\n\tconst [calendarDate, setCalendarDate] = useState(() => {\n\t\tconst date = new Date();\n\t\tdate.setHours(0, 0, 0, 0);\n\t\treturn date;\n\t});\n\tconst [startDateOpen, setStartDateOpen] = useState(false);\n\tconst [endDateOpen, setEndDateOpen] = useState(false);\n\n\t// Fetch related data\n\tconst allClients = useQuery(api.clients.list, {});\n\tconst client = useQuery(\n\t\tapi.clients.get,\n\t\tproject?.clientId ? { id: project.clientId } : \"skip\"\n\t);\n\tconst clientContacts = useQuery(\n\t\tapi.clientContacts.listByClient,\n\t\tproject?.clientId ? { clientId: project.clientId } : \"skip\"\n\t);\n\tconst clientProperties = useQuery(\n\t\tapi.clientProperties.listByClient,\n\t\tproject?.clientId ? { clientId: project.clientId } : \"skip\"\n\t);\n\tconst users = useQuery(api.users.listByOrg);\n\n\tconst form = useForm({\n\t\tdefaultValues: {\n\t\t\tclientId: project.clientId?.toString() || \"\",\n\t\t\ttitle: project.title,\n\t\t\tinstructions: project.instructions || \"\",\n\t\t\tprojectType: project.projectType,\n\t\t\tstartDate: project.startDate ? new Date(project.startDate) : undefined,\n\t\t\tendDate: project.endDate ? new Date(project.endDate) : undefined,\n\t\t\tassignedUserIds: project.assignedUserIds || [], // Array of user IDs\n\t\t\tinvoiceReminderEnabled: project.invoiceReminderEnabled || false,\n\t\t\tscheduleForLater: project.scheduleForLater || false,\n\t\t},\n\t\tonSubmit: async ({ value }) => {\n\t\t\tconst result = formSchema.safeParse(value);\n\t\t\tif (!result.success) {\n\t\t\t\tconsole.error(\"Validation errors:\", result.error.flatten());\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst updates: Partial<ProjectData> = {};\n\t\t\tif ((value.clientId || undefined) !== (project.clientId || undefined))\n\t\t\t\tupdates.clientId = value.clientId as ClientId | undefined;\n\t\t\tif (value.title !== project.title) updates.title = value.title.trim();\n\t\t\tif ((value.instructions || \"\") !== (project.instructions || \"\"))\n\t\t\t\tupdates.instructions = value.instructions || undefined;\n\t\t\tif (value.projectType !== project.projectType)\n\t\t\t\tupdates.projectType = value.projectType;\n\t\t\tif (\n\t\t\t\t(value.startDate ? value.startDate.getTime() : undefined) !==\n\t\t\t\t(project.startDate || undefined)\n\t\t\t)\n\t\t\t\tupdates.startDate = value.startDate\n\t\t\t\t\t? value.startDate.getTime()\n\t\t\t\t\t: undefined;\n\t\t\tif (\n\t\t\t\t(value.endDate ? value.endDate.getTime() : undefined) !==\n\t\t\t\t(project.endDate || undefined)\n\t\t\t)\n\t\t\t\tupdates.endDate = value.endDate ? value.endDate.getTime() : undefined;\n\t\t\t// Handle array of assigned users\n\t\t\tconst currentAssignedUserIds = project.assignedUserIds || [];\n\t\t\tconst newAssignedUserIds = value.assignedUserIds || [];\n\t\t\tconst assignedUsersChanged =\n\t\t\t\tcurrentAssignedUserIds.length !== newAssignedUserIds.length ||\n\t\t\t\tcurrentAssignedUserIds.some(\n\t\t\t\t\t(id, index) => id !== newAssignedUserIds[index]\n\t\t\t\t);\n\t\t\tif (assignedUsersChanged) {\n\t\t\t\tupdates.assignedUserIds =\n\t\t\t\t\tnewAssignedUserIds.length > 0\n\t\t\t\t\t\t? (newAssignedUserIds as UserId[])\n\t\t\t\t\t\t: undefined;\n\t\t\t}\n\t\t\tif (\n\t\t\t\t(value.invoiceReminderEnabled || false) !==\n\t\t\t\t(project.invoiceReminderEnabled || false)\n\t\t\t)\n\t\t\t\tupdates.invoiceReminderEnabled = !!value.invoiceReminderEnabled;\n\t\t\tif (\n\t\t\t\t(value.scheduleForLater || false) !==\n\t\t\t\t(project.scheduleForLater || false)\n\t\t\t)\n\t\t\t\tupdates.scheduleForLater = !!value.scheduleForLater;\n\n\t\t\tif (Object.keys(updates).length === 0) {\n\t\t\t\tsetIsEditing(false);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tawait onUpdate(updates);\n\t\t\tsetIsEditing(false);\n\t\t},\n\t});\n\n\t// Update form when project changes\n\tuseEffect(() => {\n\t\tif (project) {\n\t\t\tform.setFieldValue(\"clientId\", project.clientId?.toString() || \"\");\n\t\t\tform.setFieldValue(\"title\", project.title);\n\t\t\tform.setFieldValue(\"instructions\", project.instructions || \"\");\n\t\t\tform.setFieldValue(\"projectType\", project.projectType);\n\t\t\tform.setFieldValue(\n\t\t\t\t\"startDate\",\n\t\t\t\tproject.startDate ? new Date(project.startDate) : undefined\n\t\t\t);\n\t\t\tform.setFieldValue(\n\t\t\t\t\"endDate\",\n\t\t\t\tproject.endDate ? new Date(project.endDate) : undefined\n\t\t\t);\n\t\t\tform.setFieldValue(\"assignedUserIds\", project.assignedUserIds || []);\n\t\t\tform.setFieldValue(\n\t\t\t\t\"invoiceReminderEnabled\",\n\t\t\t\tproject.invoiceReminderEnabled || false\n\t\t\t);\n\t\t\tform.setFieldValue(\"scheduleForLater\", project.scheduleForLater || false);\n\t\t}\n\t}, [project, form]);\n\n\tconst resetForm = () => {\n\t\tform.setFieldValue(\"clientId\", project.clientId?.toString() || \"\");\n\t\tform.setFieldValue(\"title\", project.title);\n\t\tform.setFieldValue(\"instructions\", project.instructions || \"\");\n\t\tform.setFieldValue(\"projectType\", project.projectType);\n\t\tform.setFieldValue(\n\t\t\t\"startDate\",\n\t\t\tproject.startDate ? new Date(project.startDate) : undefined\n\t\t);\n\t\tform.setFieldValue(\n\t\t\t\"endDate\",\n\t\t\tproject.endDate ? new Date(project.endDate) : undefined\n\t\t);\n\t\tform.setFieldValue(\"assignedUserIds\", project.assignedUserIds || []);\n\t\tform.setFieldValue(\n\t\t\t\"invoiceReminderEnabled\",\n\t\t\tproject.invoiceReminderEnabled || false\n\t\t);\n\t\tform.setFieldValue(\"scheduleForLater\", project.scheduleForLater || false);\n\t};\n\n\tconst primaryContact =\n\t\tclientContacts?.find((contact) => contact.isPrimary) || clientContacts?.[0];\n\tconst primaryProperty =\n\t\tclientProperties?.find((property) => property.isPrimary) ||\n\t\tclientProperties?.[0];\n\n\tconst handleCalendarNavigation = (direction: \"prev\" | \"next\") => {\n\t\tsetCalendarDate((prevDate) => {\n\t\t\tconst newDate = new Date(prevDate);\n\t\t\tif (direction === \"prev\") {\n\t\t\t\tnewDate.setMonth(newDate.getMonth() - 1);\n\t\t\t} else {\n\t\t\t\tnewDate.setMonth(newDate.getMonth() + 1);\n\t\t\t}\n\t\t\treturn newDate;\n\t\t});\n\t};\n\n\tconst handleDateClick = (day: number | null) => {\n\t\tif (!day || !isEditing) return;\n\n\t\tconst clickedDate = new Date(\n\t\t\tcalendarDate.getFullYear(),\n\t\t\tcalendarDate.getMonth(),\n\t\t\tday\n\t\t);\n\t\tclickedDate.setHours(0, 0, 0, 0);\n\n\t\tconst currentStartDate = form.getFieldValue(\"startDate\");\n\t\tconst currentEndDate = form.getFieldValue(\"endDate\");\n\n\t\t// Set as start date if none exists\n\t\tif (!currentStartDate) {\n\t\t\tform.setFieldValue(\"startDate\", clickedDate);\n\t\t} else if (!currentEndDate) {\n\t\t\tform.setFieldValue(\"endDate\", clickedDate);\n\t\t} else {\n\t\t\t// Cycle through: reset and set as start date\n\t\t\tform.setFieldValue(\"startDate\", clickedDate);\n\t\t\tform.setFieldValue(\"endDate\", undefined);\n\t\t}\n\t};\n\n\tconst handleProjectTypeChange = (type: \"one-off\" | \"recurring\") => {\n\t\tform.setFieldValue(\"projectType\", type);\n\t};\n\n\tconst clientOptions = useMemo(\n\t\t() => (allClients ?? []).map((c) => c.companyName),\n\t\t[allClients]\n\t);\n\n\tconst getFooterButtons = (isDirty: boolean) => {\n\t\tconst buttons = [];\n\n\t\t// Left side buttons - Primary actions\n\t\tif (isEditing) {\n\t\t\tbuttons.push({\n\t\t\t\tlabel: isUpdating ? \"Saving...\" : \"Save\",\n\t\t\t\tonClick: () => form.handleSubmit(),\n\t\t\t\tintent: \"primary\" as const,\n\t\t\t\tdisabled: isUpdating || !isDirty,\n\t\t\t\ticon: <CheckIcon className=\"h-4 w-4\" />,\n\t\t\t});\n\t\t\tbuttons.push({\n\t\t\t\tlabel: \"Cancel\",\n\t\t\t\tonClick: () => {\n\t\t\t\t\tresetForm();\n\t\t\t\t\tsetIsEditing(false);\n\t\t\t\t},\n\t\t\t\tintent: \"outline\" as const,\n\t\t\t});\n\t\t} else {\n\t\t\tbuttons.push({\n\t\t\t\tlabel: \"Edit\",\n\t\t\t\tonClick: () => setIsEditing(true),\n\t\t\t\tintent: \"outline\" as const,\n\t\t\t\ticon: <PencilIcon className=\"h-4 w-4\" />,\n\t\t\t});\n\t\t}\n\n\t\t// Right side buttons - Status actions and secondary actions\n\t\tif (project) {\n\t\t\tswitch (project.status) {\n\t\t\t\tcase \"planned\":\n\t\t\t\t\tbuttons.push({\n\t\t\t\t\t\tlabel: \"Start Project\",\n\t\t\t\t\t\tonClick: () => onStatusUpdate(\"in-progress\"),\n\t\t\t\t\t\tintent: \"success\" as const,\n\t\t\t\t\t\tdisabled: isUpdating,\n\t\t\t\t\t\ticon: <PlayIcon className=\"h-4 w-4\" />,\n\t\t\t\t\t\tposition: \"right\" as const,\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"in-progress\":\n\t\t\t\t\tbuttons.push({\n\t\t\t\t\t\tlabel: \"Complete\",\n\t\t\t\t\t\tonClick: () => onStatusUpdate(\"completed\"),\n\t\t\t\t\t\tintent: \"success\" as const,\n\t\t\t\t\t\tdisabled: isUpdating,\n\t\t\t\t\t\ticon: <CheckIcon className=\"h-4 w-4\" />,\n\t\t\t\t\t\tposition: \"right\" as const,\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"completed\":\n\t\t\t\t\tbuttons.push({\n\t\t\t\t\t\tlabel: \"Reopen Project\",\n\t\t\t\t\t\tonClick: () => onStatusUpdate(\"in-progress\"),\n\t\t\t\t\t\tintent: \"outline\" as const,\n\t\t\t\t\t\tdisabled: isUpdating,\n\t\t\t\t\t\tposition: \"right\" as const,\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"cancelled\":\n\t\t\t\t\tbuttons.push({\n\t\t\t\t\t\tlabel: \"Restore Project\",\n\t\t\t\t\t\tonClick: () => onStatusUpdate(\"planned\"),\n\t\t\t\t\t\tintent: \"outline\" as const,\n\t\t\t\t\t\tdisabled: isUpdating,\n\t\t\t\t\t\tposition: \"right\" as const,\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t// Add Generate Invoice button (right side, before Delete)\n\t\tbuttons.push({\n\t\t\tlabel: \"Generate Invoice\",\n\t\t\tonClick: onGenerateInvoice,\n\t\t\tintent: \"primary\" as const,\n\t\t\ticon: <FileText className=\"h-4 w-4\" />,\n\t\t\tposition: \"right\" as const,\n\t\t\tdisabled: approvedQuotesCount === 0,\n\t\t});\n\n\t\tbuttons.push({\n\t\t\tlabel: \"Delete\",\n\t\t\tonClick: onDelete,\n\t\t\tintent: \"destructive\" as const,\n\t\t\ticon: <TrashIcon className=\"h-4 w-4\" />,\n\t\t\tposition: \"right\" as const,\n\t\t});\n\n\t\treturn buttons;\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"space-y-8\">\n\t\t\t\t{/* Client Information, Property Address & Contact Details */}\n\t\t\t\t<div className=\"grid grid-cols-1 gap-6 lg:grid-cols-3\">\n\t\t\t\t\t{/* Client Information */}\n\t\t\t\t\t<Card className=\"shadow-sm border-gray-200/60 dark:border-white/10\">\n\t\t\t\t\t\t<CardHeader className=\"pb-4\">\n\t\t\t\t\t\t\t<CardTitle className=\"flex items-center justify-between text-xl font-semibold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t<MagnifyingGlassIcon className=\"h-5 w-5 text-blue-600 dark:text-blue-400\" />\n\t\t\t\t\t\t\t\t\tClient Information\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{client && (\n\t\t\t\t\t\t\t\t\t<Tooltip>\n\t\t\t\t\t\t\t\t\t\t<TooltipTrigger asChild>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => onNavigate(`/clients/${client._id}`)}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"inline-flex items-center justify-center h-8 w-8 rounded-md bg-transparent hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<ArrowTopRightOnSquareIcon className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</TooltipTrigger>\n\t\t\t\t\t\t\t\t\t\t<TooltipContent>\n\t\t\t\t\t\t\t\t\t\t\t<p>Navigate to client page</p>\n\t\t\t\t\t\t\t\t\t\t</TooltipContent>\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t<CardContent className=\"space-y-4\">\n\t\t\t\t\t\t\t{/* Always show ComboBox at top */}\n\t\t\t\t\t\t\t<div className=\"grid gap-2\">\n\t\t\t\t\t\t\t\t<label className=\"text-sm text-gray-600 dark:text-gray-400 text-left\">\n\t\t\t\t\t\t\t\t\tSelected Client\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<form.Field\n\t\t\t\t\t\t\t\t\tname=\"clientId\"\n\t\t\t\t\t\t\t\t\tchildren={(field) => (\n\t\t\t\t\t\t\t\t\t\t<ComboBox\n\t\t\t\t\t\t\t\t\t\t\toptions={clientOptions}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={\n\t\t\t\t\t\t\t\t\t\t\t\tclient ? client.companyName : \"No client selected...\"\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!isEditing}\n\t\t\t\t\t\t\t\t\t\t\tonSelect={(option) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (isEditing) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst selectedClient = allClients?.find(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(c) => c.companyName === option\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\tfield.handleChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedClient ? selectedClient._id : \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{/* Show details only when not editing and client exists */}\n\t\t\t\t\t\t\t{client && !isEditing ? (\n\t\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-4 text-sm\">\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\tStatus:\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mt-1\">\n\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={getStatusColor(client.status)}\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{client.status}\n\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\tType:\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<div className=\"mt-1 text-gray-900 dark:text-white capitalize\">\n\t\t\t\t\t\t\t\t\t\t\t{client.clientType || \"Not specified\"}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\tIndustry:\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<div className=\"mt-1 text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t{client.industry || \"No industry specified\"}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{client.companyDescription && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-span-2\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\tDescription:\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-1 text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t{client.companyDescription}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{primaryContact?.email && (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\tEmail:\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\thref={`mailto:${primaryContact.email}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-blue-600 dark:text-blue-400 hover:underline\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.email}\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{primaryContact?.phone && (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\tPhone:\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\thref={`tel:${primaryContact.phone}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-blue-600 dark:text-blue-400 hover:underline\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.phone}\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : isEditing ? (\n\t\t\t\t\t\t\t\t<div className=\"text-center py-8 text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm\">\n\t\t\t\t\t\t\t\t\t\tSelect a client above to see details\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"text-center py-8 text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm\">No client selected</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Card>\n\n\t\t\t\t\t{/* Property Address */}\n\t\t\t\t\t<Card className=\"shadow-sm border-gray-200/60 dark:border-white/10\">\n\t\t\t\t\t\t<CardHeader className=\"pb-4\">\n\t\t\t\t\t\t\t<CardTitle className=\"flex items-center gap-2 text-xl font-semibold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t<MapPinIcon className=\"h-5 w-5 text-green-600 dark:text-green-400\" />\n\t\t\t\t\t\t\t\tProperty Address\n\t\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t<CardContent className=\"space-y-4\">\n\t\t\t\t\t\t\t{/* Always show ComboBox at top */}\n\t\t\t\t\t\t\t<div className=\"grid gap-2\">\n\t\t\t\t\t\t\t\t<label className=\"text-sm text-gray-600 dark:text-gray-400 text-left\">\n\t\t\t\t\t\t\t\t\tSelected Property\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<ComboBox\n\t\t\t\t\t\t\t\t\toptions={\n\t\t\t\t\t\t\t\t\t\tclientProperties && clientProperties.length > 0\n\t\t\t\t\t\t\t\t\t\t\t? clientProperties.map((property) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tproperty.propertyName\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `${property.propertyName} - ${property.streetAddress}`\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: property.streetAddress\n\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t: []\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tplaceholder={\n\t\t\t\t\t\t\t\t\t\tprimaryProperty\n\t\t\t\t\t\t\t\t\t\t\t? primaryProperty.propertyName\n\t\t\t\t\t\t\t\t\t\t\t\t? `${primaryProperty.propertyName} - ${primaryProperty.streetAddress}`\n\t\t\t\t\t\t\t\t\t\t\t\t: primaryProperty.streetAddress\n\t\t\t\t\t\t\t\t\t\t\t: client &&\n\t\t\t\t\t\t\t\t\t\t\t  clientProperties &&\n\t\t\t\t\t\t\t\t\t\t\t  clientProperties.length > 0\n\t\t\t\t\t\t\t\t\t\t\t? \"Select a property...\"\n\t\t\t\t\t\t\t\t\t\t\t: client\n\t\t\t\t\t\t\t\t\t\t\t? \"No properties available...\"\n\t\t\t\t\t\t\t\t\t\t\t: \"Select a client first...\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tdisabled={!isEditing}\n\t\t\t\t\t\t\t\t\tonSelect={(option) => {\n\t\t\t\t\t\t\t\t\t\tif (isEditing && clientProperties) {\n\t\t\t\t\t\t\t\t\t\t\tconst selectedProperty = clientProperties.find(\n\t\t\t\t\t\t\t\t\t\t\t\t(property) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst displayName = property.propertyName\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `${property.propertyName} - ${property.streetAddress}`\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: property.streetAddress;\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn displayName === option;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"Selected property:\", selectedProperty);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{/* Show details only when not editing and property exists */}\n\t\t\t\t\t\t\t{primaryProperty && !isEditing ? (\n\t\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-4 text-sm\">\n\t\t\t\t\t\t\t\t\t{primaryProperty.propertyName && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-span-2\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\tProperty Name:\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-1 text-gray-900 dark:text-white font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t{primaryProperty.propertyName}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\tType:\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<div className=\"mt-1 text-gray-900 dark:text-white capitalize\">\n\t\t\t\t\t\t\t\t\t\t\t{primaryProperty.propertyType || \"Not specified\"}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{primaryProperty.squareFootage && (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\tSquare Footage:\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-1 text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t{primaryProperty.squareFootage.toLocaleString()} sq ft\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<div className=\"col-span-2\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\tAddress:\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<div className=\"mt-1 text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t{primaryProperty.streetAddress}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t{primaryProperty.city}, {primaryProperty.state}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t{primaryProperty.zipCode}\n\t\t\t\t\t\t\t\t\t\t\t\t{primaryProperty.country &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t`, ${primaryProperty.country}`}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{primaryProperty.description && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-span-2\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\tDescription:\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-1 text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t{primaryProperty.description}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : isEditing ? (\n\t\t\t\t\t\t\t\t<div className=\"text-center py-8 text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm\">\n\t\t\t\t\t\t\t\t\t\t{client\n\t\t\t\t\t\t\t\t\t\t\t? clientProperties && clientProperties.length > 0\n\t\t\t\t\t\t\t\t\t\t\t\t? \"Select a property above to see details\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"No properties available for this client\"\n\t\t\t\t\t\t\t\t\t\t\t: \"Select a client first to see properties\"}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"text-center py-8 text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm\">No property selected</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Card>\n\n\t\t\t\t\t{/* Contact Details */}\n\t\t\t\t\t<Card className=\"shadow-sm border-gray-200/60 dark:border-white/10\">\n\t\t\t\t\t\t<CardHeader className=\"pb-4\">\n\t\t\t\t\t\t\t<CardTitle className=\"flex items-center gap-2 text-xl font-semibold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t<UserIcon className=\"h-5 w-5 text-purple-600 dark:text-purple-400\" />\n\t\t\t\t\t\t\t\tContact Details\n\t\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t<CardContent className=\"space-y-4\">\n\t\t\t\t\t\t\t{/* Always show ComboBox at top */}\n\t\t\t\t\t\t\t<div className=\"grid gap-2\">\n\t\t\t\t\t\t\t\t<label className=\"text-sm text-gray-600 dark:text-gray-400 text-left\">\n\t\t\t\t\t\t\t\t\tSelected Contact\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<ComboBox\n\t\t\t\t\t\t\t\t\toptions={\n\t\t\t\t\t\t\t\t\t\tclientContacts && clientContacts.length > 0\n\t\t\t\t\t\t\t\t\t\t\t? clientContacts.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t(contact) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t`${contact.firstName} ${contact.lastName}${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontact.jobTitle ? ` - ${contact.jobTitle}` : \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}`\n\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t: []\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tplaceholder={\n\t\t\t\t\t\t\t\t\t\tprimaryContact\n\t\t\t\t\t\t\t\t\t\t\t? `${primaryContact.firstName} ${\n\t\t\t\t\t\t\t\t\t\t\t\t\tprimaryContact.lastName\n\t\t\t\t\t\t\t\t\t\t\t  }${\n\t\t\t\t\t\t\t\t\t\t\t\t\tprimaryContact.jobTitle\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? ` - ${primaryContact.jobTitle}`\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t\t\t  }`\n\t\t\t\t\t\t\t\t\t\t\t: client && clientContacts && clientContacts.length > 0\n\t\t\t\t\t\t\t\t\t\t\t? \"Select a contact...\"\n\t\t\t\t\t\t\t\t\t\t\t: client\n\t\t\t\t\t\t\t\t\t\t\t? \"No contacts available...\"\n\t\t\t\t\t\t\t\t\t\t\t: \"Select a client first...\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tdisabled={!isEditing}\n\t\t\t\t\t\t\t\t\tonSelect={(option) => {\n\t\t\t\t\t\t\t\t\t\tif (isEditing && clientContacts) {\n\t\t\t\t\t\t\t\t\t\t\tconst selectedContact = clientContacts.find((contact) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst displayName = `${contact.firstName} ${\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontact.lastName\n\t\t\t\t\t\t\t\t\t\t\t\t}${contact.jobTitle ? ` - ${contact.jobTitle}` : \"\"}`;\n\t\t\t\t\t\t\t\t\t\t\t\treturn displayName === option;\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"Selected contact:\", selectedContact);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{/* Show details only when not editing and contact exists */}\n\t\t\t\t\t\t\t{primaryContact && !isEditing ? (\n\t\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-4 text-sm\">\n\t\t\t\t\t\t\t\t\t<div className=\"col-span-2\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\tName:\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<div className=\"mt-1 text-gray-900 dark:text-white font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t{primaryContact.firstName} {primaryContact.lastName}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{primaryContact.jobTitle && (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\tJob Title:\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-1 text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.jobTitle}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{primaryContact.role && (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\tRole:\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-1 text-gray-900 dark:text-white capitalize\">\n\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.role}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{primaryContact.department && (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\tDepartment:\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-1 text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.department}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{primaryContact.email && (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\tEmail:\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\thref={`mailto:${primaryContact.email}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-blue-600 dark:text-blue-400 hover:underline\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.email}\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{primaryContact.phone && (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\tPhone:\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\thref={`tel:${primaryContact.phone}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-blue-600 dark:text-blue-400 hover:underline\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.phone}\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : isEditing ? (\n\t\t\t\t\t\t\t\t<div className=\"text-center py-8 text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm\">\n\t\t\t\t\t\t\t\t\t\t{client\n\t\t\t\t\t\t\t\t\t\t\t? clientContacts && clientContacts.length > 0\n\t\t\t\t\t\t\t\t\t\t\t\t? \"Select a contact above to see details\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"No contacts available for this client\"\n\t\t\t\t\t\t\t\t\t\t\t: \"Select a client first to see contacts\"}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"text-center py-8 text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm\">No contact selected</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Card>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Project Information & Documents */}\n\t\t\t\t<div className=\"grid grid-cols-1 gap-6 lg:grid-cols-3\">\n\t\t\t\t\t{/* Project Information */}\n\t\t\t\t\t<Card\n\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\"shadow-sm border-gray-200/60 dark:border-white/10\",\n\t\t\t\t\t\t\tisEditing ? \"lg:col-span-3\" : \"lg:col-span-2\"\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CardHeader className=\"pb-4\">\n\t\t\t\t\t\t\t<CardTitle className=\"text-xl font-semibold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\tProject Information\n\t\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t<CardContent className=\"space-y-6\">\n\t\t\t\t\t\t\t<div className=\"space-y-6\">\n\t\t\t\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t\t\t\t<form.Field\n\t\t\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\t\t\tchildren={(field) => {\n\t\t\t\t\t\t\t\t\t\t\tconst isInvalid =\n\t\t\t\t\t\t\t\t\t\t\t\tfield.state.meta.isTouched &&\n\t\t\t\t\t\t\t\t\t\t\t\tfield.state.meta.errors.length > 0;\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<Field data-invalid={isInvalid}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={field.name}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tProject Title\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={field.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={field.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={field.state.value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={field.handleBlur}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => field.handleChange(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-invalid={isInvalid}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!isEditing}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{isInvalid && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FieldError errors={field.state.meta.errors} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldGroup>\n\n\t\t\t\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t\t\t\t<form.Field\n\t\t\t\t\t\t\t\t\t\tname=\"instructions\"\n\t\t\t\t\t\t\t\t\t\tchildren={(field) => {\n\t\t\t\t\t\t\t\t\t\t\tconst isInvalid =\n\t\t\t\t\t\t\t\t\t\t\t\tfield.state.meta.isTouched &&\n\t\t\t\t\t\t\t\t\t\t\t\tfield.state.meta.errors.length > 0;\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<Field data-invalid={isInvalid}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={field.name}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tInstructions\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={field.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={field.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={field.state.value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={field.handleBlur}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => field.handleChange(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-invalid={isInvalid}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trows={4}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!isEditing}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{isInvalid && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FieldError errors={field.state.meta.errors} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldGroup>\n\n\t\t\t\t\t\t\t\t{/* Assigned Users */}\n\t\t\t\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t\t\t\t<form.Field\n\t\t\t\t\t\t\t\t\t\tname=\"assignedUserIds\"\n\t\t\t\t\t\t\t\t\t\tchildren={(field) => {\n\t\t\t\t\t\t\t\t\t\t\t// Get current value as strings for the multi-selector\n\t\t\t\t\t\t\t\t\t\t\tconst currentValues = (field.state.value ||\n\t\t\t\t\t\t\t\t\t\t\t\t[]) as string[];\n\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FieldLabel\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thtmlFor={field.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<User className=\"h-4 w-4 text-primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tAssign To\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledMultiSelector\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tusers?.map((user) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: user.name || user.email,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: user._id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})) || []\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={currentValues}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonValueChange={(values) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfield.handleChange(values as UserId[])\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Select team members\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxCount={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!isEditing}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldGroup>\n\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<label className=\"block text-sm font-medium text-gray-900 dark:text-white mb-2\">\n\t\t\t\t\t\t\t\t\t\tProject Number\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm text-gray-900 dark:text-white font-mono\">\n\t\t\t\t\t\t\t\t\t\t\t#{project.projectNumber || projectId.slice(-6)}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* Invoice Reminder Checkbox */}\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3 pt-4 border-t border-gray-200 dark:border-white/10\">\n\t\t\t\t\t\t\t\t\t<form.Field\n\t\t\t\t\t\t\t\t\t\tname=\"invoiceReminderEnabled\"\n\t\t\t\t\t\t\t\t\t\tchildren={(field) => (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={field.state.value}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => field.handleChange(e.target.checked)}\n\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly={!isEditing}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!isEditing}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-4 w-4 rounded border-gray-300 dark:border-white/10 text-blue-600 dark:text-indigo-500\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"text-sm text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tRemind me to invoice when I close the project\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Card>\n\n\t\t\t\t\t{/* Project Documents - Only show when not editing */}\n\t\t\t\t\t{!isEditing && (\n\t\t\t\t\t\t<div className=\"lg:col-span-1\">\n\t\t\t\t\t\t\t<ProjectDocuments projectId={projectId} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t{/* Schedule */}\n\t\t\t\t<Card className=\"shadow-sm border-gray-200/60 dark:border-white/10\">\n\t\t\t\t\t<CardHeader className=\"pb-4\">\n\t\t\t\t\t\t<CardTitle className=\"flex items-center gap-2 text-xl font-semibold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t<CalendarIcon className=\"h-5 w-5 text-orange-600 dark:text-orange-400\" />\n\t\t\t\t\t\t\tSchedule & Project Details\n\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t</CardHeader>\n\t\t\t\t\t<CardContent className=\"space-y-6\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label className=\"block text-sm font-medium text-gray-900 dark:text-white mb-3\">\n\t\t\t\t\t\t\t\tProject Type\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<form.Field\n\t\t\t\t\t\t\t\tname=\"projectType\"\n\t\t\t\t\t\t\t\tchildren={(field) => (\n\t\t\t\t\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (isEditing) {\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleProjectTypeChange(\"one-off\");\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!isEditing}\n\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\t\"inline-flex items-center gap-2 font-semibold transition-all duration-200 text-xs px-3 py-1.5 ring-1 shadow-sm hover:shadow-md backdrop-blur-sm\",\n\t\t\t\t\t\t\t\t\t\t\t\tfield.state.value === \"one-off\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"text-primary hover:text-primary/80 bg-primary/10 hover:bg-primary/15 ring-primary/30 hover:ring-primary/40\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"text-gray-600 hover:text-gray-700 bg-transparent hover:bg-gray-50 ring-transparent hover:ring-gray-200 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:bg-gray-800 dark:hover:ring-gray-700\"\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tOne-off Project\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (isEditing) {\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleProjectTypeChange(\"recurring\");\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!isEditing}\n\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\t\"inline-flex items-center gap-2 font-semibold transition-all duration-200 text-xs px-3 py-1.5 ring-1 shadow-sm hover:shadow-md backdrop-blur-sm\",\n\t\t\t\t\t\t\t\t\t\t\t\tfield.state.value === \"recurring\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"text-primary hover:text-primary/80 bg-primary/10 hover:bg-primary/15 ring-primary/30 hover:ring-primary/40\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"text-gray-600 hover:text-gray-700 bg-transparent hover:bg-gray-50 ring-transparent hover:ring-gray-200 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:bg-gray-800 dark:hover:ring-gray-700\"\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tRecurring Project\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"grid grid-cols-1 gap-6 lg:grid-cols-2\">\n\t\t\t\t\t\t\t{/* Schedule Information */}\n\t\t\t\t\t\t\t<div className=\"space-y-6\">\n\t\t\t\t\t\t\t\t<div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2\">\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<label className=\"block text-sm font-medium text-gray-900 dark:text-white mb-2\">\n\t\t\t\t\t\t\t\t\t\t\tStart Date\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t<form.Field\n\t\t\t\t\t\t\t\t\t\t\tname=\"startDate\"\n\t\t\t\t\t\t\t\t\t\t\tchildren={(field) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<Popover\n\t\t\t\t\t\t\t\t\t\t\t\t\topen={startDateOpen}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonOpenChange={setStartDateOpen}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PopoverTrigger asChild>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full justify-start text-left font-normal\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisDisabled={!isEditing || isUpdating}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CalendarIcon className=\"mr-2 h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{field.state.value\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? formatDisplayDate(field.state.value)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Select start date\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PopoverTrigger>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PopoverContent\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-auto p-0 bg-white dark:bg-gray-950\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign=\"start\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Calendar\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmode=\"single\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected={field.state.value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSelect={(date) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfield.handleChange(date);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetStartDateOpen(false);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isUpdating}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bg-white! dark:bg-gray-950!\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</PopoverContent>\n\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<label className=\"block text-sm font-medium text-gray-900 dark:text-white mb-2\">\n\t\t\t\t\t\t\t\t\t\t\tEnd Date\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t<form.Field\n\t\t\t\t\t\t\t\t\t\t\tname=\"endDate\"\n\t\t\t\t\t\t\t\t\t\t\tchildren={(field) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst startDateValue = form.getFieldValue(\"startDate\");\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Popover\n\t\t\t\t\t\t\t\t\t\t\t\t\t\topen={endDateOpen}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonOpenChange={setEndDateOpen}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PopoverTrigger asChild>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full justify-start text-left font-normal\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisDisabled={!isEditing || isUpdating}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CalendarIcon className=\"mr-2 h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{field.state.value\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? formatDisplayDate(field.state.value)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Select end date\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</PopoverTrigger>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PopoverContent\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-auto p-0 bg-white dark:bg-gray-950\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talign=\"start\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Calendar\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmode=\"single\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected={field.state.value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSelect={(date) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfield.handleChange(date);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetEndDateOpen(false);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={(date) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (isUpdating) return true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!startDateValue) return false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst start =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttypeof startDateValue === \"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? new Date(startDateValue)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: new Date(startDateValue.getTime());\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstart.setHours(0, 0, 0, 0);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst checkDate = new Date(date);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcheckDate.setHours(0, 0, 0, 0);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn checkDate < start;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bg-white! dark:bg-gray-950!\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</PopoverContent>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Popover>\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t<form.Field\n\t\t\t\t\t\t\t\t\t\tname=\"scheduleForLater\"\n\t\t\t\t\t\t\t\t\t\tchildren={(field) => (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={field.state.value}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => field.handleChange(e.target.checked)}\n\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly={!isEditing}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!isEditing}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-4 w-4 rounded border-gray-300 dark:border-white/10 text-blue-600 dark:text-indigo-500\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"text-sm text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tScheduled for later\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{/* Project Timeline Calendar */}\n\t\t\t\t\t\t\t<CalendarWidget\n\t\t\t\t\t\t\t\tform={form}\n\t\t\t\t\t\t\t\tcalendarDate={calendarDate}\n\t\t\t\t\t\t\t\thandleCalendarNavigation={handleCalendarNavigation}\n\t\t\t\t\t\t\t\thandleDateClick={handleDateClick}\n\t\t\t\t\t\t\t\tformatDisplayDate={formatDisplayDate}\n\t\t\t\t\t\t\t\tvariant=\"default\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\n\t\t\t\t{/* Tasks & Quotes - Only show when not editing */}\n\t\t\t\t{!isEditing && (\n\t\t\t\t\t<div className=\"grid grid-cols-1 gap-6 lg:grid-cols-2\">\n\t\t\t\t\t\t{/* Tasks */}\n\t\t\t\t\t\t<Card className=\"shadow-sm border-gray-200/60 dark:border-white/10\">\n\t\t\t\t\t\t\t<CardHeader className=\"pb-4\">\n\t\t\t\t\t\t\t\t<CardTitle className=\"flex items-center justify-between text-xl font-semibold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t<span>Tasks ({projectTasks?.length || 0})</span>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tonClick={onTaskSheetOpen}\n\t\t\t\t\t\t\t\t\t\tclassName=\"group inline-flex items-center gap-2 text-sm font-semibold text-primary hover:text-primary/80 transition-all duration-200 px-4 py-2 rounded-lg bg-primary/10 hover:bg-primary/15 ring-1 ring-primary/30 hover:ring-primary/40 shadow-sm hover:shadow-md backdrop-blur-sm\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Plus className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\tAdd Task\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"group-hover:translate-x-1 transition-transform duration-200\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t{projectTasks && projectTasks.length > 0 ? (\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t\t{projectTasks.slice(0, 4).map((task) => (\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tkey={task._id}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex items-center justify-between p-3 border border-gray-200 dark:border-white/10 rounded-lg hover:bg-gray-50 dark:hover:bg-white/5 transition-colors\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`w-2 h-2 rounded-full ${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttask.status === \"completed\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"bg-green-500\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: task.status === \"cancelled\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"bg-red-500\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"bg-yellow-500\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-medium text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{task.title}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{task.date && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatDisplayDate(task.date)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<Badge className={getStatusColor(task.status)}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{task.status}\n\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t{projectTasks.length > 4 && (\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tonNavigate(`/projects/${projectId}/tasks`)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full mt-3 h-9 px-3 py-2 text-sm border border-gray-200 dark:border-white/10 rounded-md hover:bg-gray-50 dark:hover:bg-white/5 transition-colors\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tView All {projectTasks.length} Tasks\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div className=\"p-6 border-2 border-dashed border-gray-300 dark:border-white/20 rounded-lg text-center\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-center mb-3\">\n\t\t\t\t\t\t\t\t\t\t\t<ClipboardList className=\"h-12 w-12 text-gray-400 dark:text-gray-600\" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\tNo tasks created yet\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</Card>\n\n\t\t\t\t\t\t{/* Quotes */}\n\t\t\t\t\t\t<Card className=\"shadow-sm border-gray-200/60 dark:border-white/10\">\n\t\t\t\t\t\t\t<CardHeader className=\"pb-4\">\n\t\t\t\t\t\t\t\t<CardTitle className=\"flex items-center justify-between text-xl font-semibold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t<span>Quotes ({projectQuotes?.length || 0})</span>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\tonNavigate(`/quotes/new?projectId=${projectId}`)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tclassName=\"group inline-flex items-center gap-2 text-sm font-semibold text-primary hover:text-primary/80 transition-all duration-200 px-4 py-2 rounded-lg bg-primary/10 hover:bg-primary/15 ring-1 ring-primary/30 hover:ring-primary/40 shadow-sm hover:shadow-md backdrop-blur-sm\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Plus className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\tAdd Quote\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"group-hover:translate-x-1 transition-transform duration-200\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t{projectQuotes && projectQuotes.length > 0 ? (\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t\t{projectQuotes.slice(0, 4).map((quote) => (\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tkey={quote._id}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex items-center justify-between p-3 border border-gray-200 dark:border-white/10 rounded-lg hover:bg-gray-50 dark:hover:bg-white/5 transition-colors cursor-pointer\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => onNavigate(`/quotes/${quote._id}`)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-2 h-2 rounded-full bg-blue-500\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-medium text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tQuote #{quote.quoteNumber || quote._id.slice(-6)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatDisplayDate(quote._creationTime)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{quote.total && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-medium text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${quote.total.toLocaleString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={getStatusColor(quote.status || \"draft\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{quote.status || \"draft\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t{projectQuotes.length > 4 && (\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tonNavigate(`/projects/${projectId}/quotes`)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full mt-3 h-9 px-3 py-2 text-sm border border-gray-200 dark:border-white/10 rounded-md hover:bg-gray-50 dark:hover:bg-white/5 transition-colors\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tView All {projectQuotes.length} Quotes\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div className=\"p-6 border-2 border-dashed border-gray-300 dark:border-white/20 rounded-lg text-center\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-center mb-3\">\n\t\t\t\t\t\t\t\t\t\t\t<Receipt className=\"h-12 w-12 text-gray-400 dark:text-gray-600\" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\tNo quotes created yet\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<form.Subscribe\n\t\t\t\tselector={(state) => state.values}\n\t\t\t\tchildren={(formValues) => {\n\t\t\t\t\t// Helper to compare arrays\n\t\t\t\t\tconst arraysEqual = (\n\t\t\t\t\t\ta: string[] | undefined,\n\t\t\t\t\t\tb: string[] | undefined\n\t\t\t\t\t) => {\n\t\t\t\t\t\tconst arr1 = a || [];\n\t\t\t\t\t\tconst arr2 = b || [];\n\t\t\t\t\t\tif (arr1.length !== arr2.length) return false;\n\t\t\t\t\t\treturn arr1.every((val, idx) => val === arr2[idx]);\n\t\t\t\t\t};\n\n\t\t\t\t\t// Recalculate isDirty with current form values\n\t\t\t\t\tconst currentIsDirty =\n\t\t\t\t\t\t(formValues.clientId || \"\") !==\n\t\t\t\t\t\t\t(project.clientId?.toString() || \"\") ||\n\t\t\t\t\t\tformValues.title !== project.title ||\n\t\t\t\t\t\t(formValues.instructions || \"\") !== (project.instructions || \"\") ||\n\t\t\t\t\t\tformValues.projectType !== project.projectType ||\n\t\t\t\t\t\t(formValues.startDate\n\t\t\t\t\t\t\t? formValues.startDate.getTime()\n\t\t\t\t\t\t\t: undefined) !== (project.startDate || undefined) ||\n\t\t\t\t\t\t(formValues.endDate ? formValues.endDate.getTime() : undefined) !==\n\t\t\t\t\t\t\t(project.endDate || undefined) ||\n\t\t\t\t\t\t!arraysEqual(formValues.assignedUserIds, project.assignedUserIds) ||\n\t\t\t\t\t\t(formValues.invoiceReminderEnabled || false) !==\n\t\t\t\t\t\t\t(project.invoiceReminderEnabled || false) ||\n\t\t\t\t\t\t(formValues.scheduleForLater || false) !==\n\t\t\t\t\t\t\t(project.scheduleForLater || false);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<StickyFormFooter\n\t\t\t\t\t\t\tbuttons={getFooterButtons(currentIsDirty)}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\thasUnsavedChanges={currentIsDirty}\n\t\t\t\t\t\t\tisEditing={isEditing}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nProjectViewEditForm.displayName = \"ProjectViewEditForm\";\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5952, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/ui/avatar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Avatar({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\n  return (\n    <AvatarPrimitive.Root\n      data-slot=\"avatar\"\n      className={cn(\n        \"relative flex size-8 shrink-0 overflow-hidden rounded-full\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarImage({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\n  return (\n    <AvatarPrimitive.Image\n      data-slot=\"avatar-image\"\n      className={cn(\"aspect-square size-full\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarFallback({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\n  return (\n    <AvatarPrimitive.Fallback\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        \"bg-muted flex size-full items-center justify-center rounded-full\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,8OAAC,0KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,8DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,8OAAC,8KAAwB;QACvB,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,oEACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 6005, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/shared/mention-input.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef, useEffect } from \"react\";\nimport { useQuery, useMutation } from \"convex/react\";\nimport { useOrganization } from \"@clerk/nextjs\";\nimport { api } from \"@onetool/backend/convex/_generated/api\";\nimport { StyledButton } from \"@/components/ui/styled/styled-button\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport {\n\tPopover,\n\tPopoverContent,\n\tPopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Send, Paperclip, X, FileIcon, Loader2 } from \"lucide-react\";\nimport type { Id } from \"@onetool/backend/convex/_generated/dataModel\";\n\ninterface MentionInputProps {\n\tentityType: \"client\" | \"project\" | \"quote\";\n\tentityId: string;\n\tentityName: string;\n\tonMentionCreated?: () => void;\n}\n\ninterface AttachmentFile {\n\ttempId: string;\n\tfile: File;\n\tstorageId?: Id<\"_storage\">;\n\tuploading: boolean;\n\terror?: string;\n}\n\nexport function MentionInput({\n\tentityType,\n\tentityId,\n\tentityName,\n\tonMentionCreated,\n}: MentionInputProps) {\n\tconst [message, setMessage] = useState(\"\");\n\tconst [showUserList, setShowUserList] = useState(false);\n\tconst [searchQuery, setSearchQuery] = useState(\"\");\n\tconst [mentionedUsers, setMentionedUsers] = useState<\n\t\tArray<{ id: Id<\"users\">; name: string }>\n\t>([]);\n\tconst [attachments, setAttachments] = useState<AttachmentFile[]>([]);\n\tconst [previewUrls, setPreviewUrls] = useState<Map<string, string>>(\n\t\tnew Map()\n\t);\n\tconst contentEditableRef = useRef<HTMLDivElement>(null);\n\tconst fileInputRef = useRef<HTMLInputElement>(null);\n\tconst toast = useToast();\n\n\t// Fetch organization members from Clerk\n\tconst { memberships } = useOrganization({\n\t\tmemberships: {\n\t\t\tinfinite: true,\n\t\t},\n\t});\n\n\t// Also fetch Convex users to map Clerk users to Convex user IDs\n\tconst convexUsers = useQuery(api.users.listByOrg);\n\tconst createMention = useMutation(api.notifications.createMention);\n\tconst syncUserFromClerk = useMutation(api.users.syncUserFromClerk);\n\tconst generateUploadUrl = useMutation(\n\t\tapi.messageAttachments.generateUploadUrl\n\t);\n\n\t// Build a map of organization users with both Clerk and Convex data\n\tconst organizationUsers =\n\t\tmemberships?.data\n\t\t\t?.map((membership) => {\n\t\t\t\tconst clerkUser = membership.publicUserData;\n\t\t\t\tif (!clerkUser || !clerkUser.userId) return null;\n\n\t\t\t\t// Find the corresponding Convex user by email or external ID\n\t\t\t\tconst convexUser = convexUsers?.find(\n\t\t\t\t\t(u) =>\n\t\t\t\t\t\tu.email === clerkUser.identifier ||\n\t\t\t\t\t\tu.externalId === clerkUser.userId\n\t\t\t\t);\n\n\t\t\t\treturn {\n\t\t\t\t\tid: convexUser?._id || clerkUser.userId,\n\t\t\t\t\tname:\n\t\t\t\t\t\tclerkUser.firstName && clerkUser.lastName\n\t\t\t\t\t\t\t? `${clerkUser.firstName} ${clerkUser.lastName}`.trim()\n\t\t\t\t\t\t\t: clerkUser.identifier || \"Unknown User\",\n\t\t\t\t\temail: clerkUser.identifier || \"\",\n\t\t\t\t\timage: clerkUser.imageUrl || \"\",\n\t\t\t\t\tconvexUserId: convexUser?._id,\n\t\t\t\t};\n\t\t\t})\n\t\t\t.filter((user): user is NonNullable<typeof user> => user !== null) || [];\n\n\t// Manage blob URLs for image previews to prevent memory leaks\n\tuseEffect(() => {\n\t\t// Create preview URLs for new image attachments\n\t\tconst newPreviewUrls = new Map(previewUrls);\n\t\tlet hasChanges = false;\n\n\t\t// Add URLs for new attachments (by tempId)\n\t\tattachments.forEach((attachment) => {\n\t\t\tconst isImage = attachment.file.type.startsWith(\"image/\");\n\t\t\tif (isImage && !newPreviewUrls.has(attachment.tempId)) {\n\t\t\t\tconst url = URL.createObjectURL(attachment.file);\n\t\t\t\tnewPreviewUrls.set(attachment.tempId, url);\n\t\t\t\thasChanges = true;\n\t\t\t}\n\t\t});\n\n\t\t// Remove URLs for deleted attachments and revoke them\n\t\tconst currentTempIds = new Set(attachments.map((a) => a.tempId));\n\t\tArray.from(newPreviewUrls.keys()).forEach((tempId) => {\n\t\t\tif (!currentTempIds.has(tempId)) {\n\t\t\t\tconst url = newPreviewUrls.get(tempId);\n\t\t\t\tif (url) {\n\t\t\t\t\tURL.revokeObjectURL(url);\n\t\t\t\t\tnewPreviewUrls.delete(tempId);\n\t\t\t\t\thasChanges = true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (hasChanges) {\n\t\t\tsetPreviewUrls(newPreviewUrls);\n\t\t}\n\n\t\t// Cleanup: revoke all URLs on unmount\n\t\treturn () => {\n\t\t\tnewPreviewUrls.forEach((url) => {\n\t\t\t\tURL.revokeObjectURL(url);\n\t\t\t});\n\t\t};\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [attachments]);\n\n\t// Filter users based on search query\n\tconst filteredUsers = organizationUsers.filter((user) =>\n\t\tuser.name.toLowerCase().includes(searchQuery.toLowerCase())\n\t);\n\n\t// Get text content from contenteditable div\n\tconst getTextContent = (): string => {\n\t\tif (!contentEditableRef.current) return \"\";\n\t\treturn contentEditableRef.current.textContent || \"\";\n\t};\n\n\t// Get cursor position in contenteditable\n\tconst getCursorPosition = (): number => {\n\t\tconst selection = window.getSelection();\n\t\tif (!selection || selection.rangeCount === 0) return 0;\n\n\t\tconst range = selection.getRangeAt(0);\n\t\tconst preCaretRange = range.cloneRange();\n\t\tpreCaretRange.selectNodeContents(contentEditableRef.current!);\n\t\tpreCaretRange.setEnd(range.endContainer, range.endOffset);\n\n\t\treturn preCaretRange.toString().length;\n\t};\n\n\t// Handle input change\n\tconst handleInput = () => {\n\t\tconst text = getTextContent();\n\t\tsetMessage(text);\n\n\t\tconst cursorPos = getCursorPosition();\n\t\tconst textBeforeCursor = text.slice(0, cursorPos);\n\t\tconst lastAtIndex = textBeforeCursor.lastIndexOf(\"@\");\n\n\t\t// Check if we should show user list\n\t\tif (lastAtIndex !== -1) {\n\t\t\tconst searchText = textBeforeCursor.slice(lastAtIndex + 1);\n\t\t\t// Check if this @ is not part of an existing mention (not inside @[...])\n\t\t\tconst lastMentionStart = textBeforeCursor.lastIndexOf(\"@[\");\n\t\t\tconst lastMentionEnd = textBeforeCursor.lastIndexOf(\"]\");\n\n\t\t\t// Only show if @ is not inside a completed mention and search text has no spaces/brackets\n\t\t\tif (\n\t\t\t\t(lastMentionStart === -1 || lastMentionEnd > lastMentionStart) &&\n\t\t\t\t!searchText.includes(\" \") &&\n\t\t\t\t!searchText.includes(\"[\") &&\n\t\t\t\t!searchText.includes(\"]\")\n\t\t\t) {\n\t\t\t\tsetSearchQuery(searchText);\n\t\t\t\tsetShowUserList(true);\n\t\t\t} else {\n\t\t\t\tsetShowUserList(false);\n\t\t\t}\n\t\t} else {\n\t\t\tsetShowUserList(false);\n\t\t}\n\t};\n\n\t// Handle user selection from dropdown\n\tconst handleUserSelect = (\n\t\tuserId: string,\n\t\tuserName: string,\n\t\tconvexUserId?: Id<\"users\">\n\t) => {\n\t\tconst text = getTextContent();\n\t\tconst cursorPos = getCursorPosition();\n\t\tconst textBeforeCursor = text.slice(0, cursorPos);\n\t\tconst lastAtIndex = textBeforeCursor.lastIndexOf(\"@\");\n\n\t\tif (lastAtIndex !== -1 && contentEditableRef.current) {\n\t\t\t// Replace @search with @[userName] (special format to track mentions)\n\t\t\tconst beforeAt = text.slice(0, lastAtIndex);\n\t\t\tconst afterCursor = text.slice(cursorPos);\n\t\t\tconst newMessage = `${beforeAt}@[${userName}]${afterCursor}`;\n\n\t\t\t// Store the mentioned user\n\t\t\tconst finalUserId = convexUserId || (userId as Id<\"users\">);\n\t\t\tsetMentionedUsers((prev) => [\n\t\t\t\t...prev,\n\t\t\t\t{ id: finalUserId, name: userName },\n\t\t\t]);\n\n\t\t\t// Update the contenteditable\n\t\t\tcontentEditableRef.current.textContent = newMessage;\n\t\t\tsetMessage(newMessage);\n\t\t\tsetShowUserList(false);\n\n\t\t\t// Set cursor after the mention\n\t\t\tconst newCursorPos = lastAtIndex + userName.length + 3; // +3 for @[]\n\t\t\tconst selection = window.getSelection();\n\t\t\tconst range = document.createRange();\n\n\t\t\t// Find text node and set cursor position\n\t\t\tconst textNode = contentEditableRef.current.firstChild;\n\t\t\tif (textNode && textNode.nodeType === Node.TEXT_NODE) {\n\t\t\t\trange.setStart(\n\t\t\t\t\ttextNode,\n\t\t\t\t\tMath.min(newCursorPos, textNode.textContent?.length || 0)\n\t\t\t\t);\n\t\t\t\trange.collapse(true);\n\t\t\t\tselection?.removeAllRanges();\n\t\t\t\tselection?.addRange(range);\n\t\t\t}\n\n\t\t\t// Focus back\n\t\t\tcontentEditableRef.current.focus();\n\t\t}\n\t};\n\n\t// Handle file selection\n\tconst handleFileSelect = async (\n\t\tevent: React.ChangeEvent<HTMLInputElement>\n\t) => {\n\t\tconst files = event.target.files;\n\t\tif (!files || files.length === 0) return;\n\n\t\t// Validate files first and create attachment objects with stable tempIds\n\t\tconst validatedAttachments: AttachmentFile[] = Array.from(files)\n\t\t\t.map((file) => {\n\t\t\t\t// Generate a unique stable identifier\n\t\t\t\tconst tempId = crypto.randomUUID();\n\n\t\t\t\t// Validate file size (10MB limit)\n\t\t\t\tif (file.size > 10 * 1024 * 1024) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttempId,\n\t\t\t\t\t\tfile,\n\t\t\t\t\t\tuploading: false,\n\t\t\t\t\t\terror: \"File size exceeds 10MB limit\",\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\ttempId,\n\t\t\t\t\tfile,\n\t\t\t\t\tuploading: false,\n\t\t\t\t\terror: undefined,\n\t\t\t\t};\n\t\t\t})\n\t\t\t// Filter out files with errors before adding to state\n\t\t\t.filter((attachment) => !attachment.error);\n\n\t\t// Add validated attachments to state using functional setter\n\t\tsetAttachments((prev) => [...prev, ...validatedAttachments]);\n\n\t\t// Start uploading files - capture tempId for each attachment\n\t\tfor (const attachment of validatedAttachments) {\n\t\t\tconst { tempId } = attachment;\n\n\t\t\t// Mark as uploading using tempId\n\t\t\tsetAttachments((prev) =>\n\t\t\t\tprev.map((a) => (a.tempId === tempId ? { ...a, uploading: true } : a))\n\t\t\t);\n\n\t\t\ttry {\n\t\t\t\t// Get upload URL\n\t\t\t\tconst uploadUrl = await generateUploadUrl();\n\n\t\t\t\t// Upload file\n\t\t\t\tconst result = await fetch(uploadUrl, {\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\theaders: { \"Content-Type\": attachment.file.type },\n\t\t\t\t\tbody: attachment.file,\n\t\t\t\t});\n\n\t\t\t\tif (!result.ok) {\n\t\t\t\t\tthrow new Error(\"Upload failed\");\n\t\t\t\t}\n\n\t\t\t\tconst { storageId } = await result.json();\n\n\t\t\t\t// Update attachment with storage ID using tempId\n\t\t\t\tsetAttachments((prev) =>\n\t\t\t\t\tprev.map((a) =>\n\t\t\t\t\t\ta.tempId === tempId\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t...a,\n\t\t\t\t\t\t\t\t\tuploading: false,\n\t\t\t\t\t\t\t\t\tstorageId: storageId as Id<\"_storage\">,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t: a\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"File upload error:\", error);\n\t\t\t\t// Update error state using tempId\n\t\t\t\tsetAttachments((prev) =>\n\t\t\t\t\tprev.map((a) =>\n\t\t\t\t\t\ta.tempId === tempId\n\t\t\t\t\t\t\t? { ...a, uploading: false, error: \"Upload failed\" }\n\t\t\t\t\t\t\t: a\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// Clear input\n\t\tif (fileInputRef.current) {\n\t\t\tfileInputRef.current.value = \"\";\n\t\t}\n\t};\n\n\t// Remove attachment\n\tconst handleRemoveAttachment = (tempId: string) => {\n\t\tsetAttachments((prev) => prev.filter((a) => a.tempId !== tempId));\n\t};\n\n\t// Format file size\n\tconst formatFileSize = (bytes: number): string => {\n\t\tif (bytes === 0) return \"0 Bytes\";\n\t\tconst k = 1024;\n\t\tconst sizes = [\"Bytes\", \"KB\", \"MB\"];\n\t\tconst i = Math.floor(Math.log(bytes) / Math.log(k));\n\t\treturn Math.round((bytes / Math.pow(k, i)) * 100) / 100 + \" \" + sizes[i];\n\t};\n\n\t// Handle form submission\n\tconst handleSubmit = async () => {\n\t\tif (!message.trim()) {\n\t\t\ttoast.error(\"Error\", \"Please enter a message\");\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if any attachments are still uploading\n\t\tif (attachments.some((a) => a.uploading)) {\n\t\t\ttoast.error(\"Error\", \"Please wait for files to finish uploading\");\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if any attachments have errors\n\t\tif (attachments.some((a) => a.error)) {\n\t\t\ttoast.error(\"Error\", \"Please remove files with errors\");\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\t// Prepare attachment data\n\t\t\tconst attachmentData = attachments\n\t\t\t\t.filter((a) => a.storageId)\n\t\t\t\t.map((a) => ({\n\t\t\t\t\tstorageId: a.storageId!,\n\t\t\t\t\tfileName: a.file.name,\n\t\t\t\t\tfileSize: a.file.size,\n\t\t\t\t\tmimeType: a.file.type,\n\t\t\t\t}));\n\n\t\t\t// Process mentioned users if there are any\n\t\t\tif (mentionedUsers.length === 0) {\n\t\t\t\t// No mentions - show helpful message\n\t\t\t\ttoast.error(\n\t\t\t\t\t\"No recipients\",\n\t\t\t\t\t\"Please @mention a team member to notify them about this message\"\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Process each mentioned user\n\t\t\tfor (const mentionedUser of mentionedUsers) {\n\t\t\t\t// Find the user in our organization list\n\t\t\t\tconst user = organizationUsers.find(\n\t\t\t\t\t(u) =>\n\t\t\t\t\t\tu.convexUserId === mentionedUser.id || u.id === mentionedUser.id\n\t\t\t\t);\n\n\t\t\t\tif (!user) {\n\t\t\t\t\tcontinue; // Skip if user not found\n\t\t\t\t}\n\n\t\t\t\t// If user doesn't have a Convex ID yet, sync them from Clerk first\n\t\t\t\tlet convexUserId = user.convexUserId;\n\n\t\t\t\tif (!convexUserId) {\n\t\t\t\t\t// Sync the user from Clerk to Convex\n\t\t\t\t\tconvexUserId = await syncUserFromClerk({\n\t\t\t\t\t\tclerkUserId: user.id,\n\t\t\t\t\t\tname: user.name,\n\t\t\t\t\t\temail: user.email,\n\t\t\t\t\t\timageUrl: user.image,\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Create the mention with the Convex user ID and attachments\n\t\t\t\tawait createMention({\n\t\t\t\t\ttaggedUserId: convexUserId,\n\t\t\t\t\tmessage: message, // Message is stored with @[username] format\n\t\t\t\t\tentityType,\n\t\t\t\t\tentityId,\n\t\t\t\t\tentityName,\n\t\t\t\t\tattachments: attachmentData.length > 0 ? attachmentData : undefined,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Clear form\n\t\t\tif (contentEditableRef.current) {\n\t\t\t\tcontentEditableRef.current.textContent = \"\";\n\t\t\t}\n\t\t\tsetMessage(\"\");\n\t\t\tsetMentionedUsers([]);\n\n\t\t\t// Revoke all preview URLs before clearing attachments\n\t\t\tpreviewUrls.forEach((url) => {\n\t\t\t\tURL.revokeObjectURL(url);\n\t\t\t});\n\t\t\tsetPreviewUrls(new Map());\n\t\t\tsetAttachments([]);\n\n\t\t\ttoast.success(\"Success\", \"Message sent!\");\n\n\t\t\t// Notify parent\n\t\t\tonMentionCreated?.();\n\t\t} catch (error) {\n\t\t\tconst errorMessage =\n\t\t\t\terror instanceof Error ? error.message : \"Failed to send message\";\n\t\t\ttoast.error(\"Error\", errorMessage);\n\t\t}\n\t};\n\n\t// Get initials for avatar fallback\n\tconst getInitials = (name: string) => {\n\t\tconst names = name.split(\" \");\n\t\tif (names.length >= 2) {\n\t\t\treturn `${names[0][0]}${names[1][0]}`.toUpperCase();\n\t\t}\n\t\treturn name.slice(0, 2).toUpperCase();\n\t};\n\n\treturn (\n\t\t<div className=\"space-y-3\">\n\t\t\t<Popover\n\t\t\t\topen={showUserList && filteredUsers.length > 0}\n\t\t\t\tonOpenChange={(open) => {\n\t\t\t\t\tif (!open) setShowUserList(false);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<PopoverTrigger asChild>\n\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t{/* Plain contenteditable - shows @[username] format */}\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tref={contentEditableRef}\n\t\t\t\t\t\t\tcontentEditable\n\t\t\t\t\t\t\tonInput={handleInput}\n\t\t\t\t\t\t\tclassName=\"min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 overflow-auto whitespace-pre-wrap break-words empty:before:content-[attr(data-placeholder)] empty:before:text-muted-foreground\"\n\t\t\t\t\t\t\tstyle={{ minHeight: \"100px\" }}\n\t\t\t\t\t\t\tsuppressContentEditableWarning\n\t\t\t\t\t\t\tdata-placeholder=\"Type @ to mention a team member...\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</PopoverTrigger>\n\t\t\t\t<PopoverContent\n\t\t\t\t\talign=\"start\"\n\t\t\t\t\tside=\"bottom\"\n\t\t\t\t\tclassName=\"w-80 p-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700\"\n\t\t\t\t\tonOpenAutoFocus={(e) => e.preventDefault()}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"max-h-64 overflow-y-auto\">\n\t\t\t\t\t\t{filteredUsers.map((user) => (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tkey={user.id}\n\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\thandleUserSelect(user.id, user.name, user.convexUserId)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclassName=\"w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md transition-colors text-left\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Avatar className=\"h-8 w-8\">\n\t\t\t\t\t\t\t\t\t<AvatarImage src={user.image} alt={user.name} />\n\t\t\t\t\t\t\t\t\t<AvatarFallback className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t{getInitials(user.name)}\n\t\t\t\t\t\t\t\t\t</AvatarFallback>\n\t\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t\t\t<div className=\"flex-1 min-w-0\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-gray-900 dark:text-white truncate\">\n\t\t\t\t\t\t\t\t\t\t{user.name}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-gray-500 dark:text-gray-400 truncate\">\n\t\t\t\t\t\t\t\t\t\t{user.email}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</PopoverContent>\n\t\t\t</Popover>\n\n\t\t\t{/* File Attachments Preview */}\n\t\t\t{attachments.length > 0 && (\n\t\t\t\t<div className=\"flex flex-wrap gap-2\">\n\t\t\t\t\t{attachments.map((attachment) => {\n\t\t\t\t\t\tconst isImage = attachment.file.type.startsWith(\"image/\");\n\t\t\t\t\t\tconst isPdf = attachment.file.type === \"application/pdf\";\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={attachment.tempId}\n\t\t\t\t\t\t\t\tclassName=\"relative inline-block group\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{isImage ? (\n\t\t\t\t\t\t\t\t\t// Image preview thumbnail\n\t\t\t\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"h-20 w-20 bg-gray-100 dark:bg-gray-800 rounded-lg border-2 border-gray-200 dark:border-gray-700 overflow-hidden flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t\t\t{attachment.uploading ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<Loader2 className=\"h-6 w-6 text-gray-400 animate-spin\" />\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line @next/next/no-img-element\n\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={previewUrls.get(attachment.tempId) || \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\talt={attachment.file.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-full w-full object-cover\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{!attachment.uploading && !attachment.error && (\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleRemoveAttachment(attachment.tempId)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"absolute -top-2 -right-2 p-1 bg-red-500 hover:bg-red-600 text-white rounded-full shadow-lg transition-colors\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"Remove\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<X className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{attachment.error && (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"absolute inset-0 bg-red-500/90 rounded-lg flex items-center justify-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-white font-medium px-2 text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tError\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t// Document badge\n\t\t\t\t\t\t\t\t\t<div className=\"inline-flex items-center gap-1.5 px-2.5 py-1.5 bg-gray-100 dark:bg-gray-800 rounded-md border border-gray-200 dark:border-gray-700 transition-colors max-w-[200px]\">\n\t\t\t\t\t\t\t\t\t\t<FileIcon\n\t\t\t\t\t\t\t\t\t\t\tclassName={`h-3.5 w-3.5 shrink-0 ${\n\t\t\t\t\t\t\t\t\t\t\t\tisPdf ? \"text-red-500\" : \"text-gray-500\"\n\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex-1 min-w-0\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs font-medium text-gray-700 dark:text-gray-300 truncate block\">\n\t\t\t\t\t\t\t\t\t\t\t\t{attachment.file.name}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t{formatFileSize(attachment.file.size)}\n\t\t\t\t\t\t\t\t\t\t\t\t{attachment.uploading && \"  Uploading...\"}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{attachment.uploading ? (\n\t\t\t\t\t\t\t\t\t\t\t<Loader2 className=\"h-3 w-3 text-gray-400 animate-spin shrink-0\" />\n\t\t\t\t\t\t\t\t\t\t) : attachment.error ? (\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-red-500 shrink-0\"></span>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleRemoveAttachment(attachment.tempId)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"p-0.5 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors shrink-0\"\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"Remove\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<X className=\"h-3 w-3 text-gray-500\" />\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t<div className=\"text-xs text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t{mentionedUsers.length > 0 ? (\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\tMentioning:{\" \"}\n\t\t\t\t\t\t\t<strong>{mentionedUsers.map((u) => u.name).join(\", \")}</strong>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<span>Type @ to mention someone</span>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t{/* Hidden file input */}\n\t\t\t\t\t<input\n\t\t\t\t\t\tref={fileInputRef}\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\tmultiple\n\t\t\t\t\t\tclassName=\"hidden\"\n\t\t\t\t\t\tonChange={handleFileSelect}\n\t\t\t\t\t\taccept=\"image/*,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.csv,.zip\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t{/* Attach file button */}\n\t\t\t\t\t<StyledButton\n\t\t\t\t\t\tonClick={() => fileInputRef.current?.click()}\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\ticon={<Paperclip className=\"h-4 w-4\" />}\n\t\t\t\t\t\tshowArrow={false}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<StyledButton\n\t\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t!message.trim() || attachments.some((a) => a.uploading || a.error)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tintent=\"primary\"\n\t\t\t\t\t\ticon={<Send className=\"h-4 w-4\" />}\n\t\t\t\t\t\tlabel=\"Send\"\n\t\t\t\t\t\tshowArrow={false}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6752, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/shared/mention-feed.tsx"],"sourcesContent":["\"use client\";\n\nimport { useQuery } from \"convex/react\";\nimport { api } from \"@onetool/backend/convex/_generated/api\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n\tformatRelativeTime,\n\tparseMessageParts,\n} from \"@/lib/notification-utils\";\nimport { MessageSquare, Download, FileIcon } from \"lucide-react\";\nimport type { Id, Doc } from \"@onetool/backend/convex/_generated/dataModel\";\nimport Image from \"next/image\";\n\ninterface MentionFeedProps {\n\tentityType: \"client\" | \"project\" | \"quote\";\n\tentityId: string;\n}\n\n// Component to display attachments\nfunction AttachmentItem({\n\tnotificationId,\n}: {\n\tnotificationId: Id<\"notifications\">;\n}) {\n\t// Fetch attachments with download URLs in bulk to avoid N+1 query problem\n\tconst attachments = useQuery(\n\t\tapi.messageAttachments.listByNotificationWithUrls,\n\t\t{\n\t\t\tnotificationId,\n\t\t}\n\t);\n\n\tif (!attachments || attachments.length === 0) {\n\t\treturn null;\n\t}\n\n\tconst formatFileSize = (bytes: number): string => {\n\t\tif (bytes === 0) return \"0 Bytes\";\n\t\tconst k = 1024;\n\t\tconst sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\"];\n\t\tconst i = Math.min(\n\t\t\tMath.floor(Math.log(bytes) / Math.log(k)),\n\t\t\tsizes.length - 1\n\t\t);\n\t\treturn Math.round((bytes / Math.pow(k, i)) * 100) / 100 + \" \" + sizes[i];\n\t};\n\n\tconst isImage = (mimeType: string) => mimeType.startsWith(\"image/\");\n\n\treturn (\n\t\t<div className=\"mt-2 flex flex-wrap gap-2\">\n\t\t\t{attachments.map((attachment) => {\n\t\t\t\t// Pass download URL as prop to avoid per-attachment query\n\t\t\t\treturn (\n\t\t\t\t\t<AttachmentDownloadLink\n\t\t\t\t\t\tkey={attachment._id}\n\t\t\t\t\t\tattachment={attachment}\n\t\t\t\t\t\tdownloadUrl={attachment.downloadUrl}\n\t\t\t\t\t\tformatFileSize={formatFileSize}\n\t\t\t\t\t\tisImage={isImage}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t);\n}\n\n// Component to handle individual attachment download\nfunction AttachmentDownloadLink({\n\tattachment,\n\tdownloadUrl,\n\tformatFileSize,\n\tisImage,\n}: {\n\tattachment: Doc<\"messageAttachments\"> & { downloadUrl: string | null };\n\tdownloadUrl: string | null;\n\tformatFileSize: (bytes: number) => string;\n\tisImage: (mimeType: string) => boolean;\n}) {\n\tif (!downloadUrl) {\n\t\treturn null;\n\t}\n\n\tconst isPdf = attachment.mimeType === \"application/pdf\";\n\n\t// For images, show a thumbnail preview\n\tif (isImage(attachment.mimeType)) {\n\t\treturn (\n\t\t\t<a\n\t\t\t\thref={downloadUrl}\n\t\t\t\ttarget=\"_blank\"\n\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\tclassName=\"group relative inline-block\"\n\t\t\t\ttitle={`${attachment.fileName} (${formatFileSize(attachment.fileSize)})`}\n\t\t\t>\n\t\t\t\t<Image\n\t\t\t\t\tsrc={downloadUrl}\n\t\t\t\t\talt={attachment.fileName}\n\t\t\t\t\twidth={80}\n\t\t\t\t\theight={80}\n\t\t\t\t\tclassName=\"h-20 w-20 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-700 hover:border-blue-400 dark:hover:border-blue-500 transition-colors\"\n\t\t\t\t/>\n\t\t\t\t<div className=\"absolute inset-0 bg-black/0 group-hover:bg-black/10 rounded-lg transition-colors flex items-center justify-center\">\n\t\t\t\t\t<Download className=\"h-4 w-4 text-white opacity-0 group-hover:opacity-100 transition-opacity drop-shadow-lg\" />\n\t\t\t\t</div>\n\t\t\t</a>\n\t\t);\n\t}\n\n\t// For other files, show compact inline badge\n\treturn (\n\t\t<a\n\t\t\thref={downloadUrl}\n\t\t\ttarget=\"_blank\"\n\t\t\trel=\"noopener noreferrer\"\n\t\t\tdownload={attachment.fileName}\n\t\t\tclassName=\"inline-flex items-center gap-1.5 px-2.5 py-1.5 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md border border-gray-200 dark:border-gray-700 transition-colors group max-w-[200px]\"\n\t\t\ttitle={`${attachment.fileName} (${formatFileSize(attachment.fileSize)})`}\n\t\t>\n\t\t\t{isPdf ? (\n\t\t\t\t<FileIcon className=\"h-3.5 w-3.5 text-red-500 shrink-0\" />\n\t\t\t) : (\n\t\t\t\t<FileIcon className=\"h-3.5 w-3.5 text-gray-500 shrink-0\" />\n\t\t\t)}\n\t\t\t<span className=\"text-xs font-medium text-gray-700 dark:text-gray-300 truncate\">\n\t\t\t\t{attachment.fileName}\n\t\t\t</span>\n\t\t\t<Download className=\"h-3 w-3 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 shrink-0 ml-auto\" />\n\t\t</a>\n\t);\n}\n\nexport function MentionFeed({ entityType, entityId }: MentionFeedProps) {\n\tconst mentions = useQuery(api.notifications.listByEntity, {\n\t\tentityType,\n\t\tentityId,\n\t});\n\n\t// Get initials for avatar fallback\n\tconst getInitials = (name: string) => {\n\t\tconst names = name.split(\" \");\n\t\tif (names.length >= 2) {\n\t\t\treturn `${names[0][0]}${names[1][0]}`.toUpperCase();\n\t\t}\n\t\treturn name.slice(0, 2).toUpperCase();\n\t};\n\n\t// Loading state\n\tif (mentions === undefined) {\n\t\treturn (\n\t\t\t<div className=\"space-y-4 animate-pulse\">\n\t\t\t\t{[1, 2, 3].map((i) => (\n\t\t\t\t\t<div key={i} className=\"flex gap-3\">\n\t\t\t\t\t\t<div className=\"h-10 w-10 rounded-full bg-gray-200 dark:bg-gray-700\" />\n\t\t\t\t\t\t<div className=\"flex-1 space-y-2\">\n\t\t\t\t\t\t\t<div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4\" />\n\t\t\t\t\t\t\t<div className=\"h-16 bg-gray-200 dark:bg-gray-700 rounded\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Empty state\n\tif (mentions.length === 0) {\n\t\treturn (\n\t\t\t<div className=\"flex flex-col items-center justify-center py-12 text-center\">\n\t\t\t\t<div className=\"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4\">\n\t\t\t\t\t<MessageSquare className=\"h-8 w-8 text-gray-400 dark:text-gray-600\" />\n\t\t\t\t</div>\n\t\t\t\t<h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">\n\t\t\t\t\tNo messages yet\n\t\t\t\t</h3>\n\t\t\t\t<p className=\"text-sm text-gray-600 dark:text-gray-400 max-w-sm\">\n\t\t\t\t\tStart a conversation by mentioning a team member with @ in the input\n\t\t\t\t\tabove.\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"space-y-6\">\n\t\t\t{mentions.map((mention) => (\n\t\t\t\t<div key={mention._id} className=\"flex gap-3\">\n\t\t\t\t\t{/* Avatar - showing the author (person who sent the message) */}\n\t\t\t\t\t<Avatar className=\"h-10 w-10 shrink-0\">\n\t\t\t\t\t\t<AvatarImage\n\t\t\t\t\t\t\tsrc={mention.author?.image}\n\t\t\t\t\t\t\talt={mention.author?.name || mention.author?.email || \"User\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<AvatarFallback className=\"text-sm\">\n\t\t\t\t\t\t\t{mention.author?.name\n\t\t\t\t\t\t\t\t? getInitials(mention.author.name)\n\t\t\t\t\t\t\t\t: mention.author?.email\n\t\t\t\t\t\t\t\t\t? mention.author.email.substring(0, 2).toUpperCase()\n\t\t\t\t\t\t\t\t\t: \"??\"}\n\t\t\t\t\t\t</AvatarFallback>\n\t\t\t\t\t</Avatar>\n\n\t\t\t\t\t{/* Message content */}\n\t\t\t\t\t<div className=\"flex-1 min-w-0\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-1\">\n\t\t\t\t\t\t\t<span className=\"text-sm font-semibold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t{mention.author?.name ||\n\t\t\t\t\t\t\t\t\tmention.author?.email ||\n\t\t\t\t\t\t\t\t\t\"Unknown User\"}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-xs text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t{formatRelativeTime(mention._creationTime)}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Message text with styled mentions */}\n\t\t\t\t\t\t<div className=\"bg-gray-50 dark:bg-gray-800/50 rounded-lg px-4 py-3 border border-gray-200 dark:border-gray-700\">\n\t\t\t\t\t\t\t<div className=\"text-sm text-gray-900 dark:text-white whitespace-pre-wrap break-words\">\n\t\t\t\t\t\t\t\t{parseMessageParts(mention.message).map((part, index) =>\n\t\t\t\t\t\t\t\t\tpart.isMention ? (\n\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"inline-flex mx-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-900/50 font-medium\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{part.text}\n\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<span key={index}>{part.text}</span>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Attachments - rendered outside the message bubble */}\n\t\t\t\t\t\t{mention.hasAttachments && (\n\t\t\t\t\t\t\t<AttachmentItem notificationId={mention._id} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7136, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/shared/mention-section.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { MentionInput } from \"./mention-input\";\nimport { MentionFeed } from \"./mention-feed\";\nimport {\n\tStyledCard,\n\tStyledCardHeader,\n\tStyledCardTitle,\n\tStyledCardContent,\n} from \"@/components/ui/styled\";\nimport { MessageSquare } from \"lucide-react\";\n\ninterface MentionSectionProps {\n\tentityType: \"client\" | \"project\" | \"quote\";\n\tentityId: string;\n\tentityName: string;\n}\n\nexport function MentionSection({\n\tentityType,\n\tentityId,\n\tentityName,\n}: MentionSectionProps) {\n\tconst [refreshKey, setRefreshKey] = useState(0);\n\n\tconst handleMentionCreated = () => {\n\t\t// Trigger a refresh by updating the key\n\t\tsetRefreshKey((prev) => prev + 1);\n\t};\n\n\treturn (\n\t\t<StyledCard>\n\t\t\t<StyledCardHeader>\n\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t<MessageSquare className=\"h-5 w-5 text-primary\" />\n\t\t\t\t\t<StyledCardTitle className=\"text-lg\">\n\t\t\t\t\t\tTeam Communication\n\t\t\t\t\t</StyledCardTitle>\n\t\t\t\t</div>\n\t\t\t\t<p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\n\t\t\t\t\tMention team members to notify them about this {entityType}\n\t\t\t\t</p>\n\t\t\t</StyledCardHeader>\n\t\t\t<StyledCardContent className=\"space-y-6\">\n\t\t\t\t{/* Message Input */}\n\t\t\t\t<div className=\"pb-6 border-b border-gray-200 dark:border-gray-700\">\n\t\t\t\t\t<MentionInput\n\t\t\t\t\t\tentityType={entityType}\n\t\t\t\t\t\tentityId={entityId}\n\t\t\t\t\t\tentityName={entityName}\n\t\t\t\t\t\tonMentionCreated={handleMentionCreated}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Message Feed */}\n\t\t\t\t<div key={refreshKey}>\n\t\t\t\t\t<MentionFeed entityType={entityType} entityId={entityId} />\n\t\t\t\t</div>\n\t\t\t</StyledCardContent>\n\t\t</StyledCard>\n\t);\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAMA;AAXA;;;;;;;AAmBO,SAAS,eAAe,EAC9B,UAAU,EACV,QAAQ,EACR,UAAU,EACW;IACrB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,MAAM,uBAAuB;QAC5B,wCAAwC;QACxC,cAAc,CAAC,OAAS,OAAO;IAChC;IAEA,qBACC,8OAAC,iLAAU;;0BACV,8OAAC,uLAAgB;;kCAChB,8OAAC;wBAAI,WAAU;;0CACd,8OAAC,yOAAa;gCAAC,WAAU;;;;;;0CACzB,8OAAC,sLAAe;gCAAC,WAAU;0CAAU;;;;;;;;;;;;kCAItC,8OAAC;wBAAE,WAAU;;4BAAgD;4BACZ;;;;;;;;;;;;;0BAGlD,8OAAC,wLAAiB;gBAAC,WAAU;;kCAE5B,8OAAC;wBAAI,WAAU;kCACd,cAAA,8OAAC,+KAAY;4BACZ,YAAY;4BACZ,UAAU;4BACV,YAAY;4BACZ,kBAAkB;;;;;;;;;;;kCAKpB,8OAAC;kCACA,cAAA,8OAAC,6KAAW;4BAAC,YAAY;4BAAY,UAAU;;;;;;uBADtC;;;;;;;;;;;;;;;;;AAMd"}},
    {"offset": {"line": 7256, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/ui/delete-confirmation-modal.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport Modal from \"./modal\";\nimport { StyledButton } from \"./styled/styled-button\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface DeleteConfirmationModalProps {\n\tisOpen: boolean;\n\tonClose: () => void;\n\tonConfirm: () => void;\n\ttitle: string;\n\titemName: string;\n\titemType: string;\n\tisArchive?: boolean; // New prop to indicate if this is archiving vs deleting\n}\n\nconst DeleteConfirmationModal: React.FC<DeleteConfirmationModalProps> = ({\n\tisOpen,\n\tonClose,\n\tonConfirm,\n\ttitle,\n\titemName,\n\titemType,\n\tisArchive = false,\n}) => {\n\tconst toast = useToast();\n\n\tconst handleConfirm = async () => {\n\t\ttry {\n\t\t\t// Execute the confirm action\n\t\t\tawait onConfirm();\n\n\t\t\t// Show success toast\n\t\t\tif (isArchive) {\n\t\t\t\ttoast.success(\n\t\t\t\t\t`${itemType} Archived`,\n\t\t\t\t\t`\"${itemName}\" has been archived successfully. You can restore it within 7 days.`\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\ttoast.success(\n\t\t\t\t\t`${itemType} Deleted`,\n\t\t\t\t\t`\"${itemName}\" has been permanently deleted.`\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Close the modal\n\t\t\tonClose();\n\t\t} catch (error) {\n\t\t\t// Show error toast if something goes wrong\n\t\t\ttoast.error(\n\t\t\t\t`Failed to ${\n\t\t\t\t\tisArchive ? \"archive\" : \"delete\"\n\t\t\t\t} ${itemType.toLowerCase()}`,\n\t\t\t\terror instanceof Error ? error.message : \"An unexpected error occurred\"\n\t\t\t);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Modal isOpen={isOpen} onClose={onClose} title={title} size=\"sm\">\n\t\t\t<div className=\"space-y-4\">\n\t\t\t\t<div className=\"flex items-center space-x-3\">\n\t\t\t\t\t<div className=\"shrink-0\">\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\tclassName=\"h-10 w-10 text-red-500\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tstrokeWidth=\"1.5\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\td=\"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100\">\n\t\t\t\t\t\t\tAre you sure?\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<p className=\"text-sm text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t{isArchive ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\tThis will archive the <strong>{itemType}</strong> &quot;\n\t\t\t\t\t\t\t\t\t{itemName}&quot;. Archived {itemType.toLowerCase()}s will have\n\t\t\t\t\t\t\t\t\tall associated details deleted in 7 days, but you can restore\n\t\t\t\t\t\t\t\t\tthem before then.\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\tThis action cannot be undone. This will permanently delete the{\" \"}\n\t\t\t\t\t\t\t\t\t<strong>{itemType}</strong> &quot;{itemName}&quot; and remove\n\t\t\t\t\t\t\t\t\tall associated data.\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{!isArchive && (\n\t\t\t\t\t<div className=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-3\">\n\t\t\t\t\t\t<div className=\"flex\">\n\t\t\t\t\t\t\t<div className=\"shrink-0\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-red-400\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\td=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z\"\n\t\t\t\t\t\t\t\t\t\tclipRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"ml-3\">\n\t\t\t\t\t\t\t\t<p className=\"text-sm text-red-700 dark:text-red-300\">\n\t\t\t\t\t\t\t\t\t<strong>Warning:</strong> This is a destructive action that\n\t\t\t\t\t\t\t\t\tcannot be reversed.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{isArchive && (\n\t\t\t\t\t<div className=\"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-md p-3\">\n\t\t\t\t\t\t<div className=\"flex\">\n\t\t\t\t\t\t\t<div className=\"shrink-0\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"h-5 w-5 text-yellow-400\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tfillRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\td=\"M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 5a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 5zm0 9a1 1 0 100-2 1 1 0 000 2z\"\n\t\t\t\t\t\t\t\t\t\tclipRule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"ml-3\">\n\t\t\t\t\t\t\t\t<p className=\"text-sm text-yellow-700 dark:text-yellow-300\">\n\t\t\t\t\t\t\t\t\t<strong>Archive Notice:</strong> Archived items can be\n\t\t\t\t\t\t\t\t\trestored within 7 days. After 7 days, they will be permanently\n\t\t\t\t\t\t\t\t\tdeleted.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"flex justify-end space-x-3\">\n\t\t\t\t\t<StyledButton onClick={onClose} intent=\"secondary\">\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</StyledButton>\n\t\t\t\t\t<StyledButton\n\t\t\t\t\t\tonClick={handleConfirm}\n\t\t\t\t\t\tintent={isArchive ? \"warning\" : \"destructive\"}\n\t\t\t\t\t>\n\t\t\t\t\t\t{isArchive ? `Archive ${itemType}` : `Delete ${itemType}`}\n\t\t\t\t\t</StyledButton>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n\nexport default DeleteConfirmationModal;\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AALA;;;;;AAiBA,MAAM,0BAAkE,CAAC,EACxE,MAAM,EACN,OAAO,EACP,SAAS,EACT,KAAK,EACL,QAAQ,EACR,QAAQ,EACR,YAAY,KAAK,EACjB;IACA,MAAM,QAAQ,IAAA,wJAAQ;IAEtB,MAAM,gBAAgB;QACrB,IAAI;YACH,6BAA6B;YAC7B,MAAM;YAEN,qBAAqB;YACrB,IAAI,WAAW;gBACd,MAAM,OAAO,CACZ,GAAG,SAAS,SAAS,CAAC,EACtB,CAAC,CAAC,EAAE,SAAS,mEAAmE,CAAC;YAEnF,OAAO;gBACN,MAAM,OAAO,CACZ,GAAG,SAAS,QAAQ,CAAC,EACrB,CAAC,CAAC,EAAE,SAAS,+BAA+B,CAAC;YAE/C;YAEA,kBAAkB;YAClB;QACD,EAAE,OAAO,OAAO;YACf,2CAA2C;YAC3C,MAAM,KAAK,CACV,CAAC,UAAU,EACV,YAAY,YAAY,SACxB,CAAC,EAAE,SAAS,WAAW,IAAI,EAC5B,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QAE3C;IACD;IAEA,qBACC,8OAAC,2JAAK;QAAC,QAAQ;QAAQ,SAAS;QAAS,OAAO;QAAO,MAAK;kBAC3D,cAAA,8OAAC;YAAI,WAAU;;8BACd,8OAAC;oBAAI,WAAU;;sCACd,8OAAC;4BAAI,WAAU;sCACd,cAAA,8OAAC;gCACA,WAAU;gCACV,MAAK;gCACL,SAAQ;gCACR,aAAY;gCACZ,QAAO;0CAEP,cAAA,8OAAC;oCACA,eAAc;oCACd,gBAAe;oCACf,GAAE;;;;;;;;;;;;;;;;sCAIL,8OAAC;;8CACA,8OAAC;oCAAG,WAAU;8CAAuD;;;;;;8CAGrE,8OAAC;oCAAE,WAAU;8CACX,0BACA;;4CAAE;0DACqB,8OAAC;0DAAQ;;;;;;4CAAkB;4CAChD;4CAAS;4CAAkB,SAAS,WAAW;4CAAG;;qEAKpD;;4CAAE;4CAC8D;0DAC/D,8OAAC;0DAAQ;;;;;;4CAAkB;4CAAQ;4CAAS;;;;;;;;;;;;;;;;;;;;gBAQhD,CAAC,2BACD,8OAAC;oBAAI,WAAU;8BACd,cAAA,8OAAC;wBAAI,WAAU;;0CACd,8OAAC;gCAAI,WAAU;0CACd,cAAA,8OAAC;oCACA,WAAU;oCACV,SAAQ;oCACR,MAAK;8CAEL,cAAA,8OAAC;wCACA,UAAS;wCACT,GAAE;wCACF,UAAS;;;;;;;;;;;;;;;;0CAIZ,8OAAC;gCAAI,WAAU;0CACd,cAAA,8OAAC;oCAAE,WAAU;;sDACZ,8OAAC;sDAAO;;;;;;wCAAiB;;;;;;;;;;;;;;;;;;;;;;;gBAQ7B,2BACA,8OAAC;oBAAI,WAAU;8BACd,cAAA,8OAAC;wBAAI,WAAU;;0CACd,8OAAC;gCAAI,WAAU;0CACd,cAAA,8OAAC;oCACA,WAAU;oCACV,SAAQ;oCACR,MAAK;8CAEL,cAAA,8OAAC;wCACA,UAAS;wCACT,GAAE;wCACF,UAAS;;;;;;;;;;;;;;;;0CAIZ,8OAAC;gCAAI,WAAU;0CACd,cAAA,8OAAC;oCAAE,WAAU;;sDACZ,8OAAC;sDAAO;;;;;;wCAAwB;;;;;;;;;;;;;;;;;;;;;;;8BASrC,8OAAC;oBAAI,WAAU;;sCACd,8OAAC,qLAAY;4BAAC,SAAS;4BAAS,QAAO;sCAAY;;;;;;sCAGnD,8OAAC,qLAAY;4BACZ,SAAS;4BACT,QAAQ,YAAY,YAAY;sCAE/B,YAAY,CAAC,QAAQ,EAAE,UAAU,GAAG,CAAC,OAAO,EAAE,UAAU;;;;;;;;;;;;;;;;;;;;;;;AAM/D;uCAEe"}},
    {"offset": {"line": 7561, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/app/%28workspace%29/projects/components/invoice-generation-modal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useMutation } from \"convex/react\";\nimport { api } from \"@onetool/backend/convex/_generated/api\";\nimport { useRouter } from \"next/navigation\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport Modal from \"@/components/ui/modal\";\nimport { StyledButton } from \"@/components/ui/styled/styled-button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { RadioGroup } from \"@headlessui/react\";\nimport { CheckCircleIcon } from \"@heroicons/react/24/solid\";\nimport { Receipt } from \"lucide-react\";\nimport type { Id } from \"@onetool/backend/convex/_generated/dataModel\";\nimport { ApprovedQuote } from \"@/types/quote\";\n\ninterface InvoiceGenerationModalProps {\n\tisOpen: boolean;\n\tonClose: () => void;\n\tapprovedQuotes: ApprovedQuote[];\n}\n\nconst formatCurrency = (amount: number) => {\n\treturn new Intl.NumberFormat(\"en-US\", {\n\t\tstyle: \"currency\",\n\t\tcurrency: \"USD\",\n\t\tminimumFractionDigits: 0,\n\t\tmaximumFractionDigits: 0,\n\t}).format(amount);\n};\n\nconst formatDate = (timestamp: number) => {\n\treturn new Date(timestamp).toLocaleDateString(\"en-US\", {\n\t\tyear: \"numeric\",\n\t\tmonth: \"long\",\n\t\tday: \"numeric\",\n\t});\n};\n\nexport function InvoiceGenerationModal({\n\tisOpen,\n\tonClose,\n\tapprovedQuotes,\n}: InvoiceGenerationModalProps) {\n\tconst router = useRouter();\n\tconst toast = useToast();\n\tconst [selectedQuoteId, setSelectedQuoteId] = useState<Id<\"quotes\"> | null>(\n\t\tapprovedQuotes.length > 0 ? approvedQuotes[0]._id : null\n\t);\n\tconst [isCreating, setIsCreating] = useState(false);\n\n\tconst createInvoiceFromQuote = useMutation(api.invoices.createFromQuote);\n\n\tconst handleCreateInvoice = async () => {\n\t\tif (!selectedQuoteId) {\n\t\t\ttoast.error(\n\t\t\t\t\"No Quote Selected\",\n\t\t\t\t\"Please select a quote to generate an invoice from.\"\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tsetIsCreating(true);\n\t\ttry {\n\t\t\tconst loadingId = toast.loading(\n\t\t\t\t\"Creating Invoice\",\n\t\t\t\t\"Converting quote to invoice...\"\n\t\t\t);\n\n\t\t\t// Create invoice with default dates (issued now, due in 30 days)\n\t\t\tconst invoiceId = await createInvoiceFromQuote({\n\t\t\t\tquoteId: selectedQuoteId,\n\t\t\t\tissuedDate: Date.now(),\n\t\t\t\tdueDate: Date.now() + 30 * 24 * 60 * 60 * 1000, // 30 days from now\n\t\t\t});\n\n\t\t\ttoast.removeToast(loadingId);\n\t\t\ttoast.success(\n\t\t\t\t\"Invoice Created\",\n\t\t\t\t\"Quote converted to invoice successfully\"\n\t\t\t);\n\n\t\t\t// Close modal and navigate to the new invoice\n\t\t\tonClose();\n\t\t\trouter.push(`/invoices/${invoiceId}`);\n\t\t} catch (error) {\n\t\t\tconst message =\n\t\t\t\terror instanceof Error ? error.message : \"Failed to create invoice\";\n\t\t\ttoast.error(\"Invoice Creation Failed\", message);\n\t\t} finally {\n\t\t\tsetIsCreating(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Modal isOpen={isOpen} onClose={onClose} size=\"2xl\" animation=\"scale\">\n\t\t\t<div className=\"space-y-4\">\n\t\t\t\t{/* Header */}\n\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t<div className=\"flex items-center gap-2 mb-2\">\n\t\t\t\t\t\t<Receipt className=\"h-6 w-6 text-primary\" />\n\t\t\t\t\t\t<h2 className=\"text-xl font-semibold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\tGenerate Invoice from Quote\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p className=\"text-sm text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\tSelect an approved quote to convert into an invoice. All line items\n\t\t\t\t\t\tand totals will be copied to the new invoice.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Content */}\n\t\t\t\t<div className=\"py-4\">\n\t\t\t\t\t{approvedQuotes.length === 0 ? (\n\t\t\t\t\t\t<div className=\"text-center py-8\">\n\t\t\t\t\t\t\t<Receipt className=\"h-12 w-12 text-gray-400 mx-auto mb-3\" />\n\t\t\t\t\t\t\t<p className=\"text-sm text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\tNo approved quotes available for this project.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p className=\"text-xs text-gray-500 dark:text-gray-500 mt-2\">\n\t\t\t\t\t\t\t\tPlease approve a quote first before generating an invoice.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<RadioGroup value={selectedQuoteId} onChange={setSelectedQuoteId}>\n\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t{approvedQuotes.map((quote) => (\n\t\t\t\t\t\t\t\t\t<RadioGroup.Option\n\t\t\t\t\t\t\t\t\t\tkey={quote._id}\n\t\t\t\t\t\t\t\t\t\tvalue={quote._id}\n\t\t\t\t\t\t\t\t\t\tclassName={({ checked }) =>\n\t\t\t\t\t\t\t\t\t\t\t`relative flex cursor-pointer rounded-lg border-2 px-5 py-4 transition-all ${\n\t\t\t\t\t\t\t\t\t\t\t\tchecked\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"border-primary bg-primary/5 ring-2 ring-primary/20\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600\"\n\t\t\t\t\t\t\t\t\t\t\t}`\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{({ checked }) => (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex w-full items-center justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`flex h-5 w-5 items-center justify-center rounded-full border-2 transition-all ${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"border-primary bg-primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"border-gray-300 dark:border-gray-600\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{checked && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircleIcon className=\"h-5 w-5 text-white\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-semibold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tQuote #\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{quote.quoteNumber || quote._id.slice(-6)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge variant=\"default\" className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tApproved\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tCreated on {formatDate(quote._creationTime || Date.now())}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-lg font-bold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{quote.total ? formatCurrency(quote.total) : \"$0\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</RadioGroup.Option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</RadioGroup>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t{/* Footer */}\n\t\t\t\t<div className=\"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700\">\n\t\t\t\t\t<StyledButton\n\t\t\t\t\t\tonClick={onClose}\n\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\tdisabled={isCreating}\n\t\t\t\t\t\tshowArrow={false}\n\t\t\t\t\t>\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</StyledButton>\n\t\t\t\t\t<StyledButton\n\t\t\t\t\t\tonClick={handleCreateInvoice}\n\t\t\t\t\t\tintent=\"primary\"\n\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t!selectedQuoteId || isCreating || approvedQuotes.length === 0\n\t\t\t\t\t\t}\n\t\t\t\t\t\tisLoading={isCreating}\n\t\t\t\t\t\tshowArrow={false}\n\t\t\t\t\t>\n\t\t\t\t\t\tCreate Invoice\n\t\t\t\t\t</StyledButton>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7892, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/shared/prominent-status-badge.tsx"],"sourcesContent":["import {\n\tCheckCircleIcon,\n\tClockIcon,\n\tXCircleIcon,\n\tExclamationCircleIcon,\n\tPaperAirplaneIcon,\n\tBanknotesIcon,\n\tDocumentCheckIcon,\n} from \"@heroicons/react/24/solid\";\n\ntype StatusSize = \"default\" | \"large\" | \"xl\";\ntype EntityType = \"client\" | \"project\" | \"quote\" | \"invoice\" | \"task\";\n\ninterface ProminentStatusBadgeProps {\n\tstatus: string;\n\tsize?: StatusSize;\n\tshowIcon?: boolean;\n\tentityType?: EntityType;\n\tclassName?: string;\n}\n\nconst getStatusIcon = (status: string) => {\n\tconst iconClass = \"shrink-0\";\n\n\t// Map common statuses to icons\n\tswitch (status.toLowerCase()) {\n\t\tcase \"active\":\n\t\tcase \"completed\":\n\t\tcase \"approved\":\n\t\t\treturn <CheckCircleIcon className={iconClass} />;\n\t\tcase \"sent\":\n\t\t\treturn <PaperAirplaneIcon className={iconClass} />;\n\t\tcase \"paid\":\n\t\t\treturn <BanknotesIcon className={iconClass} />;\n\t\tcase \"pending\":\n\t\tcase \"draft\":\n\t\tcase \"planned\":\n\t\t\treturn <ClockIcon className={iconClass} />;\n\t\tcase \"declined\":\n\t\tcase \"cancelled\":\n\t\tcase \"archived\":\n\t\t\treturn <XCircleIcon className={iconClass} />;\n\t\tcase \"overdue\":\n\t\tcase \"expired\":\n\t\t\treturn <ExclamationCircleIcon className={iconClass} />;\n\t\tcase \"in-progress\":\n\t\t\treturn <ClockIcon className={iconClass} />;\n\t\tcase \"prospect\":\n\t\tcase \"lead\":\n\t\t\treturn <DocumentCheckIcon className={iconClass} />;\n\t\tdefault:\n\t\t\treturn <ClockIcon className={iconClass} />;\n\t}\n};\n\nconst getStatusColor = (status: string) => {\n\tconst statusLower = status.toLowerCase();\n\n\t// Color mapping based on status\n\tswitch (statusLower) {\n\t\tcase \"active\":\n\t\tcase \"completed\":\n\t\tcase \"paid\":\n\t\tcase \"approved\":\n\t\t\treturn \"bg-green-100 text-green-800 border-green-300 dark:bg-green-900/30 dark:text-green-300 dark:border-green-700\";\n\t\tcase \"in-progress\":\n\t\tcase \"sent\":\n\t\t\treturn \"bg-yellow-100 text-yellow-800 border-yellow-300 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-700\";\n\t\tcase \"pending\":\n\t\tcase \"draft\":\n\t\tcase \"planned\":\n\t\t\treturn \"bg-blue-100 text-blue-800 border-blue-300 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-700\";\n\t\tcase \"prospect\":\n\t\tcase \"lead\":\n\t\t\treturn \"bg-purple-100 text-purple-800 border-purple-300 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-700\";\n\t\tcase \"cancelled\":\n\t\tcase \"declined\":\n\t\tcase \"archived\":\n\t\tcase \"inactive\":\n\t\t\treturn \"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-900/30 dark:text-gray-300 dark:border-gray-700\";\n\t\tcase \"overdue\":\n\t\tcase \"expired\":\n\t\t\treturn \"bg-red-100 text-red-800 border-red-300 dark:bg-red-900/30 dark:text-red-300 dark:border-red-700\";\n\t\tdefault:\n\t\t\treturn \"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-900/30 dark:text-gray-300 dark:border-gray-700\";\n\t}\n};\n\nconst getSizeClasses = (size: StatusSize, showIcon: boolean) => {\n\tswitch (size) {\n\t\tcase \"xl\":\n\t\t\treturn {\n\t\t\t\tcontainer: \"px-6 py-3 text-lg font-bold border-2 rounded-xl shadow-lg\",\n\t\t\t\ticon: showIcon ? \"w-7 h-7 mr-3\" : \"\",\n\t\t\t};\n\t\tcase \"large\":\n\t\t\treturn {\n\t\t\t\tcontainer:\n\t\t\t\t\t\"px-4 py-2 text-base font-semibold border-2 rounded-lg shadow-md\",\n\t\t\t\ticon: showIcon ? \"w-5 h-5 mr-2\" : \"\",\n\t\t\t};\n\t\tcase \"default\":\n\t\tdefault:\n\t\t\treturn {\n\t\t\t\tcontainer: \"px-3 py-1.5 text-sm font-medium border rounded-md\",\n\t\t\t\ticon: showIcon ? \"w-4 h-4 mr-1.5\" : \"\",\n\t\t\t};\n\t}\n};\n\nconst formatStatusText = (status: string) => {\n\t// Convert status to proper case\n\treturn status\n\t\t.split(\"-\")\n\t\t.map((word) => word.charAt(0).toUpperCase() + word.slice(1))\n\t\t.join(\" \");\n};\n\nexport function ProminentStatusBadge({\n\tstatus,\n\tsize = \"default\",\n\tshowIcon = true,\n\tclassName = \"\",\n}: ProminentStatusBadgeProps) {\n\tconst colorClasses = getStatusColor(status);\n\tconst sizeClasses = getSizeClasses(size, showIcon);\n\tconst icon = showIcon ? getStatusIcon(status) : null;\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`inline-flex items-center justify-center ${sizeClasses.container} ${colorClasses} ${className}`}\n\t\t>\n\t\t\t{icon && <span className={sizeClasses.icon}>{icon}</span>}\n\t\t\t<span>{formatStatusText(status)}</span>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AAqBA,MAAM,gBAAgB,CAAC;IACtB,MAAM,YAAY;IAElB,+BAA+B;IAC/B,OAAQ,OAAO,WAAW;QACzB,KAAK;QACL,KAAK;QACL,KAAK;YACJ,qBAAO,8OAAC,8OAAe;gBAAC,WAAW;;;;;;QACpC,KAAK;YACJ,qBAAO,8OAAC,oPAAiB;gBAAC,WAAW;;;;;;QACtC,KAAK;YACJ,qBAAO,8OAAC,wOAAa;gBAAC,WAAW;;;;;;QAClC,KAAK;QACL,KAAK;QACL,KAAK;YACJ,qBAAO,8OAAC,4NAAS;gBAAC,WAAW;;;;;;QAC9B,KAAK;QACL,KAAK;QACL,KAAK;YACJ,qBAAO,8OAAC,kOAAW;gBAAC,WAAW;;;;;;QAChC,KAAK;QACL,KAAK;YACJ,qBAAO,8OAAC,gQAAqB;gBAAC,WAAW;;;;;;QAC1C,KAAK;YACJ,qBAAO,8OAAC,4NAAS;gBAAC,WAAW;;;;;;QAC9B,KAAK;QACL,KAAK;YACJ,qBAAO,8OAAC,oPAAiB;gBAAC,WAAW;;;;;;QACtC;YACC,qBAAO,8OAAC,4NAAS;gBAAC,WAAW;;;;;;IAC/B;AACD;AAEA,MAAM,iBAAiB,CAAC;IACvB,MAAM,cAAc,OAAO,WAAW;IAEtC,gCAAgC;IAChC,OAAQ;QACP,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;YACJ,OAAO;QACR,KAAK;QACL,KAAK;YACJ,OAAO;QACR,KAAK;QACL,KAAK;QACL,KAAK;YACJ,OAAO;QACR,KAAK;QACL,KAAK;YACJ,OAAO;QACR,KAAK;QACL,KAAK;QACL,KAAK;QACL,KAAK;YACJ,OAAO;QACR,KAAK;QACL,KAAK;YACJ,OAAO;QACR;YACC,OAAO;IACT;AACD;AAEA,MAAM,iBAAiB,CAAC,MAAkB;IACzC,OAAQ;QACP,KAAK;YACJ,OAAO;gBACN,WAAW;gBACX,MAAM,WAAW,iBAAiB;YACnC;QACD,KAAK;YACJ,OAAO;gBACN,WACC;gBACD,MAAM,WAAW,iBAAiB;YACnC;QACD,KAAK;QACL;YACC,OAAO;gBACN,WAAW;gBACX,MAAM,WAAW,mBAAmB;YACrC;IACF;AACD;AAEA,MAAM,mBAAmB,CAAC;IACzB,gCAAgC;IAChC,OAAO,OACL,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,OAAS,KAAK,MAAM,CAAC,GAAG,WAAW,KAAK,KAAK,KAAK,CAAC,IACxD,IAAI,CAAC;AACR;AAEO,SAAS,qBAAqB,EACpC,MAAM,EACN,OAAO,SAAS,EAChB,WAAW,IAAI,EACf,YAAY,EAAE,EACa;IAC3B,MAAM,eAAe,eAAe;IACpC,MAAM,cAAc,eAAe,MAAM;IACzC,MAAM,OAAO,WAAW,cAAc,UAAU;IAEhD,qBACC,8OAAC;QACA,WAAW,CAAC,wCAAwC,EAAE,YAAY,SAAS,CAAC,CAAC,EAAE,aAAa,CAAC,EAAE,WAAW;;YAEzG,sBAAQ,8OAAC;gBAAK,WAAW,YAAY,IAAI;0BAAG;;;;;;0BAC7C,8OAAC;0BAAM,iBAAiB;;;;;;;;;;;;AAG3B"}},
    {"offset": {"line": 8080, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/components/shared/status-progress-bar.tsx"],"sourcesContent":["\"use client\";\n\nimport { Check, Clock } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport {\n\tSelect,\n\tSelectContent,\n\tSelectItem,\n\tSelectTrigger,\n\tSelectValue,\n} from \"@/components/ui/select\";\n\nexport type StatusEvent = {\n\ttype: string;\n\ttimestamp?: number;\n};\n\nexport type ProgressBarVariant = \"success\" | \"destructive\" | \"in-progress\";\n\nexport interface StatusStep {\n\tid: string;\n\tname: string;\n\torder: number;\n}\n\nexport interface StatusOption {\n\tvalue: string;\n\tlabel: string;\n}\n\nexport interface StatusProgressBarProps {\n\t/** Current status of the entity */\n\tstatus: string;\n\t/** Array of workflow steps in order */\n\tsteps: StatusStep[];\n\t/** Optional events with timestamps */\n\tevents?: StatusEvent[];\n\t/** Statuses that should be treated as failures/errors */\n\tfailureStatuses?: string[];\n\t/** Statuses that should be treated as success */\n\tsuccessStatuses?: string[];\n\t/** Optional override for color variant */\n\tvariantOverride?: ProgressBarVariant;\n\t/** Show status change button */\n\tshowStatusButton?: boolean;\n\t/** Status options for the select dropdown */\n\tstatusOptions?: StatusOption[];\n\t/** Handler for status change */\n\tonStatusChange?: (status: string) => void;\n\t/** Label for the status button */\n\tstatusButtonLabel?: string;\n}\n\ntype StepStatus = \"complete\" | \"current\" | \"upcoming\";\n\nexport function StatusProgressBar({\n\tstatus,\n\tsteps: baseSteps,\n\tevents = [],\n\tfailureStatuses = [],\n\tsuccessStatuses = [],\n\tvariantOverride,\n\tshowStatusButton = false,\n\tstatusOptions = [],\n\tonStatusChange,\n\tstatusButtonLabel = \"Change Status\",\n}: StatusProgressBarProps) {\n\t// Check if we have a terminal failure state\n\tconst isFailure = failureStatuses.includes(status);\n\tconst isSuccess = successStatuses.includes(status);\n\n\t// If there's a failure status not in the normal flow, replace the last step\n\tconst hasFailureStep = baseSteps.some((step) => step.id === status);\n\tconst steps =\n\t\tisFailure && !hasFailureStep\n\t\t\t? [\n\t\t\t\t\t...baseSteps.slice(0, -1),\n\t\t\t\t\t{ id: status, name: status, order: baseSteps.length },\n\t\t\t  ]\n\t\t\t: baseSteps;\n\n\t// Determine the variant based on final status\n\tconst variant: ProgressBarVariant =\n\t\tvariantOverride ||\n\t\t(isSuccess ? \"success\" : isFailure ? \"destructive\" : \"in-progress\");\n\n\t// Helper to get event timestamp\n\tconst getEventTimestamp = (eventType: string): number | undefined => {\n\t\tconst event = events.find((e) => e.type === eventType);\n\t\treturn event?.timestamp;\n\t};\n\n\t// Helper to determine step status\n\tconst getStepStatus = (step: StatusStep): StepStatus => {\n\t\t// Find current status step order\n\t\tconst currentStatusStep = steps.find((s) => s.id === status);\n\t\tconst currentOrder = currentStatusStep?.order || 1;\n\n\t\t// If this step's ID matches the current status, it's current\n\t\tif (step.id === status) {\n\t\t\treturn \"current\";\n\t\t}\n\n\t\t// If step order is less than current status order, it's complete\n\t\tif (step.order < currentOrder) {\n\t\t\treturn \"complete\";\n\t\t}\n\n\t\t// Otherwise it's upcoming\n\t\treturn \"upcoming\";\n\t};\n\n\t// Format timestamp\n\tconst formatTimestamp = (timestamp?: number): string => {\n\t\tif (!timestamp) return \"\";\n\t\tconst date = new Date(timestamp);\n\t\treturn date.toLocaleString(\"en-US\", {\n\t\t\tmonth: \"short\",\n\t\t\tday: \"numeric\",\n\t\t\thour: \"numeric\",\n\t\t\tminute: \"2-digit\",\n\t\t});\n\t};\n\n\t// Get background color for each step status\n\tconst getBackgroundColor = (stepStatus: StepStatus): string => {\n\t\tif (stepStatus === \"complete\") {\n\t\t\t// Completed steps are always green\n\t\t\treturn \"#22c55e\"; // emerald-500\n\t\t}\n\t\tif (stepStatus === \"current\") {\n\t\t\t// Current step color depends on variant\n\t\t\tif (variant === \"success\") {\n\t\t\t\treturn \"#22c55e\"; // emerald-500\n\t\t\t}\n\t\t\tif (variant === \"destructive\") {\n\t\t\t\treturn \"#ef4444\"; // red-500\n\t\t\t}\n\t\t\treturn \"#2563eb\"; // blue-600 (dark blue like in image)\n\t\t}\n\t\t// Upcoming steps are light gray\n\t\treturn \"#f1f5f9\"; // slate-100\n\t};\n\n\t// Get text color for each step status\n\tconst getTextColor = (stepStatus: StepStatus): string => {\n\t\tif (stepStatus === \"complete\" || stepStatus === \"current\") {\n\t\t\treturn \"text-white\";\n\t\t}\n\t\treturn \"text-gray-700\";\n\t};\n\n\t// Get label text color\n\tconst getLabelColor = (stepStatus: StepStatus): string => {\n\t\tif (stepStatus === \"complete\" || stepStatus === \"current\") {\n\t\t\treturn \"text-white/80\";\n\t\t}\n\t\treturn \"text-gray-500\";\n\t};\n\n\t// Get clip path for arrow/chevron shape\n\tconst getClipPath = (\n\t\tindex: number,\n\t\ttotal: number,\n\t\tisLastWithButton: boolean\n\t): string | undefined => {\n\t\tif (total === 1) return undefined;\n\n\t\tconst notch = 20; // Size of the chevron notch\n\n\t\tif (index === total - 1) {\n\t\t\t// Last segment: no clip path (straight edge on right)\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// All other segments: straight left, chevron right only\n\t\treturn `polygon(0 0, calc(100% - ${notch}px) 0, 100% 50%, calc(100% - ${notch}px) 100%, 0 100%)`;\n\t};\n\n\treturn (\n\t\t<nav aria-label=\"Progress\" className=\"w-full max-w-5xl mx-auto\">\n\t\t\t<div\n\t\t\t\tclassName={cn(\n\t\t\t\t\t\"flex items-stretch\",\n\t\t\t\t\tshowStatusButton ? \"shadow-sm rounded-full overflow-hidden\" : \"\"\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t<ol\n\t\t\t\t\trole=\"list\"\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"flex items-stretch flex-1\",\n\t\t\t\t\t\tshowStatusButton ? \"\" : \"rounded-full shadow-sm overflow-hidden\"\n\t\t\t\t\t)}\n\t\t\t\t\tstyle={{ backgroundColor: \"#f1f5f9\" }} // Light gray background for upcoming segments\n\t\t\t\t>\n\t\t\t\t\t{steps.map((step, stepIdx) => {\n\t\t\t\t\t\tconst stepStatus = getStepStatus(step);\n\t\t\t\t\t\tconst timestamp = getEventTimestamp(step.id);\n\t\t\t\t\t\tconst backgroundColor = getBackgroundColor(stepStatus);\n\t\t\t\t\t\tconst isFirst = stepIdx === 0;\n\t\t\t\t\t\tconst isLast = stepIdx === steps.length - 1;\n\t\t\t\t\t\tconst isLastWithButton = isLast && showStatusButton;\n\t\t\t\t\t\tconst clipPath = getClipPath(\n\t\t\t\t\t\t\tstepIdx,\n\t\t\t\t\t\t\tsteps.length,\n\t\t\t\t\t\t\tisLastWithButton\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// Z-index: steps render left to right, each overlapping the previous\n\t\t\t\t\t\t// Earlier steps need higher z-index to overlap later ones\n\t\t\t\t\t\tconst zIndex = steps.length - stepIdx;\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tkey={step.id}\n\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\"relative flex flex-1\",\n\t\t\t\t\t\t\t\t\t!isLast && \"-mr-[20px]\" // Exact overlap to match chevron notch\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackgroundColor: backgroundColor,\n\t\t\t\t\t\t\t\t\tbackground: backgroundColor, // Ensure background is set\n\t\t\t\t\t\t\t\t\tclipPath: clipPath,\n\t\t\t\t\t\t\t\t\tWebkitClipPath: clipPath,\n\t\t\t\t\t\t\t\t\tzIndex,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{/* White outline for chevron */}\n\t\t\t\t\t\t\t\t{clipPath && !isLast ? (\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclassName=\"absolute right-0 top-0 w-[20px] h-full pointer-events-none\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ zIndex: zIndex + 1 }}\n\t\t\t\t\t\t\t\t\t\tpreserveAspectRatio=\"none\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 20 100\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td=\"M 0 0 L 20 50 L 0 100\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"white\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth=\"3\"\n\t\t\t\t\t\t\t\t\t\t\tvectorEffect=\"non-scaling-stroke\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\"relative flex w-full items-center justify-between\",\n\t\t\t\t\t\t\t\t\t\t\"px-3 py-1.5\",\n\t\t\t\t\t\t\t\t\t\t!isFirst && \"pl-[24px]\" // Adjust padding for 20px overlap\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span className=\"flex items-center gap-1.5\">\n\t\t\t\t\t\t\t\t\t\t{/* Icon/Badge */}\n\t\t\t\t\t\t\t\t\t\t{stepStatus === \"complete\" ? (\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"flex size-6 shrink-0 items-center justify-center rounded-full bg-white/20 ring-2 ring-white/40\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Check\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"size-3 text-white stroke-[2.5]\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t) : stepStatus === \"current\" ? (\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"flex size-6 shrink-0 items-center justify-center rounded-full border-2 border-white/50 bg-white/10\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Clock className=\"size-3 text-white\" />\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"flex size-6 shrink-0 items-center justify-center rounded-full border-2 border-gray-300 bg-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500 text-[10px] font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{step.order}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t{/* Step name and label */}\n\t\t\t\t\t\t\t\t\t\t<span className=\"flex flex-col items-start\">\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"text-[10px] font-bold uppercase tracking-wide leading-tight\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetLabelColor(stepStatus)\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{stepStatus === \"complete\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"COMPLETED\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: stepStatus === \"current\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"CURRENT STAGE\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"UPCOMING\"}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"text-sm font-bold leading-tight\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetTextColor(stepStatus)\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{step.name}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t\t\t\t{/* Timestamp on the right */}\n\t\t\t\t\t\t\t\t\t{timestamp && (\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\t\"text-xs font-medium\",\n\t\t\t\t\t\t\t\t\t\t\t\tgetTextColor(stepStatus),\n\t\t\t\t\t\t\t\t\t\t\t\t\"opacity-80 ml-1.5\"\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{formatTimestamp(timestamp)}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</ol>\n\t\t\t\t{showStatusButton && statusOptions.length > 0 && onStatusChange && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"-ml-[5px] relative flex items-center\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tzIndex: steps.length + 10,\n\t\t\t\t\t\t\tbackgroundColor: \"#f1f5f9\", // Force slate-100 in all modes\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/* White separator line */}\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"absolute left-[5px] top-0 h-full\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tzIndex: steps.length + 11,\n\t\t\t\t\t\t\t\tbackgroundColor: \"#ffffff\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Select value={status} onValueChange={onStatusChange}>\n\t\t\t\t\t\t\t<SelectTrigger\n\t\t\t\t\t\t\t\tclassName=\"w-auto whitespace-nowrap border-0 transition-all duration-200 font-semibold rounded-none h-full pl-7 pr-6 shadow-none focus:ring-0\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tclipPath:\n\t\t\t\t\t\t\t\t\t\t\"polygon(20px 0, 100% 0, 100% 100%, 20px 100%, 15px 90%, 10px 75%, 7px 60%, 5px 50%, 7px 40%, 10px 25%, 15px 10%)\",\n\t\t\t\t\t\t\t\t\tWebkitClipPath:\n\t\t\t\t\t\t\t\t\t\t\"polygon(20px 0, 100% 0, 100% 100%, 20px 100%, 15px 90%, 10px 75%, 7px 60%, 5px 50%, 7px 40%, 10px 25%, 15px 10%)\",\n\t\t\t\t\t\t\t\t\tbackgroundColor: \"#f1f5f9\", // Force slate-100 in all modes\n\t\t\t\t\t\t\t\t\tcolor: \"#334155\", // Force slate-700 text color in all modes\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{statusButtonLabel}\n\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t{statusOptions.map((option) => (\n\t\t\t\t\t\t\t\t\t<SelectItem key={option.value} value={option.value}>\n\t\t\t\t\t\t\t\t\t\t{option.label}\n\t\t\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</nav>\n\t);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8455, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/app/%28workspace%29/projects/components/project-header.tsx"],"sourcesContent":["\"use client\";\n\nimport { Id, Doc } from \"@onetool/backend/convex/_generated/dataModel\";\nimport { FolderOpen, PencilIcon } from \"lucide-react\";\nimport { ProminentStatusBadge } from \"@/components/shared/prominent-status-badge\";\nimport { StatusProgressBar } from \"@/components/shared/status-progress-bar\";\nimport {\n\tStyledSelect,\n\tStyledSelectTrigger,\n\tStyledSelectContent,\n\tSelectValue,\n\tSelectItem,\n} from \"@/components/ui/styled\";\nimport {\n\tPopover,\n\tPopoverTrigger,\n\tPopoverContent,\n} from \"@/components/ui/popover\";\nimport { Plus, ClipboardList, Receipt } from \"lucide-react\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { useRouter } from \"next/navigation\";\n\nconst STATUS_OPTIONS = [\n\t\"planned\",\n\t\"in-progress\",\n\t\"completed\",\n\t\"cancelled\",\n] as const;\n\nfunction formatStatus(status: string): string {\n\tif (status === \"in-progress\") return \"In Progress\";\n\treturn status.charAt(0).toUpperCase() + status.slice(1);\n}\n\nfunction formatDate(timestamp?: number) {\n\tif (!timestamp) return \"Not set\";\n\treturn new Date(timestamp).toLocaleDateString(\"en-US\", {\n\t\tyear: \"numeric\",\n\t\tmonth: \"long\",\n\t\tday: \"numeric\",\n\t});\n}\n\nfunction getStatusColor(status: string) {\n\tswitch (status) {\n\t\tcase \"planned\":\n\t\t\treturn \"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400\";\n\t\tcase \"in-progress\":\n\t\t\treturn \"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400\";\n\t\tcase \"completed\":\n\t\t\treturn \"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400\";\n\t\tcase \"cancelled\":\n\t\t\treturn \"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400\";\n\t\tcase \"draft\":\n\t\t\treturn \"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400\";\n\t\tcase \"sent\":\n\t\tcase \"pending\":\n\t\tcase \"approved\":\n\t\t\treturn \"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400\";\n\t\tcase \"paid\":\n\t\t\treturn \"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400\";\n\t\tdefault:\n\t\t\treturn \"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400\";\n\t}\n}\n\ninterface ProjectHeaderProps {\n\tproject: Doc<\"projects\">;\n\tprojectId: string;\n\tisEditing: boolean;\n\tonEditClick: () => void;\n\tstatusValue: string;\n\tonStatusChange: (value: string) => void;\n\ttasks: Doc<\"tasks\">[] | undefined;\n\tquotes: Doc<\"quotes\">[] | undefined;\n\tonTaskSheetOpen: () => void;\n\tonStatusUpdate: (\n\t\tstatus: \"planned\" | \"in-progress\" | \"completed\" | \"cancelled\"\n\t) => void;\n}\n\nexport function ProjectHeader({\n\tproject,\n\tprojectId,\n\tisEditing,\n\tonEditClick,\n\tstatusValue,\n\tonStatusChange,\n\ttasks,\n\tquotes,\n\tonTaskSheetOpen,\n\tonStatusUpdate,\n}: ProjectHeaderProps) {\n\tconst router = useRouter();\n\n\treturn (\n\t\t<div className=\"mb-8\">\n\t\t\t<div className=\"flex items-center gap-6 mb-6\">\n\t\t\t\t<div className=\"flex items-center justify-center w-16 h-16 rounded-lg bg-linear-to-br from-purple-500 to-purple-600 dark:from-purple-600 dark:to-purple-700 shrink-0 shadow-md\">\n\t\t\t\t\t<FolderOpen className=\"h-8 w-8 text-white\" />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"min-w-0\">\n\t\t\t\t\t<div className=\"flex items-center gap-3 flex-wrap mb-3\">\n\t\t\t\t\t\t<h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t{project.title}\n\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t{isEditing ? (\n\t\t\t\t\t\t\t<StyledSelect value={statusValue} onValueChange={onStatusChange}>\n\t\t\t\t\t\t\t\t<StyledSelectTrigger className=\"w-auto\">\n\t\t\t\t\t\t\t\t\t<SelectValue />\n\t\t\t\t\t\t\t\t</StyledSelectTrigger>\n\t\t\t\t\t\t\t\t<StyledSelectContent>\n\t\t\t\t\t\t\t\t\t{STATUS_OPTIONS.map((status) => (\n\t\t\t\t\t\t\t\t\t\t<SelectItem key={status} value={status}>\n\t\t\t\t\t\t\t\t\t\t\t{formatStatus(status)}\n\t\t\t\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</StyledSelectContent>\n\t\t\t\t\t\t\t</StyledSelect>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<ProminentStatusBadge\n\t\t\t\t\t\t\t\tstatus={project.status}\n\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\tshowIcon={true}\n\t\t\t\t\t\t\t\tentityType=\"project\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t{!isEditing && (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={onEditClick}\n\t\t\t\t\t\t\tclassName=\"inline-flex items-center gap-2 text-sm text-primary hover:text-primary/80 font-medium transition-colors\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PencilIcon className=\"h-4 w-4\" />\n\t\t\t\t\t\t\tEdit Details\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t{/* Inline Status Progress Bar with Button - Fill remaining space */}\n\t\t\t\t<div className=\"flex-1 min-w-0\">\n\t\t\t\t\t<StatusProgressBar\n\t\t\t\t\t\tstatus={project.status}\n\t\t\t\t\t\tsteps={[\n\t\t\t\t\t\t\t{ id: \"planned\", name: \"Planned\", order: 1 },\n\t\t\t\t\t\t\t{ id: \"in-progress\", name: \"In Progress\", order: 2 },\n\t\t\t\t\t\t\t{ id: \"completed\", name: \"Completed\", order: 3 },\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tevents={[\n\t\t\t\t\t\t\t...(project._creationTime\n\t\t\t\t\t\t\t\t? [{ type: \"planned\", timestamp: project._creationTime }]\n\t\t\t\t\t\t\t\t: []),\n\t\t\t\t\t\t\t...(project.startDate\n\t\t\t\t\t\t\t\t? [{ type: \"in-progress\", timestamp: project.startDate }]\n\t\t\t\t\t\t\t\t: []),\n\t\t\t\t\t\t\t...(project.completedAt\n\t\t\t\t\t\t\t\t? [{ type: \"completed\", timestamp: project.completedAt }]\n\t\t\t\t\t\t\t\t: []),\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tfailureStatuses={[\"cancelled\"]}\n\t\t\t\t\t\tsuccessStatuses={[\"completed\"]}\n\t\t\t\t\t\tshowStatusButton={true}\n\t\t\t\t\t\tstatusOptions={STATUS_OPTIONS.map((status) => ({\n\t\t\t\t\t\t\tvalue: status,\n\t\t\t\t\t\t\tlabel: formatStatus(status),\n\t\t\t\t\t\t}))}\n\t\t\t\t\t\tonStatusChange={(value) =>\n\t\t\t\t\t\t\tonStatusUpdate(\n\t\t\t\t\t\t\t\tvalue as \"planned\" | \"in-progress\" | \"completed\" | \"cancelled\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstatusButtonLabel=\"Change Status\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Related Items Quick Links - Salesforce inspired */}\n\t\t\t<div className=\"grid grid-cols-2 md:grid-cols-2 gap-3\">\n\t\t\t\t{/* Tasks */}\n\t\t\t\t<Popover>\n\t\t\t\t\t<PopoverTrigger asChild>\n\t\t\t\t\t\t<button className=\"flex flex-col items-center justify-center p-4 rounded-lg border border-gray-300 dark:border-white/20 bg-white dark:bg-gray-900 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-all\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-1\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-blue-600 dark:text-blue-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth=\"2\"\n\t\t\t\t\t\t\t\t\t\td=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t{tasks?.length || 0}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\tTasks\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</PopoverTrigger>\n\t\t\t\t\t<PopoverContent\n\t\t\t\t\t\tclassName=\"w-96 p-0 bg-white dark:bg-gray-900\"\n\t\t\t\t\t\talign=\"start\"\n\t\t\t\t\t\tside=\"bottom\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"p-4 border-b border-gray-200 dark:border-white/10\">\n\t\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t\t<h3 className=\"font-semibold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\tTasks\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t<Button intent=\"outline\" size=\"sm\" onPress={onTaskSheetOpen}>\n\t\t\t\t\t\t\t\t\t<Plus className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\t\t\tNew\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"max-h-96 overflow-y-auto\">\n\t\t\t\t\t\t\t{tasks && tasks.length > 0 ? (\n\t\t\t\t\t\t\t\t<div className=\"p-2\">\n\t\t\t\t\t\t\t\t\t{tasks.map((task: Doc<\"tasks\">) => (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tkey={task._id}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-white/5 rounded-lg transition-colors\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3 flex-1 min-w-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`w-2 h-2 rounded-full shrink-0 ${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttask.status === \"completed\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"bg-green-500\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: task.status === \"cancelled\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"bg-red-500\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"bg-yellow-500\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-1 min-w-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-medium text-sm text-gray-900 dark:text-white truncate\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{task.title}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{task.date && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatDate(task.date)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={getStatusColor(task.status)}\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{task.status}\n\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"p-8 text-center\">\n\t\t\t\t\t\t\t\t\t<ClipboardList className=\"h-12 w-12 text-gray-400 dark:text-gray-600 mx-auto mb-3\" />\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\tNo tasks yet\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</PopoverContent>\n\t\t\t\t</Popover>\n\n\t\t\t\t{/* Quotes */}\n\t\t\t\t<Popover>\n\t\t\t\t\t<PopoverTrigger asChild>\n\t\t\t\t\t\t<button className=\"flex flex-col items-center justify-center p-4 rounded-lg border border-gray-300 dark:border-white/20 bg-white dark:bg-gray-900 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-all\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 mb-1\">\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 text-green-600 dark:text-green-400\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\tstrokeWidth=\"2\"\n\t\t\t\t\t\t\t\t\t\td=\"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t{quotes?.length || 0}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\tQuotes\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</PopoverTrigger>\n\t\t\t\t\t<PopoverContent\n\t\t\t\t\t\tclassName=\"w-96 p-0 bg-white dark:bg-gray-900\"\n\t\t\t\t\t\talign=\"start\"\n\t\t\t\t\t\tside=\"bottom\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"p-4 border-b border-gray-200 dark:border-white/10\">\n\t\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t\t<h3 className=\"font-semibold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\tQuotes\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tonPress={() =>\n\t\t\t\t\t\t\t\t\t\trouter.push(`/quotes/new?projectId=${projectId}`)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Plus className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\t\t\tNew\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"max-h-96 overflow-y-auto\">\n\t\t\t\t\t\t\t{quotes && quotes.length > 0 ? (\n\t\t\t\t\t\t\t\t<div className=\"p-2\">\n\t\t\t\t\t\t\t\t\t{quotes.map((quote: Doc<\"quotes\">) => (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tkey={quote._id}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-white/5 rounded-lg transition-colors cursor-pointer\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => router.push(`/quotes/${quote._id}`)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3 flex-1 min-w-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"w-2 h-2 rounded-full bg-blue-500 shrink-0\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-1 min-w-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-medium text-sm text-gray-900 dark:text-white truncate\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tQuote #{quote.quoteNumber || quote._id.slice(-6)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatDate(quote._creationTime)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-right shrink-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t{quote.total && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-medium text-sm text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t${quote.total.toLocaleString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={getStatusColor(quote.status || \"draft\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{quote.status || \"draft\"}\n\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div className=\"p-8 text-center\">\n\t\t\t\t\t\t\t\t\t<Receipt className=\"h-12 w-12 text-gray-400 dark:text-gray-600 mx-auto mb-3\" />\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\tNo quotes yet\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</PopoverContent>\n\t\t\t\t</Popover>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 9187, "column": 0}, "map": {"version":3,"sources":["file:///Users/patrickcarter/CodingProjects/WebDevProjects/NextJSProjects/nextjs-onetool/apps/web/src/app/%28workspace%29/projects/%5BprojectId%5D/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useQuery, useMutation } from \"convex/react\";\nimport { api } from \"@onetool/backend/convex/_generated/api\";\nimport { useParams, useRouter } from \"next/navigation\";\nimport { Button } from \"@/components/ui/button\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { TaskSheet } from \"@/components/shared/task-sheet\";\nimport { ProjectViewEditForm } from \"@/app/(workspace)/projects/components/project-view-edit-form\";\nimport { MentionSection } from \"@/components/shared/mention-section\";\nimport DeleteConfirmationModal from \"@/components/ui/delete-confirmation-modal\";\nimport { InvoiceGenerationModal } from \"@/app/(workspace)/projects/components/invoice-generation-modal\";\nimport { ProjectHeader } from \"@/app/(workspace)/projects/components/project-header\";\nimport { useState } from \"react\";\nimport type { Id } from \"@onetool/backend/convex/_generated/dataModel\";\n\nexport default function ProjectDetailPage() {\n\tconst params = useParams();\n\tconst router = useRouter();\n\tconst toast = useToast();\n\tconst [isUpdating, setIsUpdating] = useState(false);\n\tconst [isTaskSheetOpen, setIsTaskSheetOpen] = useState(false);\n\tconst [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n\tconst [isDeleting, setIsDeleting] = useState(false);\n\tconst [isInvoiceModalOpen, setIsInvoiceModalOpen] = useState(false);\n\tconst [isEditing, setIsEditing] = useState(false);\n\n\tconst projectId = params.projectId as Id<\"projects\">;\n\n\t// Fetch project data\n\tconst project = useQuery(api.projects.get, { id: projectId });\n\t// Skip queries if project is null or deletion is in progress\n\tconst projectTasks = useQuery(\n\t\tapi.tasks.list,\n\t\tproject === null || isDeleting ? \"skip\" : { projectId }\n\t);\n\tconst projectQuotes = useQuery(\n\t\tapi.quotes.list,\n\t\tproject === null || isDeleting ? \"skip\" : { projectId }\n\t);\n\n\t// Mutations\n\tconst updateProject = useMutation(api.projects.update);\n\tconst deleteProject = useMutation(api.projects.remove);\n\n\tconst handleUpdate = async (updates: Partial<typeof project>) => {\n\t\tsetIsUpdating(true);\n\t\ttry {\n\t\t\tawait updateProject({ id: projectId, ...updates });\n\t\t\ttoast.success(\"Project Updated\", \"Your changes have been saved.\");\n\t\t} catch (err) {\n\t\t\tconst message =\n\t\t\t\terr instanceof Error ? err.message : \"Failed to save changes\";\n\t\t\ttoast.error(\"Error\", message);\n\t\t} finally {\n\t\t\tsetIsUpdating(false);\n\t\t}\n\t};\n\n\t// Loading state\n\tif (project === undefined) {\n\t\treturn (\n\t\t\t<div className=\"w-full px-6\">\n\t\t\t\t<div className=\"w-full pt-8 pb-24\">\n\t\t\t\t\t<div className=\"animate-pulse space-y-8\">\n\t\t\t\t\t\t<div className=\"mb-8\">\n\t\t\t\t\t\t\t<div className=\"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-3\"></div>\n\t\t\t\t\t\t\t<div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"space-y-8\">\n\t\t\t\t\t\t\t<div className=\"h-32 bg-gray-200 dark:bg-gray-700 rounded\"></div>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-1 gap-6 lg:grid-cols-3\">\n\t\t\t\t\t\t\t\t<div className=\"lg:col-span-2 h-64 bg-gray-200 dark:bg-gray-700 rounded\"></div>\n\t\t\t\t\t\t\t\t<div className=\"h-64 bg-gray-200 dark:bg-gray-700 rounded\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Project not found\n\tif (project === null) {\n\t\treturn (\n\t\t\t<div className=\"w-full px-6\">\n\t\t\t\t<div className=\"w-full pt-8 pb-24 flex flex-col items-center justify-center h-96 space-y-4\">\n\t\t\t\t\t<div className=\"text-6xl\"></div>\n\t\t\t\t\t<h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n\t\t\t\t\t\tProject Not Found\n\t\t\t\t\t</h1>\n\t\t\t\t\t<p className=\"text-gray-600 dark:text-gray-400 text-center\">\n\t\t\t\t\t\tThe project you&apos;re looking for doesn&apos;t exist or you\n\t\t\t\t\t\tdon&apos;t have permission to view it.\n\t\t\t\t\t</p>\n\t\t\t\t\t<Button onClick={() => router.push(\"/projects\")}>\n\t\t\t\t\t\tBack to Projects\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tconst handleStatusUpdate = async (\n\t\tnewStatus: \"planned\" | \"in-progress\" | \"completed\" | \"cancelled\"\n\t) => {\n\t\tsetIsUpdating(true);\n\t\ttry {\n\t\t\tawait updateProject({\n\t\t\t\tid: projectId,\n\t\t\t\tstatus: newStatus,\n\t\t\t});\n\t\t\ttoast.success(\n\t\t\t\t\"Project Updated\",\n\t\t\t\t`Project status changed to ${newStatus}`\n\t\t\t);\n\t\t} catch {\n\t\t\ttoast.error(\"Error\", \"Failed to update project status\");\n\t\t} finally {\n\t\t\tsetIsUpdating(false);\n\t\t}\n\t};\n\n\tconst handleDeleteProject = async () => {\n\t\tsetIsDeleteModalOpen(true);\n\t};\n\n\tconst confirmDeleteProject = async () => {\n\t\tsetIsDeleting(true);\n\t\ttry {\n\t\t\tawait deleteProject({ id: projectId });\n\t\t\ttoast.success(\"Project Deleted\", \"Project has been successfully deleted\");\n\t\t\tsetIsDeleteModalOpen(false);\n\t\t\trouter.push(\"/projects\");\n\t\t} catch (err) {\n\t\t\tconst message =\n\t\t\t\terr instanceof Error ? err.message : \"Failed to delete project\";\n\t\t\ttoast.error(\"Error\", message);\n\t\t\tsetIsDeleteModalOpen(false);\n\t\t\tsetIsDeleting(false);\n\t\t}\n\t};\n\n\tconst getStatusColor = (status: string) => {\n\t\tswitch (status) {\n\t\t\tcase \"planned\":\n\t\t\t\treturn \"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400\";\n\t\t\tcase \"in-progress\":\n\t\t\t\treturn \"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400\";\n\t\t\tcase \"completed\":\n\t\t\t\treturn \"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400\";\n\t\t\tcase \"cancelled\":\n\t\t\t\treturn \"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400\";\n\t\t\tdefault:\n\t\t\t\treturn \"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400\";\n\t\t}\n\t};\n\n\t// Filter approved quotes for invoice generation\n\tconst approvedQuotes =\n\t\tprojectQuotes?.filter((quote) => quote.status === \"approved\") || [];\n\n\treturn (\n\t\t<>\n\t\t\t<TaskSheet\n\t\t\t\tmode=\"create\"\n\t\t\t\tisOpen={isTaskSheetOpen}\n\t\t\t\tonOpenChange={setIsTaskSheetOpen}\n\t\t\t\tinitialValues={{\n\t\t\t\t\tclientId: project?.clientId,\n\t\t\t\t\tprojectId: projectId,\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<DeleteConfirmationModal\n\t\t\t\tisOpen={isDeleteModalOpen}\n\t\t\t\tonClose={() => setIsDeleteModalOpen(false)}\n\t\t\t\tonConfirm={confirmDeleteProject}\n\t\t\t\ttitle=\"Delete Project\"\n\t\t\t\titemName={project.title}\n\t\t\t\titemType=\"Project\"\n\t\t\t\tisArchive={false}\n\t\t\t/>\n\t\t\t<InvoiceGenerationModal\n\t\t\t\tisOpen={isInvoiceModalOpen}\n\t\t\t\tonClose={() => setIsInvoiceModalOpen(false)}\n\t\t\t\tapprovedQuotes={approvedQuotes}\n\t\t\t/>\n\t\t\t<div className=\"w-full px-6\">\n\t\t\t\t<div className=\"w-full pt-8 pb-24\">\n\t\t\t\t\t{/* Project Header - Salesforce inspired */}\n\t\t\t\t\t<ProjectHeader\n\t\t\t\t\t\tproject={project}\n\t\t\t\t\t\tprojectId={projectId}\n\t\t\t\t\t\tisEditing={isEditing}\n\t\t\t\t\t\tonEditClick={() => setIsEditing(true)}\n\t\t\t\t\t\tstatusValue={project.status}\n\t\t\t\t\t\tonStatusChange={(value) => {\n\t\t\t\t\t\t\thandleStatusUpdate(\n\t\t\t\t\t\t\t\tvalue as \"planned\" | \"in-progress\" | \"completed\" | \"cancelled\"\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttasks={projectTasks}\n\t\t\t\t\t\tquotes={projectQuotes}\n\t\t\t\t\t\tonTaskSheetOpen={() => setIsTaskSheetOpen(true)}\n\t\t\t\t\t\tonStatusUpdate={handleStatusUpdate}\n\t\t\t\t\t/>\n\n\t\t\t\t{/* Project View/Edit Form Component */}\n\t\t\t\t<ProjectViewEditForm\n\t\t\t\t\tprojectId={projectId}\n\t\t\t\t\tproject={project}\n\t\t\t\t\tonUpdate={handleUpdate}\n\t\t\t\t\tonDelete={handleDeleteProject}\n\t\t\t\t\tonStatusUpdate={handleStatusUpdate}\n\t\t\t\t\tisUpdating={isUpdating}\n\t\t\t\t\tprojectTasks={projectTasks}\n\t\t\t\t\tprojectQuotes={projectQuotes}\n\t\t\t\t\tapprovedQuotesCount={approvedQuotes.length}\n\t\t\t\t\tonTaskSheetOpen={() => setIsTaskSheetOpen(true)}\n\t\t\t\t\tonNavigate={(path) => router.push(path)}\n\t\t\t\t\tonGenerateInvoice={() => setIsInvoiceModalOpen(true)}\n\t\t\t\t\tisEditing={isEditing}\n\t\t\t\t\tonEditingChange={setIsEditing}\n\t\t\t\t/>\n\n\t\t\t\t\t{/* Team Communication Section */}\n\t\t\t\t\t<div className=\"mt-8\">\n\t\t\t\t\t\t<MentionSection\n\t\t\t\t\t\t\tentityType=\"project\"\n\t\t\t\t\t\t\tentityId={projectId}\n\t\t\t\t\t\t\tentityName={project.title}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n"],"names":[],"mappings":"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"}}]
}