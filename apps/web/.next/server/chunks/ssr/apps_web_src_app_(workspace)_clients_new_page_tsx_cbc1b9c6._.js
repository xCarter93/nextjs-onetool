module.exports=[431361,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944);a.i(511241);var e=a.i(296373),f=a.i(130487),g=a.i(811182),h=a.i(954714),i=a.i(216371),j=a.i(629353),k=a.i(84059),l=a.i(928503),m=a.i(197463),n=a.i(547885),o=a.i(468106),p=a.i(812911),q=a.i(658547);let r={companyName:"",industry:"",companyDescription:"",status:"",leadSource:"",contacts:[{id:"primary",firstName:"",lastName:"",email:"",phone:"",jobTitle:"",role:"",department:"",isPrimary:!0}],properties:[{id:"primary",propertyName:"",propertyType:"",squareFootage:"",streetAddress:"",city:"",region:"",postalCode:"",propertyDescription:"",isPrimary:!0}],category:"",clientSize:"",clientType:"",isActive:"",projectDimensions:"",priorityLevel:"",tags:"",notes:"",servicesNeeded:[],communicationPreference:"",emailOptIn:!0,smsOptIn:!1},s=()=>Math.random().toString(36).substr(2,9),t=(a=!1)=>({id:s(),firstName:"",lastName:"",email:"",phone:"",jobTitle:"",role:"",department:"",isPrimary:a}),u=(a=!1)=>({id:s(),propertyName:"",propertyType:"",squareFootage:"",streetAddress:"",city:"",region:"",postalCode:"",propertyDescription:"",isPrimary:a}),v=h.object({companyName:h.string().min(1,"Company name is required"),status:h.string().refine(a=>""!==a,{message:"Client status is required"}),industry:h.string(),companyDescription:h.string(),leadSource:h.string(),contacts:h.array(h.object({id:h.string(),firstName:h.string(),lastName:h.string(),email:h.string(),phone:h.string(),jobTitle:h.string(),role:h.string(),department:h.string(),isPrimary:h.boolean()})).refine(a=>{let b=a.find(a=>a.isPrimary);return!!b&&!!b.firstName.trim()&&!!b.lastName.trim()&&!!b.email.trim()&&!!/\S+@\S+\.\S+/.test(b.email)},{message:"Primary contact requires first name, last name, and a valid email"}),properties:h.array(h.object({id:h.string(),propertyName:h.string(),propertyType:h.string(),squareFootage:h.string(),streetAddress:h.string(),city:h.string(),region:h.string(),postalCode:h.string(),propertyDescription:h.string(),isPrimary:h.boolean()})).refine(a=>{let b=a.find(a=>a.isPrimary);return!!b&&!!b.streetAddress.trim()&&!!b.city.trim()&&!!b.region.trim()&&!!b.postalCode.trim()},{message:"Primary property requires street address, city, state/province, and postal code"}),category:h.string(),clientSize:h.string(),clientType:h.string(),isActive:h.string(),projectDimensions:h.string(),priorityLevel:h.string(),tags:h.string(),notes:h.string(),servicesNeeded:h.array(h.string()),communicationPreference:h.string(),emailOptIn:h.boolean(),smsOptIn:h.boolean()}),w=({title:a="New Client Onboarding",subtitle:d="Let's gather comprehensive information to establish a complete client profile with all necessary details for effective relationship management.",onSubmit:e,isLoading:f=!1})=>{let h=(0,j.useToastOperations)(),s=(0,g.useForm)({defaultValues:r,onSubmit:async({value:a})=>{let b=v.safeParse(a);if(!b.success){console.error("Validation errors:",b.error.flatten()),h.error("Validation Error","Please fix the errors in the form before submitting.");return}try{e&&e(a)}catch(a){console.error("Failed to submit form:",a),h.error("Error","Failed to submit form. Please try again.")}}});return(0,b.jsx)("div",{className:"w-full px-6",children:(0,b.jsxs)("div",{className:"w-full pt-8 pb-24",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tight text-gray-900 dark:text-white",children:a}),(0,b.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:d})]}),(0,b.jsx)("form",{id:"client-onboarding-form",onSubmit:a=>{a.preventDefault(),s.handleSubmit()},children:(0,b.jsxs)("div",{className:"space-y-12",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-x-8 gap-y-10 border-b border-gray-200 dark:border-white/10 pb-12 md:grid-cols-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-base/7 font-semibold text-gray-900 dark:text-white",children:"Company Information"}),(0,b.jsx)("p",{className:"mt-1 text-sm/6 text-gray-600 dark:text-gray-400",children:"Basic information about the client company and how they found us."})]}),(0,b.jsxs)("div",{className:"grid max-w-4xl grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6 md:col-span-2",children:[(0,b.jsx)(k.FieldGroup,{className:"sm:col-span-4",children:(0,b.jsx)(s.Field,{name:"companyName",children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(k.Field,{"data-invalid":c,children:[(0,b.jsx)(k.FieldLabel,{htmlFor:a.name,children:"Company name *"}),(0,b.jsx)(l.Input,{id:a.name,name:a.name,value:a.state.value,onBlur:a.handleBlur,onChange:b=>a.handleChange(b.target.value),"aria-invalid":c,placeholder:"e.g., ASMobbin",autoComplete:"organization",disabled:f}),c&&(0,b.jsx)(k.FieldError,{errors:a.state.meta.errors})]})}})}),(0,b.jsx)(k.FieldGroup,{className:"sm:col-span-2",children:(0,b.jsx)(s.Field,{name:"status",children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(k.Field,{"data-invalid":c,children:[(0,b.jsx)(k.FieldLabel,{htmlFor:a.name,children:"Client status *"}),(0,b.jsxs)(n.Select,{value:a.state.value,onValueChange:b=>a.handleChange(b),disabled:f,children:[(0,b.jsx)(n.SelectTrigger,{"aria-invalid":c,children:(0,b.jsx)(n.SelectValue,{placeholder:"Select status"})}),(0,b.jsxs)(n.SelectContent,{children:[(0,b.jsx)(n.SelectItem,{value:"lead",children:"Lead"}),(0,b.jsx)(n.SelectItem,{value:"prospect",children:"Prospect"}),(0,b.jsx)(n.SelectItem,{value:"active",children:"Active"}),(0,b.jsx)(n.SelectItem,{value:"inactive",children:"Inactive"}),(0,b.jsx)(n.SelectItem,{value:"archived",children:"Archived"})]})]}),c&&(0,b.jsx)(k.FieldError,{errors:a.state.meta.errors})]})}})}),(0,b.jsx)(k.FieldGroup,{className:"sm:col-span-3",children:(0,b.jsx)(s.Field,{name:"leadSource",children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(k.Field,{"data-invalid":c,children:[(0,b.jsx)(k.FieldLabel,{htmlFor:a.name,children:"Lead source"}),(0,b.jsxs)(n.Select,{value:a.state.value,onValueChange:b=>a.handleChange(b),disabled:f,children:[(0,b.jsx)(n.SelectTrigger,{"aria-invalid":c,children:(0,b.jsx)(n.SelectValue,{placeholder:"Select source"})}),(0,b.jsxs)(n.SelectContent,{children:[(0,b.jsx)(n.SelectItem,{value:"word-of-mouth",children:"Word Of Mouth"}),(0,b.jsx)(n.SelectItem,{value:"website",children:"Website"}),(0,b.jsx)(n.SelectItem,{value:"social-media",children:"Social Media"}),(0,b.jsx)(n.SelectItem,{value:"referral",children:"Referral"}),(0,b.jsx)(n.SelectItem,{value:"advertising",children:"Advertising"}),(0,b.jsx)(n.SelectItem,{value:"trade-show",children:"Trade Show"}),(0,b.jsx)(n.SelectItem,{value:"cold-outreach",children:"Cold Outreach"}),(0,b.jsx)(n.SelectItem,{value:"other",children:"Other"})]})]}),c&&(0,b.jsx)(k.FieldError,{errors:a.state.meta.errors})]})}})}),(0,b.jsx)(k.FieldGroup,{className:"sm:col-span-3",children:(0,b.jsx)(s.Field,{name:"industry",children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(k.Field,{"data-invalid":c,children:[(0,b.jsx)(k.FieldLabel,{htmlFor:a.name,children:"Industry"}),(0,b.jsx)(l.Input,{id:a.name,name:a.name,value:a.state.value,onBlur:a.handleBlur,onChange:b=>a.handleChange(b.target.value),"aria-invalid":c,placeholder:"e.g., Technology, Healthcare, Manufacturing",disabled:f}),c&&(0,b.jsx)(k.FieldError,{errors:a.state.meta.errors})]})}})}),(0,b.jsx)(k.FieldGroup,{className:"col-span-full",children:(0,b.jsx)(s.Field,{name:"companyDescription",children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(k.Field,{"data-invalid":c,children:[(0,b.jsx)(k.FieldLabel,{htmlFor:a.name,children:"Company description"}),(0,b.jsx)(m.Textarea,{id:a.name,name:a.name,value:a.state.value,onBlur:a.handleBlur,onChange:b=>a.handleChange(b.target.value),"aria-invalid":c,rows:3,placeholder:"Brief description of the company and what they do...",disabled:f}),c&&(0,b.jsx)(k.FieldError,{errors:a.state.meta.errors})]})}})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-x-8 gap-y-10 border-b border-gray-200 dark:border-white/10 pb-12 md:grid-cols-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-base/7 font-semibold text-gray-900 dark:text-white",children:"Contact Details"}),(0,b.jsx)("p",{className:"mt-1 text-sm/6 text-gray-600 dark:text-gray-400",children:"Primary contact and additional contacts for this client."}),(0,b.jsx)(s.Field,{name:"contacts",mode:"array",children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsx)(b.Fragment,{children:c&&(0,b.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:a.state.meta.errors.join(", ")})})}})]}),(0,b.jsx)("div",{className:"grid max-w-4xl grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6 md:col-span-2",children:(0,b.jsx)("div",{className:"col-span-full",children:(0,b.jsx)(s.Field,{name:"contacts",mode:"array",children:a=>{let d=a.state.value.find(a=>a.isPrimary),e=a.state.value.filter(a=>!a.isPrimary);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.default,{items:[{title:"Primary Contact (Required)",content:(0,b.jsx)("div",{className:"grid grid-cols-1 gap-x-6 gap-y-4 sm:grid-cols-6",children:d&&(0,b.jsxs)(c.default.Fragment,{children:[(0,b.jsx)(k.FieldGroup,{className:"sm:col-span-3",children:(0,b.jsx)(s.Field,{name:"contacts[0].firstName",children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(k.Field,{"data-invalid":c,children:[(0,b.jsx)(k.FieldLabel,{htmlFor:a.name,children:"First name *"}),(0,b.jsx)(l.Input,{id:a.name,name:a.name,value:a.state.value,onBlur:a.handleBlur,onChange:b=>a.handleChange(b.target.value),"aria-invalid":c,autoComplete:"given-name",disabled:f}),c&&(0,b.jsx)(k.FieldError,{errors:a.state.meta.errors})]})}})}),(0,b.jsx)(k.FieldGroup,{className:"sm:col-span-3",children:(0,b.jsx)(s.Field,{name:"contacts[0].lastName",children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(k.Field,{"data-invalid":c,children:[(0,b.jsx)(k.FieldLabel,{htmlFor:a.name,children:"Last name *"}),(0,b.jsx)(l.Input,{id:a.name,name:a.name,value:a.state.value,onBlur:a.handleBlur,onChange:b=>a.handleChange(b.target.value),"aria-invalid":c,autoComplete:"family-name",disabled:f}),c&&(0,b.jsx)(k.FieldError,{errors:a.state.meta.errors})]})}})}),(0,b.jsx)(k.FieldGroup,{className:"sm:col-span-4",children:(0,b.jsx)(s.Field,{name:"contacts[0].email",children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(k.Field,{"data-invalid":c,children:[(0,b.jsx)(k.FieldLabel,{htmlFor:a.name,children:"Email address *"}),(0,b.jsx)(l.Input,{id:a.name,name:a.name,type:"email",value:a.state.value,onBlur:a.handleBlur,onChange:b=>a.handleChange(b.target.value),"aria-invalid":c,autoComplete:"email",disabled:f}),c&&(0,b.jsx)(k.FieldError,{errors:a.state.meta.errors})]})}})}),(0,b.jsx)(k.FieldGroup,{className:"sm:col-span-3",children:(0,b.jsx)(s.Field,{name:"contacts[0].phone",children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(k.Field,{"data-invalid":c,children:[(0,b.jsx)(k.FieldLabel,{htmlFor:a.name,children:"Phone number"}),(0,b.jsx)(l.Input,{id:a.name,name:a.name,type:"tel",value:a.state.value,onBlur:a.handleBlur,onChange:b=>a.handleChange(b.target.value),"aria-invalid":c,autoComplete:"tel",disabled:f}),c&&(0,b.jsx)(k.FieldError,{errors:a.state.meta.errors})]})}})}),(0,b.jsx)(k.FieldGroup,{className:"sm:col-span-3",children:(0,b.jsx)(s.Field,{name:"contacts[0].jobTitle",children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(k.Field,{"data-invalid":c,children:[(0,b.jsx)(k.FieldLabel,{htmlFor:a.name,children:"Job title"}),(0,b.jsx)(l.Input,{id:a.name,name:a.name,value:a.state.value,onBlur:a.handleBlur,onChange:b=>a.handleChange(b.target.value),"aria-invalid":c,autoComplete:"organization-title",disabled:f}),c&&(0,b.jsx)(k.FieldError,{errors:a.state.meta.errors})]})}})})]},d.id)})},...e.map((c,d)=>{let e=d+1;return{title:`Additional Contact #${e} (Optional)`,content:(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-x-6 gap-y-4 sm:grid-cols-6",children:[(0,b.jsx)(k.FieldGroup,{className:"sm:col-span-3",children:(0,b.jsx)(s.Field,{name:`contacts[${e}].firstName`,children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(k.Field,{"data-invalid":c,children:[(0,b.jsx)(k.FieldLabel,{htmlFor:a.name,children:"First name"}),(0,b.jsx)(l.Input,{id:a.name,name:a.name,value:a.state.value,onBlur:a.handleBlur,onChange:b=>a.handleChange(b.target.value),"aria-invalid":c,placeholder:"Optional",disabled:f}),c&&(0,b.jsx)(k.FieldError,{errors:a.state.meta.errors})]})}})}),(0,b.jsx)(k.FieldGroup,{className:"sm:col-span-3",children:(0,b.jsx)(s.Field,{name:`contacts[${e}].lastName`,children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(k.Field,{"data-invalid":c,children:[(0,b.jsx)(k.FieldLabel,{htmlFor:a.name,children:"Last name"}),(0,b.jsx)(l.Input,{id:a.name,name:a.name,value:a.state.value,onBlur:a.handleBlur,onChange:b=>a.handleChange(b.target.value),"aria-invalid":c,placeholder:"Optional",disabled:f}),c&&(0,b.jsx)(k.FieldError,{errors:a.state.meta.errors})]})}})}),(0,b.jsx)(k.FieldGroup,{className:"sm:col-span-3",children:(0,b.jsx)(s.Field,{name:`contacts[${e}].role`,children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(k.Field,{"data-invalid":c,children:[(0,b.jsx)(k.FieldLabel,{htmlFor:a.name,children:"Role/Title"}),(0,b.jsx)(l.Input,{id:a.name,name:a.name,value:a.state.value,onBlur:a.handleBlur,onChange:b=>a.handleChange(b.target.value),"aria-invalid":c,placeholder:"e.g., Manager, Director",disabled:f}),c&&(0,b.jsx)(k.FieldError,{errors:a.state.meta.errors})]})}})}),(0,b.jsx)(k.FieldGroup,{className:"sm:col-span-3",children:(0,b.jsx)(s.Field,{name:`contacts[${e}].department`,children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(k.Field,{"data-invalid":c,children:[(0,b.jsx)(k.FieldLabel,{htmlFor:a.name,children:"Department"}),(0,b.jsx)(l.Input,{id:a.name,name:a.name,value:a.state.value,onBlur:a.handleBlur,onChange:b=>a.handleChange(b.target.value),"aria-invalid":c,placeholder:"e.g., Billing Contact, Operations",disabled:f}),c&&(0,b.jsx)(k.FieldError,{errors:a.state.meta.errors})]})}})}),(0,b.jsx)(k.FieldGroup,{className:"sm:col-span-3",children:(0,b.jsx)(s.Field,{name:`contacts[${e}].phone`,children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(k.Field,{"data-invalid":c,children:[(0,b.jsx)(k.FieldLabel,{htmlFor:a.name,children:"Phone number"}),(0,b.jsx)(l.Input,{id:a.name,name:a.name,type:"tel",value:a.state.value,onBlur:a.handleBlur,onChange:b=>a.handleChange(b.target.value),"aria-invalid":c,disabled:f}),c&&(0,b.jsx)(k.FieldError,{errors:a.state.meta.errors})]})}})}),(0,b.jsx)(k.FieldGroup,{className:"sm:col-span-3",children:(0,b.jsx)(s.Field,{name:`contacts[${e}].email`,children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(k.Field,{"data-invalid":c,children:[(0,b.jsx)(k.FieldLabel,{htmlFor:a.name,children:"Email address"}),(0,b.jsx)(l.Input,{id:a.name,name:a.name,type:"email",value:a.state.value,onBlur:a.handleBlur,onChange:b=>a.handleChange(b.target.value),"aria-invalid":c,disabled:f}),c&&(0,b.jsx)(k.FieldError,{errors:a.state.meta.errors})]})}})}),(0,b.jsxs)("div",{className:"col-span-full mt-4 flex justify-between",children:[(0,b.jsxs)("button",{type:"button",onClick:()=>a.pushValue(t(!1)),className:"flex items-center gap-2 text-sm font-medium text-blue-600 dark:text-indigo-400 hover:text-blue-500 dark:hover:text-indigo-300",disabled:f,children:[(0,b.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Add another contact"]}),(0,b.jsxs)("button",{type:"button",onClick:()=>a.removeValue(e),className:"flex items-center gap-2 text-sm font-medium text-red-600 dark:text-red-400 hover:text-red-500 dark:hover:text-red-300",disabled:f,children:[(0,b.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),"Remove contact"]})]})]},c.id)}})]}),0===e.length&&(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsxs)("button",{type:"button",onClick:()=>a.pushValue(t(!1)),className:"flex items-center gap-2 text-sm font-medium text-blue-600 dark:text-indigo-400 hover:text-blue-500 dark:hover:text-indigo-300",disabled:f,children:[(0,b.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Add additional contact"]})})]})}})})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-x-8 gap-y-10 border-b border-gray-200 dark:border-white/10 pb-12 md:grid-cols-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-base/7 font-semibold text-gray-900 dark:text-white",children:"Property Information"}),(0,b.jsx)("p",{className:"mt-1 text-sm/6 text-gray-600 dark:text-gray-400",children:"Details about properties or locations associated with this client."}),(0,b.jsx)(s.Field,{name:"properties",mode:"array",children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsx)(b.Fragment,{children:c&&(0,b.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:a.state.meta.errors.join(", ")})})}})]}),(0,b.jsx)("div",{className:"grid max-w-4xl grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6 md:col-span-2",children:(0,b.jsx)("div",{className:"col-span-full",children:(0,b.jsx)(s.Field,{name:"properties",mode:"array",children:a=>{let d=a.state.value.find(a=>a.isPrimary),e=a.state.value.filter(a=>!a.isPrimary);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.default,{items:[{title:"Primary Property (Required)",content:(0,b.jsx)("div",{className:"grid grid-cols-1 gap-x-6 gap-y-4 sm:grid-cols-6",children:d&&(0,b.jsxs)(c.default.Fragment,{children:[(0,b.jsx)(k.FieldGroup,{className:"col-span-full",children:(0,b.jsx)(s.Field,{name:"properties[0].streetAddress",children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(k.Field,{"data-invalid":c,children:[(0,b.jsx)(k.FieldLabel,{htmlFor:a.name,children:"Street address *"}),(0,b.jsx)(l.Input,{id:a.name,name:a.name,value:a.state.value,onBlur:a.handleBlur,onChange:b=>a.handleChange(b.target.value),"aria-invalid":c,autoComplete:"street-address",disabled:f}),c&&(0,b.jsx)(k.FieldError,{errors:a.state.meta.errors})]})}})}),(0,b.jsx)(k.FieldGroup,{className:"sm:col-span-2",children:(0,b.jsx)(s.Field,{name:"properties[0].city",children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(k.Field,{"data-invalid":c,children:[(0,b.jsx)(k.FieldLabel,{htmlFor:a.name,children:"City *"}),(0,b.jsx)(l.Input,{id:a.name,name:a.name,value:a.state.value,onBlur:a.handleBlur,onChange:b=>a.handleChange(b.target.value),"aria-invalid":c,autoComplete:"address-level2",disabled:f}),c&&(0,b.jsx)(k.FieldError,{errors:a.state.meta.errors})]})}})}),(0,b.jsx)(k.FieldGroup,{className:"sm:col-span-2",children:(0,b.jsx)(s.Field,{name:"properties[0].region",children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(k.Field,{"data-invalid":c,children:[(0,b.jsx)(k.FieldLabel,{htmlFor:a.name,children:"State / Province *"}),(0,b.jsx)(l.Input,{id:a.name,name:a.name,value:a.state.value,onBlur:a.handleBlur,onChange:b=>a.handleChange(b.target.value),"aria-invalid":c,autoComplete:"address-level1",disabled:f}),c&&(0,b.jsx)(k.FieldError,{errors:a.state.meta.errors})]})}})}),(0,b.jsx)(k.FieldGroup,{className:"sm:col-span-2",children:(0,b.jsx)(s.Field,{name:"properties[0].postalCode",children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(k.Field,{"data-invalid":c,children:[(0,b.jsx)(k.FieldLabel,{htmlFor:a.name,children:"ZIP / Postal code *"}),(0,b.jsx)(l.Input,{id:a.name,name:a.name,value:a.state.value,onBlur:a.handleBlur,onChange:b=>a.handleChange(b.target.value),"aria-invalid":c,autoComplete:"postal-code",disabled:f}),c&&(0,b.jsx)(k.FieldError,{errors:a.state.meta.errors})]})}})})]},d.id)})},...e.map((c,d)=>{let e=d+1;return{title:`Additional Property #${e} (Optional)`,content:(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-x-6 gap-y-4 sm:grid-cols-6",children:[(0,b.jsx)(k.FieldGroup,{className:"col-span-full",children:(0,b.jsx)(s.Field,{name:`properties[${e}].streetAddress`,children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(k.Field,{"data-invalid":c,children:[(0,b.jsx)(k.FieldLabel,{htmlFor:a.name,children:"Street address"}),(0,b.jsx)(l.Input,{id:a.name,name:a.name,value:a.state.value,onBlur:a.handleBlur,onChange:b=>a.handleChange(b.target.value),"aria-invalid":c,placeholder:"Optional",disabled:f}),c&&(0,b.jsx)(k.FieldError,{errors:a.state.meta.errors})]})}})}),(0,b.jsx)(k.FieldGroup,{className:"sm:col-span-2",children:(0,b.jsx)(s.Field,{name:`properties[${e}].city`,children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(k.Field,{"data-invalid":c,children:[(0,b.jsx)(k.FieldLabel,{htmlFor:a.name,children:"City"}),(0,b.jsx)(l.Input,{id:a.name,name:a.name,value:a.state.value,onBlur:a.handleBlur,onChange:b=>a.handleChange(b.target.value),"aria-invalid":c,placeholder:"Optional",disabled:f}),c&&(0,b.jsx)(k.FieldError,{errors:a.state.meta.errors})]})}})}),(0,b.jsx)(k.FieldGroup,{className:"sm:col-span-2",children:(0,b.jsx)(s.Field,{name:`properties[${e}].region`,children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(k.Field,{"data-invalid":c,children:[(0,b.jsx)(k.FieldLabel,{htmlFor:a.name,children:"State / Province"}),(0,b.jsx)(l.Input,{id:a.name,name:a.name,value:a.state.value,onBlur:a.handleBlur,onChange:b=>a.handleChange(b.target.value),"aria-invalid":c,placeholder:"Optional",disabled:f}),c&&(0,b.jsx)(k.FieldError,{errors:a.state.meta.errors})]})}})}),(0,b.jsx)(k.FieldGroup,{className:"sm:col-span-2",children:(0,b.jsx)(s.Field,{name:`properties[${e}].postalCode`,children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(k.Field,{"data-invalid":c,children:[(0,b.jsx)(k.FieldLabel,{htmlFor:a.name,children:"ZIP / Postal code"}),(0,b.jsx)(l.Input,{id:a.name,name:a.name,value:a.state.value,onBlur:a.handleBlur,onChange:b=>a.handleChange(b.target.value),"aria-invalid":c,placeholder:"Optional",disabled:f}),c&&(0,b.jsx)(k.FieldError,{errors:a.state.meta.errors})]})}})}),(0,b.jsxs)("div",{className:"col-span-full mt-4 flex justify-between",children:[(0,b.jsxs)("button",{type:"button",onClick:()=>a.pushValue(u(!1)),className:"flex items-center gap-2 text-sm font-medium text-blue-600 dark:text-indigo-400 hover:text-blue-500 dark:hover:text-indigo-300",disabled:f,children:[(0,b.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Add another property"]}),(0,b.jsxs)("button",{type:"button",onClick:()=>a.removeValue(e),className:"flex items-center gap-2 text-sm font-medium text-red-600 dark:text-red-400 hover:text-red-500 dark:hover:text-red-300",disabled:f,children:[(0,b.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),"Remove property"]})]})]},c.id)}})]}),0===e.length&&(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsxs)("button",{type:"button",onClick:()=>a.pushValue(u(!1)),className:"flex items-center gap-2 text-sm font-medium text-blue-600 dark:text-indigo-400 hover:text-blue-500 dark:hover:text-indigo-300",disabled:f,children:[(0,b.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Add additional property"]})})]})}})})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-x-8 gap-y-10 md:grid-cols-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-base/7 font-semibold text-gray-900 dark:text-white",children:"Service Requirements"}),(0,b.jsx)("p",{className:"mt-1 text-sm/6 text-gray-600 dark:text-gray-400",children:"Select the services you're interested in and communication preferences."})]}),(0,b.jsxs)("div",{className:"max-w-4xl space-y-10 md:col-span-2",children:[(0,b.jsxs)(k.FieldSet,{children:[(0,b.jsx)(k.FieldLegend,{variant:"label",children:"Services needed"}),(0,b.jsx)(s.Field,{name:"servicesNeeded",mode:"array",children:a=>(0,b.jsx)(k.FieldGroup,{className:"gap-6",children:[{value:"property-management",label:"Property Management",description:"Comprehensive property management services including maintenance and tenant relations."},{value:"maintenance",label:"Maintenance Services",description:"Regular maintenance, repairs, and emergency response services."},{value:"consulting",label:"Consulting Services",description:"Strategic consulting for property optimization and investment planning."}].map(c=>{let d=a.state.value.includes(c.value);return(0,b.jsxs)(k.Field,{orientation:"horizontal",children:[(0,b.jsx)(o.Checkbox,{id:c.value,checked:d,onCheckedChange:b=>{if(b)a.pushValue(c.value);else{let b=a.state.value.indexOf(c.value);b>-1&&a.removeValue(b)}},disabled:f}),(0,b.jsx)(k.FieldLabel,{htmlFor:c.value,children:(0,b.jsxs)("div",{className:"text-sm/6",children:[(0,b.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:c.label}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:c.description})]})})]},c.value)})})})]}),(0,b.jsxs)(k.FieldSet,{children:[(0,b.jsx)(k.FieldLegend,{variant:"label",children:"Communication preferences"}),(0,b.jsx)(k.FieldDescription,{children:"How would you like to receive updates and notifications?"}),(0,b.jsx)(s.Field,{name:"communicationPreference",children:a=>(0,b.jsx)(k.Field,{children:(0,b.jsxs)(p.RadioGroup,{value:a.state.value,onValueChange:b=>a.handleChange(b),disabled:f,children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(p.RadioGroupItem,{value:"email",id:"comm-email"}),(0,b.jsx)(q.Label,{htmlFor:"comm-email",children:"Email only"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(p.RadioGroupItem,{value:"phone",id:"comm-phone"}),(0,b.jsx)(q.Label,{htmlFor:"comm-phone",children:"Phone calls for urgent matters"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(p.RadioGroupItem,{value:"both",id:"comm-both"}),(0,b.jsx)(q.Label,{htmlFor:"comm-both",children:"Both email and phone"})]})]})})})]})]})]})]})})]})})};w.displayName="ClientOnboardingForm";var x=a.i(360031);function y(){let[a,g]=(0,c.useState)(!1),[h,i]=(0,c.useState)([]),j=(0,d.useRouter)(),k=(0,e.useMutation)(f.api.clients.create),l=(0,e.useMutation)(f.api.clientContacts.create),m=(0,e.useMutation)(f.api.clientProperties.create),n=()=>{j.push("/clients")},o=async a=>{g(!0),i([]);try{let b={companyName:a.companyName.trim(),industry:a.industry.trim()||void 0,companyDescription:a.companyDescription.trim()||void 0,status:a.status,leadSource:a.leadSource||void 0,category:a.category||void 0,clientSize:a.clientSize||void 0,clientType:a.clientType||void 0,isActive:"yes"===a.isActive||"no"!==a.isActive&&void 0,priorityLevel:a.priorityLevel||void 0,projectDimensions:a.projectDimensions.trim()||void 0,communicationPreference:a.communicationPreference||void 0,emailOptIn:a.emailOptIn,smsOptIn:a.smsOptIn,servicesNeeded:a.servicesNeeded.length>0?a.servicesNeeded:void 0,tags:a.tags.trim()?a.tags.split(",").map(a=>a.trim()).filter(Boolean):void 0,notes:a.notes?.trim()?a.notes.trim():void 0},c=await k(b);for(let b of a.contacts)b.firstName.trim()&&b.lastName.trim()&&await l({clientId:c,firstName:b.firstName.trim(),lastName:b.lastName.trim(),email:b.email.trim()||void 0,phone:b.phone.trim()||void 0,jobTitle:b.jobTitle.trim()||void 0,role:b.role.trim()||void 0,department:b.department.trim()||void 0,isPrimary:b.isPrimary});for(let b of a.properties)b.streetAddress.trim()&&await m({clientId:c,propertyName:b.propertyName.trim()||void 0,propertyType:b.propertyType||void 0,squareFootage:b.squareFootage.trim()?parseInt(b.squareFootage):void 0,streetAddress:b.streetAddress.trim(),city:b.city.trim(),state:b.region.trim(),zipCode:b.postalCode.trim(),country:"United States",description:b.propertyDescription.trim()||void 0,isPrimary:b.isPrimary});j.push("/clients")}catch(a){console.error("Failed to create client:",a),i(["Failed to create client. Please try again."])}finally{g(!1)}};return(0,b.jsxs)("div",{className:"min-h-screen pb-24",children:[h.length>0&&(0,b.jsx)("div",{className:"mx-6 mt-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md",children:(0,b.jsx)("div",{className:"text-red-800 dark:text-red-200",children:h.map((a,c)=>(0,b.jsx)("p",{className:"text-sm",children:a},c))})}),(0,b.jsx)(w,{title:"New Client Onboarding",subtitle:"Let's gather comprehensive information to establish a complete client profile with all necessary details for effective relationship management.",onSubmit:o,onCancel:n,isLoading:a}),(0,b.jsx)(x.StickyFormFooter,{onCancel:n,onSave:()=>{let a=document.getElementById("client-onboarding-form");a&&a.requestSubmit()},cancelText:"Cancel",saveText:"Create Client",isLoading:a})]})}a.s(["default",()=>y],431361)}];

//# sourceMappingURL=apps_web_src_app_%28workspace%29_clients_new_page_tsx_cbc1b9c6._.js.map