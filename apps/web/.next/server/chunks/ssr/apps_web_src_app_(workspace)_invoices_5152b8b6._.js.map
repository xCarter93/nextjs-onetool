{"version":3,"sources":["../../../../../../apps/web/src/app/%28workspace%29/invoices/components/InvoicePDF.tsx","../../../../../../apps/web/src/app/%28workspace%29/invoices/%5BinvoiceId%5D/page.tsx"],"sourcesContent":["import React from \"react\";\nimport {\n\tDocument,\n\tPage,\n\tText,\n\tView,\n\tStyleSheet,\n\tImage,\n} from \"@react-pdf/renderer\";\nimport type { Id } from \"@onetool/backend/convex/_generated/dataModel\";\n\ntype InvoiceLineItem = {\n\t_id: Id<\"invoiceLineItems\">;\n\tdescription: string;\n\tquantity: number;\n\tunitPrice: number;\n\ttotal: number;\n};\n\ntype Invoice = {\n\t_id: Id<\"invoices\">;\n\tinvoiceNumber: string;\n\tissuedDate: number;\n\tdueDate: number;\n\tstatus: string;\n\tsubtotal: number;\n\tdiscountAmount?: number;\n\ttaxAmount?: number;\n\ttotal: number;\n\tpaidAt?: number;\n};\n\ntype Client = {\n\tcompanyName: string;\n\tindustry?: string;\n};\n\ntype Organization = {\n\tname: string;\n\tlogoUrl?: string;\n\taddress?: string;\n\tphone?: string;\n\temail?: string;\n};\n\nexport interface InvoicePDFProps {\n\tinvoice: Invoice;\n\tclient?: Client | null;\n\titems: InvoiceLineItem[];\n\torganization?: Organization | null;\n}\n\nconst styles = StyleSheet.create({\n\tpage: {\n\t\tflexDirection: \"column\",\n\t\tbackgroundColor: \"#FFFFFF\",\n\t\tpadding: 28,\n\t\tfontSize: 11,\n\t\tfontFamily: \"Helvetica\",\n\t},\n\tlogoSection: {\n\t\tmarginBottom: 16,\n\t\talignItems: \"flex-start\",\n\t},\n\tlogoContainer: {\n\t\twidth: 160,\n\t\theight: 60,\n\t},\n\tlogo: {\n\t\twidth: \"100%\",\n\t\theight: \"100%\",\n\t\tobjectFit: \"contain\",\n\t\tobjectPosition: \"left center\",\n\t},\n\theader: {\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"space-between\",\n\t\tmarginBottom: 24,\n\t\tpaddingBottom: 12,\n\t\tborderBottomWidth: 2,\n\t\tborderBottomColor: \"#000000\",\n\t},\n\theaderLeft: {\n\t\tflexDirection: \"column\",\n\t\tmaxWidth: 280,\n\t},\n\theaderRight: {\n\t\tflexDirection: \"column\",\n\t\talignItems: \"flex-end\",\n\t\tjustifyContent: \"flex-start\",\n\t},\n\ttitle: {\n\t\tfontSize: 32,\n\t\tfontWeight: \"bold\",\n\t\tcolor: \"#000000\",\n\t\tmarginBottom: 8,\n\t\tletterSpacing: 1,\n\t},\n\tsubtitle: {\n\t\tfontSize: 10,\n\t\tcolor: \"#374151\",\n\t\tmarginBottom: 2,\n\t\tlineHeight: 1.5,\n\t},\n\tinvoiceNumber: {\n\t\tfontSize: 20,\n\t\tfontWeight: \"bold\",\n\t\tcolor: \"#000000\",\n\t\tmarginBottom: 8,\n\t},\n\tinvoiceMeta: {\n\t\tbackgroundColor: \"#F9FAFB\",\n\t\tborderWidth: 1,\n\t\tborderColor: \"#E5E7EB\",\n\t\tborderRadius: 4,\n\t\tpadding: 10,\n\t\tminWidth: 200,\n\t},\n\tmetaRow: {\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"space-between\",\n\t\tmarginBottom: 4,\n\t},\n\tmetaLabel: {\n\t\tfontSize: 10,\n\t\tcolor: \"#6B7280\",\n\t\tfontWeight: \"bold\",\n\t},\n\tmetaValue: {\n\t\tfontSize: 10,\n\t\tcolor: \"#1F2937\",\n\t\tmarginLeft: 16,\n\t},\n\tstatusBadge: {\n\t\tbackgroundColor: \"#10B981\",\n\t\tpaddingVertical: 4,\n\t\tpaddingHorizontal: 8,\n\t\tborderRadius: 4,\n\t\tmarginTop: 6,\n\t},\n\tstatusText: {\n\t\tfontSize: 9,\n\t\tcolor: \"#FFFFFF\",\n\t\tfontWeight: \"bold\",\n\t\ttextTransform: \"uppercase\",\n\t},\n\tbillToSection: {\n\t\tmarginTop: 8,\n\t\tmarginBottom: 16,\n\t\tpadding: 12,\n\t\tbackgroundColor: \"#F9FAFB\",\n\t\tborderRadius: 4,\n\t},\n\tsectionTitle: {\n\t\tfontSize: 11,\n\t\tfontWeight: \"bold\",\n\t\tcolor: \"#1F2937\",\n\t\tmarginBottom: 8,\n\t\ttextTransform: \"uppercase\",\n\t\tletterSpacing: 0.5,\n\t},\n\tbillToContent: {\n\t\tfontSize: 11,\n\t\tcolor: \"#374151\",\n\t\tlineHeight: 1.6,\n\t},\n\titemsTable: {\n\t\tmarginTop: 12,\n\t\tmarginBottom: 16,\n\t\tborderWidth: 1,\n\t\tborderColor: \"#E5E7EB\",\n\t\tborderRadius: 4,\n\t},\n\ttableHeader: {\n\t\tflexDirection: \"row\",\n\t\tbackgroundColor: \"#1F2937\",\n\t\tpaddingVertical: 10,\n\t\tpaddingHorizontal: 12,\n\t},\n\ttableRow: {\n\t\tflexDirection: \"row\",\n\t\tborderBottomWidth: 1,\n\t\tborderBottomColor: \"#E5E7EB\",\n\t\tpaddingVertical: 10,\n\t\tpaddingHorizontal: 12,\n\t\tbackgroundColor: \"#FFFFFF\",\n\t},\n\ttableCell: {\n\t\tfontSize: 10,\n\t\tcolor: \"#374151\",\n\t\tlineHeight: 1.4,\n\t},\n\ttableCellDescription: { flex: 3 },\n\ttableCellQuantity: { flex: 1, textAlign: \"center\" },\n\ttableCellPrice: { flex: 1.5, textAlign: \"right\" },\n\ttableCellTotal: {\n\t\tflex: 1.5,\n\t\ttextAlign: \"right\",\n\t\tfontWeight: \"bold\",\n\t\tcolor: \"#1F2937\",\n\t},\n\ttableHeaderCell: {\n\t\tfontSize: 10,\n\t\tfontWeight: \"bold\",\n\t\tcolor: \"#FFFFFF\",\n\t\ttextTransform: \"uppercase\",\n\t\tletterSpacing: 0.8,\n\t},\n\ttotalsSection: {\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"flex-end\",\n\t\tmarginTop: 12,\n\t\tmarginBottom: 16,\n\t},\n\ttotalsContainer: {\n\t\twidth: 260,\n\t\tborderWidth: 1,\n\t\tborderColor: \"#E5E7EB\",\n\t\tborderRadius: 4,\n\t\tpadding: 12,\n\t\tbackgroundColor: \"#F9FAFB\",\n\t},\n\ttotalRow: {\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"space-between\",\n\t\tpaddingVertical: 4,\n\t},\n\ttotalLabel: {\n\t\tfontSize: 11,\n\t\tcolor: \"#6B7280\",\n\t},\n\ttotalValue: {\n\t\tfontSize: 11,\n\t\tcolor: \"#374151\",\n\t\tfontWeight: \"bold\",\n\t},\n\tgrandTotalRow: {\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"space-between\",\n\t\tpaddingVertical: 8,\n\t\tpaddingTop: 10,\n\t\tborderTopWidth: 2,\n\t\tborderTopColor: \"#1F2937\",\n\t\tmarginTop: 6,\n\t},\n\tgrandTotalLabel: {\n\t\tfontSize: 14,\n\t\tfontWeight: \"bold\",\n\t\tcolor: \"#000000\",\n\t},\n\tgrandTotalValue: {\n\t\tfontSize: 16,\n\t\tfontWeight: \"bold\",\n\t\tcolor: \"#000000\",\n\t},\n\tamountDueSection: {\n\t\tmarginTop: 12,\n\t\tpadding: 12,\n\t\tbackgroundColor: \"#FEF3C7\",\n\t\tborderRadius: 4,\n\t\tborderLeftWidth: 4,\n\t\tborderLeftColor: \"#F59E0B\",\n\t},\n\tamountDueText: {\n\t\tfontSize: 12,\n\t\tfontWeight: \"bold\",\n\t\tcolor: \"#92400E\",\n\t\tmarginBottom: 4,\n\t},\n\tamountDueValue: {\n\t\tfontSize: 18,\n\t\tfontWeight: \"bold\",\n\t\tcolor: \"#92400E\",\n\t},\n\tpaymentNotice: {\n\t\tmarginTop: 12,\n\t\tpadding: 12,\n\t\tbackgroundColor: \"#D1FAE5\",\n\t\tborderRadius: 4,\n\t\tborderLeftWidth: 4,\n\t\tborderLeftColor: \"#10B981\",\n\t},\n\tpaymentNoticeText: {\n\t\tfontSize: 11,\n\t\tcolor: \"#065F46\",\n\t\tfontWeight: \"bold\",\n\t},\n\tfooter: {\n\t\tmarginTop: 24,\n\t\tpaddingTop: 12,\n\t\tborderTopWidth: 1,\n\t\tborderTopColor: \"#E5E7EB\",\n\t},\n\tfooterText: {\n\t\tfontSize: 9,\n\t\tcolor: \"#6B7280\",\n\t\ttextAlign: \"center\",\n\t\tlineHeight: 1.4,\n\t},\n});\n\nconst formatCurrency = (amount: number) =>\n\tnew Intl.NumberFormat(\"en-US\", { style: \"currency\", currency: \"USD\" }).format(\n\t\tamount\n\t);\n\nconst formatDate = (timestamp: number) =>\n\tnew Date(timestamp).toLocaleDateString(\"en-US\", {\n\t\tyear: \"numeric\",\n\t\tmonth: \"long\",\n\t\tday: \"numeric\",\n\t});\n\nexport const InvoicePDF: React.FC<InvoicePDFProps> = ({\n\tinvoice,\n\tclient,\n\titems,\n\torganization,\n}) => {\n\tconst isPaid = invoice.status === \"paid\";\n\tconst isOverdue =\n\t\t!isPaid && invoice.status === \"sent\" && invoice.dueDate < Date.now();\n\n\treturn (\n\t\t<Document>\n\t\t\t<Page size=\"A4\" style={styles.page}>\n\t\t\t\t{/* Logo Section */}\n\t\t\t\t{organization?.logoUrl ? (\n\t\t\t\t\t<View style={styles.logoSection}>\n\t\t\t\t\t\t<View style={styles.logoContainer}>\n\t\t\t\t\t\t\t{/* eslint-disable-next-line jsx-a11y/alt-text */}\n\t\t\t\t\t\t\t<Image style={styles.logo} src={organization.logoUrl} />\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</View>\n\t\t\t\t) : null}\n\n\t\t\t\t{/* Header */}\n\t\t\t\t<View style={styles.header}>\n\t\t\t\t\t<View style={styles.headerLeft}>\n\t\t\t\t\t\t<Text style={styles.title}>INVOICE</Text>\n\t\t\t\t\t\t{organization?.name ? (\n\t\t\t\t\t\t\t<Text style={styles.subtitle}>{organization.name}</Text>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{organization?.address ? (\n\t\t\t\t\t\t\t<Text style={styles.subtitle}>{organization.address}</Text>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{organization?.phone ? (\n\t\t\t\t\t\t\t<Text style={styles.subtitle}>Phone: {organization.phone}</Text>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{organization?.email ? (\n\t\t\t\t\t\t\t<Text style={styles.subtitle}>Email: {organization.email}</Text>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</View>\n\t\t\t\t\t<View style={styles.headerRight}>\n\t\t\t\t\t\t<Text style={styles.invoiceNumber}>{invoice.invoiceNumber}</Text>\n\t\t\t\t\t\t<View style={styles.invoiceMeta}>\n\t\t\t\t\t\t\t<View style={styles.metaRow}>\n\t\t\t\t\t\t\t\t<Text style={styles.metaLabel}>Issued:</Text>\n\t\t\t\t\t\t\t\t<Text style={styles.metaValue}>\n\t\t\t\t\t\t\t\t\t{formatDate(invoice.issuedDate)}\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t<View style={styles.metaRow}>\n\t\t\t\t\t\t\t\t<Text style={styles.metaLabel}>Due Date:</Text>\n\t\t\t\t\t\t\t\t<Text style={styles.metaValue}>\n\t\t\t\t\t\t\t\t\t{formatDate(invoice.dueDate)}\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t{isPaid && invoice.paidAt && (\n\t\t\t\t\t\t\t\t<View style={styles.metaRow}>\n\t\t\t\t\t\t\t\t\t<Text style={styles.metaLabel}>Paid:</Text>\n\t\t\t\t\t\t\t\t\t<Text style={styles.metaValue}>\n\t\t\t\t\t\t\t\t\t\t{formatDate(invoice.paidAt)}\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</View>\n\t\t\t\t\t\t{isPaid && (\n\t\t\t\t\t\t\t<View style={styles.statusBadge}>\n\t\t\t\t\t\t\t\t<Text style={styles.statusText}>PAID</Text>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n\n\t\t\t\t{/* Bill To Section */}\n\t\t\t\t<View style={styles.billToSection} wrap={false}>\n\t\t\t\t\t<Text style={styles.sectionTitle}>Bill To:</Text>\n\t\t\t\t\t<View style={styles.billToContent}>\n\t\t\t\t\t\t{client ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Text>{client.companyName}</Text>\n\t\t\t\t\t\t\t\t{client.industry ? <Text>{client.industry}</Text> : null}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Text>Client details unavailable</Text>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n\n\t\t\t\t{/* Items Table */}\n\t\t\t\t<View style={styles.itemsTable} wrap={false}>\n\t\t\t\t\t<View style={styles.tableHeader}>\n\t\t\t\t\t\t<Text style={[styles.tableHeaderCell, styles.tableCellDescription]}>\n\t\t\t\t\t\t\tDescription\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<Text style={[styles.tableHeaderCell, styles.tableCellQuantity]}>\n\t\t\t\t\t\t\tQty\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<Text style={[styles.tableHeaderCell, styles.tableCellPrice]}>\n\t\t\t\t\t\t\tUnit Price\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<Text style={[styles.tableHeaderCell, styles.tableCellTotal]}>\n\t\t\t\t\t\t\tTotal\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</View>\n\t\t\t\t\t{items.map((item) => (\n\t\t\t\t\t\t<View key={String(item._id)} style={styles.tableRow}>\n\t\t\t\t\t\t\t<Text style={[styles.tableCell, styles.tableCellDescription]}>\n\t\t\t\t\t\t\t\t{item.description}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text style={[styles.tableCell, styles.tableCellQuantity]}>\n\t\t\t\t\t\t\t\t{item.quantity}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text style={[styles.tableCell, styles.tableCellPrice]}>\n\t\t\t\t\t\t\t\t{formatCurrency(item.unitPrice)}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text style={[styles.tableCell, styles.tableCellTotal]}>\n\t\t\t\t\t\t\t\t{formatCurrency(item.total)}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t))}\n\t\t\t\t</View>\n\n\t\t\t\t{/* Totals */}\n\t\t\t\t<View style={styles.totalsSection} wrap={false}>\n\t\t\t\t\t<View style={styles.totalsContainer}>\n\t\t\t\t\t\t<View style={styles.totalRow}>\n\t\t\t\t\t\t\t<Text style={styles.totalLabel}>Subtotal:</Text>\n\t\t\t\t\t\t\t<Text style={styles.totalValue}>\n\t\t\t\t\t\t\t\t{formatCurrency(invoice.subtotal)}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t\t{invoice.discountAmount ? (\n\t\t\t\t\t\t\t<View style={styles.totalRow}>\n\t\t\t\t\t\t\t\t<Text style={styles.totalLabel}>Discount:</Text>\n\t\t\t\t\t\t\t\t<Text style={styles.totalValue}>\n\t\t\t\t\t\t\t\t\t- {formatCurrency(invoice.discountAmount)}\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{invoice.taxAmount ? (\n\t\t\t\t\t\t\t<View style={styles.totalRow}>\n\t\t\t\t\t\t\t\t<Text style={styles.totalLabel}>Tax:</Text>\n\t\t\t\t\t\t\t\t<Text style={styles.totalValue}>\n\t\t\t\t\t\t\t\t\t{formatCurrency(invoice.taxAmount)}\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t<View style={styles.grandTotalRow}>\n\t\t\t\t\t\t\t<Text style={styles.grandTotalLabel}>Total:</Text>\n\t\t\t\t\t\t\t<Text style={styles.grandTotalValue}>\n\t\t\t\t\t\t\t\t{formatCurrency(invoice.total)}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n\n\t\t\t\t{/* Amount Due Notice (if not paid) */}\n\t\t\t\t{!isPaid && (\n\t\t\t\t\t<View style={styles.amountDueSection} wrap={false}>\n\t\t\t\t\t\t<Text style={styles.amountDueText}>\n\t\t\t\t\t\t\t{isOverdue ? \"AMOUNT OVERDUE\" : \"AMOUNT DUE\"}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<Text style={styles.amountDueValue}>\n\t\t\t\t\t\t\t{formatCurrency(invoice.total)}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<Text style={{ fontSize: 10, color: \"#92400E\", marginTop: 4 }}>\n\t\t\t\t\t\t\tPayment due by {formatDate(invoice.dueDate)}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</View>\n\t\t\t\t)}\n\n\t\t\t\t{/* Payment Confirmation (if paid) */}\n\t\t\t\t{isPaid && (\n\t\t\t\t\t<View style={styles.paymentNotice} wrap={false}>\n\t\t\t\t\t\t<Text style={styles.paymentNoticeText}>\n\t\t\t\t\t\t\tâœ“ Payment received on{\" \"}\n\t\t\t\t\t\t\t{invoice.paidAt && formatDate(invoice.paidAt)}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<Text style={{ fontSize: 10, color: \"#065F46\", marginTop: 4 }}>\n\t\t\t\t\t\t\tThank you for your business!\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</View>\n\t\t\t\t)}\n\n\t\t\t\t{/* Footer */}\n\t\t\t\t<View style={styles.footer}>\n\t\t\t\t\t<Text style={styles.footerText}>\n\t\t\t\t\t\tThis invoice was generated electronically and is valid without a\n\t\t\t\t\t\tsignature.\n\t\t\t\t\t</Text>\n\t\t\t\t\t{organization?.name && (\n\t\t\t\t\t\t<Text style={styles.footerText}>\n\t\t\t\t\t\t\t{organization.name} â€¢ Invoice {invoice.invoiceNumber}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t)}\n\t\t\t\t</View>\n\t\t\t</Page>\n\t\t</Document>\n\t);\n};\n\nexport default InvoicePDF;\n","\"use client\";\n\nimport { useParams, useRouter } from \"next/navigation\";\nimport { useMemo } from \"react\";\nimport { useQuery, useMutation } from \"convex/react\";\nimport { api } from \"@onetool/backend/convex/_generated/api\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { StatusProgressBar } from \"@/components/shared/status-progress-bar\";\nimport {\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableHead,\n\tTableHeader,\n\tTableRow,\n} from \"@/components/ui/table\";\nimport { Button } from \"@/components/ui/button\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport {\n\tFileText,\n\tDownload,\n\tEye,\n\tDollarSign,\n\tBuilding2,\n\tEdit,\n\tFolderOpen,\n\tMail,\n\tCheckCircle,\n\tXCircle,\n} from \"lucide-react\";\nimport { StickyFormFooter } from \"@/components/shared/sticky-form-footer\";\nimport { pdf } from \"@react-pdf/renderer\";\nimport InvoicePDF from \"@/app/(workspace)/invoices/components/InvoicePDF\";\nimport type { Id } from \"@onetool/backend/convex/_generated/dataModel\";\nimport type { Id as StorageId } from \"@onetool/backend/convex/_generated/dataModel\";\nimport { StyledButton } from \"@/components/ui/styled/styled-button\";\n\ntype InvoiceStatus = \"draft\" | \"sent\" | \"paid\" | \"overdue\" | \"cancelled\";\n\nconst formatCurrency = (amount: number) => {\n\treturn new Intl.NumberFormat(\"en-US\", {\n\t\tstyle: \"currency\",\n\t\tcurrency: \"USD\",\n\t\tminimumFractionDigits: 0,\n\t\tmaximumFractionDigits: 0,\n\t}).format(amount);\n};\n\nconst getInvoiceStatus = (\n\tstatus: InvoiceStatus,\n\tdueDate?: number\n): InvoiceStatus => {\n\tif (status === \"sent\" && dueDate && dueDate < Date.now()) return \"overdue\";\n\treturn status;\n};\n\nconst statusVariant = (status: InvoiceStatus) => {\n\tswitch (status) {\n\t\tcase \"paid\":\n\t\t\treturn \"default\" as const;\n\t\tcase \"sent\":\n\t\t\treturn \"secondary\" as const;\n\t\tcase \"overdue\":\n\t\tcase \"cancelled\":\n\t\t\treturn \"destructive\" as const;\n\t\tcase \"draft\":\n\t\tdefault:\n\t\t\treturn \"outline\" as const;\n\t}\n};\n\nconst formatStatus = (status: InvoiceStatus) => {\n\tswitch (status) {\n\t\tcase \"draft\":\n\t\t\treturn \"Draft\";\n\t\tcase \"sent\":\n\t\t\treturn \"Sent\";\n\t\tcase \"paid\":\n\t\t\treturn \"Paid\";\n\t\tcase \"overdue\":\n\t\t\treturn \"Overdue\";\n\t\tcase \"cancelled\":\n\t\t\treturn \"Cancelled\";\n\t\tdefault:\n\t\t\treturn status;\n\t}\n};\n\nexport default function InvoiceDetailPage() {\n\tconst router = useRouter();\n\tconst params = useParams();\n\tconst toast = useToast();\n\tconst invoiceId = params.invoiceId as Id<\"invoices\">;\n\n\t// Fetch invoice data from Convex\n\tconst invoice = useQuery(api.invoices.get, { id: invoiceId });\n\tconst client = useQuery(\n\t\tapi.clients.get,\n\t\tinvoice?.clientId ? { id: invoice.clientId } : \"skip\"\n\t);\n\tconst project = useQuery(\n\t\tapi.projects.get,\n\t\tinvoice?.projectId ? { id: invoice.projectId } : \"skip\"\n\t);\n\tconst lineItems = useQuery(api.invoiceLineItems.listByInvoice, {\n\t\tinvoiceId,\n\t});\n\tconst organization = useQuery(api.organizations.get, {});\n\tconst latestDocument = useQuery(\n\t\tapi.documents.getLatest,\n\t\tinvoice ? { documentType: \"invoice\", documentId: invoice._id } : \"skip\"\n\t);\n\tconst primaryContact = useQuery(\n\t\tapi.clientContacts.getPrimaryContact,\n\t\tinvoice?.clientId ? { clientId: invoice.clientId } : \"skip\"\n\t);\n\tconst primaryProperty = useQuery(\n\t\tapi.clientProperties.getPrimaryProperty,\n\t\tinvoice?.clientId ? { clientId: invoice.clientId } : \"skip\"\n\t);\n\n\t// Mutations\n\tconst updateInvoice = useMutation(api.invoices.update);\n\tconst generateUploadUrl = useMutation(api.documents.generateUploadUrl);\n\tconst createDocument = useMutation(api.documents.create);\n\n\tconst selectedDocumentUrl = useQuery(\n\t\tapi.documents.getDocumentUrl,\n\t\tlatestDocument ? { id: latestDocument._id } : \"skip\"\n\t);\n\n\tconst payUrl = useMemo(() => {\n\t\tif (!invoice?.publicToken) return \"\";\n\t\tconst origin =\n\t\t\ttypeof window !== \"undefined\"\n\t\t\t\t? window.location.origin\n\t\t\t\t: process.env.NEXT_PUBLIC_APP_URL ?? \"\";\n\t\treturn origin ? `${origin}/pay/${invoice.publicToken}` : \"\";\n\t}, [invoice?.publicToken]);\n\n\tconst handleStatusChange = async (status: InvoiceStatus) => {\n\t\ttry {\n\t\t\tawait updateInvoice({ id: invoiceId, status });\n\t\t\ttoast.success(\n\t\t\t\t\"Invoice Updated\",\n\t\t\t\t`Status changed to ${formatStatus(status)}`\n\t\t\t);\n\t\t} catch (err) {\n\t\t\tconst message =\n\t\t\t\terr instanceof Error ? err.message : \"Failed to update status\";\n\t\t\ttoast.error(\"Error\", message);\n\t\t}\n\t};\n\n\tconst handleMarkPaid = async () => {\n\t\ttry {\n\t\t\tawait updateInvoice({ id: invoiceId, status: \"paid\" });\n\t\t\ttoast.success(\"Invoice Paid\", \"Invoice marked as paid successfully\");\n\t\t} catch (err) {\n\t\t\tconst message =\n\t\t\t\terr instanceof Error ? err.message : \"Failed to mark as paid\";\n\t\t\ttoast.error(\"Error\", message);\n\t\t}\n\t};\n\n\tconst getStatusActions = () => {\n\t\tif (!invoice) return null;\n\t\tconst currentStatus = getInvoiceStatus(\n\t\t\tinvoice.status as InvoiceStatus,\n\t\t\tinvoice.dueDate\n\t\t);\n\n\t\tswitch (currentStatus) {\n\t\t\tcase \"draft\":\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t<Button size=\"sm\" onClick={() => handleStatusChange(\"sent\")}>\n\t\t\t\t\t\t\t<Mail className=\"h-4 w-4 mr-1\" /> Send Invoice\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tclassName=\"bg-green-600 hover:bg-green-700\"\n\t\t\t\t\t\t\tonClick={handleMarkPaid}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<CheckCircle className=\"h-4 w-4 mr-1\" /> Mark as Paid\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase \"sent\":\n\t\t\tcase \"overdue\":\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tclassName=\"bg-green-600 hover:bg-green-700\"\n\t\t\t\t\t\t\tonClick={handleMarkPaid}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<CheckCircle className=\"h-4 w-4 mr-1\" /> Mark as Paid\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\tonClick={() => handleStatusChange(\"draft\")}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tRevert to Draft\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase \"paid\":\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\tonClick={() => handleStatusChange(\"sent\")}\n\t\t\t\t\t>\n\t\t\t\t\t\tReopen\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t\tcase \"cancelled\":\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\tonClick={() => handleStatusChange(\"draft\")}\n\t\t\t\t\t>\n\t\t\t\t\t\tReopen (Draft)\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t};\n\n\t// Loading state\n\tif (invoice === undefined) {\n\t\treturn (\n\t\t\t<div className=\"min-h-screen flex-1 md:min-h-min\">\n\t\t\t\t<div className=\"relative bg-linear-to-br from-background via-muted/30 to-muted/60 dark:from-background dark:via-muted/20 dark:to-muted/40 min-h-screen rounded-xl\">\n\t\t\t\t\t<div className=\"absolute inset-0 bg-[radial-gradient(circle_at_50%_20%,rgba(120,119,198,0.08),transparent_50%)] rounded-xl\" />\n\t\t\t\t\t<div className=\"relative px-6 pt-8 pb-20\">\n\t\t\t\t\t\t<div className=\"animate-pulse space-y-8\">\n\t\t\t\t\t\t\t<div className=\"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3\"></div>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-1 xl:grid-cols-4 gap-8\">\n\t\t\t\t\t\t\t\t<div className=\"xl:col-span-3 space-y-8\">\n\t\t\t\t\t\t\t\t\t<div className=\"h-64 bg-gray-200 dark:bg-gray-700 rounded\"></div>\n\t\t\t\t\t\t\t\t\t<div className=\"h-96 bg-gray-200 dark:bg-gray-700 rounded\"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"space-y-6\">\n\t\t\t\t\t\t\t\t\t<div className=\"h-32 bg-gray-200 dark:bg-gray-700 rounded\"></div>\n\t\t\t\t\t\t\t\t\t<div className=\"h-64 bg-gray-200 dark:bg-gray-700 rounded\"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Invoice not found\n\tif (invoice === null) {\n\t\treturn (\n\t\t\t<div className=\"min-h-screen flex-1 md:min-h-min\">\n\t\t\t\t<div className=\"relative bg-linear-to-br from-background via-muted/30 to-muted/60 dark:from-background dark:via-muted/20 dark:to-muted/40 min-h-screen rounded-xl\">\n\t\t\t\t\t<div className=\"absolute inset-0 bg-[radial-gradient(circle_at_50%_20%,rgba(120,119,198,0.08),transparent_50%)] rounded-xl\" />\n\t\t\t\t\t<div className=\"relative px-6 pt-8 pb-20 flex flex-col items-center justify-center h-96 space-y-4\">\n\t\t\t\t\t\t<div className=\"text-6xl\">ðŸ“„</div>\n\t\t\t\t\t\t<h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\tInvoice Not Found\n\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t<p className=\"text-gray-600 dark:text-gray-400 text-center\">\n\t\t\t\t\t\t\tThe invoice you&apos;re looking for doesn&apos;t exist or you\n\t\t\t\t\t\t\tdon&apos;t have permission to view it.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<Button onClick={() => router.push(\"/invoices\")}>\n\t\t\t\t\t\t\tBack to Invoices\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tconst currentStatus = getInvoiceStatus(\n\t\tinvoice.status as InvoiceStatus,\n\t\tinvoice.dueDate\n\t);\n\n\tconst handleGeneratePdf = async () => {\n\t\tlet loadingId;\n\t\ttry {\n\t\t\tif (!invoice || !lineItems) return;\n\t\t\tloadingId = toast.loading(\"Generating PDF\", \"Rendering and uploadingâ€¦\");\n\n\t\t\t// Generate invoice PDF\n\t\t\tconst element = (\n\t\t\t\t<InvoicePDF\n\t\t\t\t\tinvoice={invoice}\n\t\t\t\t\tclient={\n\t\t\t\t\t\tclient\n\t\t\t\t\t\t\t? { companyName: client.companyName, industry: client.industry }\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t\titems={lineItems}\n\t\t\t\t\torganization={\n\t\t\t\t\t\torganization\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\tname: organization.name,\n\t\t\t\t\t\t\t\t\tlogoUrl: organization.logoUrl || undefined,\n\t\t\t\t\t\t\t\t\taddress: organization.address || undefined,\n\t\t\t\t\t\t\t\t\tphone: organization.phone || undefined,\n\t\t\t\t\t\t\t\t\temail: organization.email || undefined,\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t);\n\t\t\tconst invoiceBlob = await pdf(element).toBlob();\n\n\t\t\t// Upload PDF\n\t\t\tconst uploadUrl = await generateUploadUrl({});\n\t\t\tconst res = await fetch(uploadUrl, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: { \"Content-Type\": \"application/pdf\" },\n\t\t\t\tbody: invoiceBlob,\n\t\t\t});\n\t\t\tif (!res.ok) throw new Error(\"Failed to upload PDF\");\n\t\t\tconst { storageId } = await res.json();\n\t\t\tawait createDocument({\n\t\t\t\tdocumentType: \"invoice\",\n\t\t\t\tdocumentId: invoice._id,\n\t\t\t\tstorageId: storageId as unknown as StorageId<\"_storage\">,\n\t\t\t});\n\t\t\ttoast.removeToast(loadingId);\n\t\t\ttoast.success(\"PDF generated\", \"Your invoice PDF is ready.\");\n\t\t} catch (error) {\n\t\t\tif (loadingId) {\n\t\t\t\ttoast.removeToast(loadingId);\n\t\t\t}\n\t\t\tconsole.error(error);\n\t\t\tconst message = error instanceof Error ? error.message : \"Unknown error\";\n\t\t\ttoast.error(\"PDF generation failed\", message);\n\t\t}\n\t};\n\n\tconst handleDownloadPdf = async () => {\n\t\tif (!selectedDocumentUrl) return;\n\t\ttry {\n\t\t\t// Fetch the PDF as a blob\n\t\t\tconst response = await fetch(selectedDocumentUrl);\n\t\t\tif (!response.ok) throw new Error(\"Failed to fetch PDF\");\n\t\t\tconst blob = await response.blob();\n\n\t\t\t// Create a blob URL and trigger download\n\t\t\tconst blobUrl = URL.createObjectURL(blob);\n\t\t\tconst link = document.createElement(\"a\");\n\t\t\tlink.href = blobUrl;\n\t\t\tlink.download = `Invoice-${\n\t\t\t\tinvoice?.invoiceNumber || invoice?._id.slice(-6) || \"document\"\n\t\t\t}.pdf`;\n\t\t\tdocument.body.appendChild(link);\n\t\t\tlink.click();\n\n\t\t\t// Clean up\n\t\t\tdocument.body.removeChild(link);\n\t\t\tURL.revokeObjectURL(blobUrl);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tconst message = error instanceof Error ? error.message : \"Unknown error\";\n\t\t\ttoast.error(\"Download failed\", message);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"min-h-screen flex-1 md:min-h-min\">\n\t\t\t<div className=\"relative min-h-screen rounded-xl\">\n\t\t\t\t<div className=\"rounded-xl\" />\n\n\t\t\t\t<div className=\"relative px-6 pt-8 pb-20\">\n\t\t\t\t\t<div className=\"mx-auto\">\n\t\t\t\t\t\t{/* Invoice Header */}\n\t\t\t\t\t\t<div className=\"mb-8\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-8\">\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-4\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-center w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900/30 shrink-0\">\n\t\t\t\t\t\t\t\t\t\t<FileText className=\"h-6 w-6 text-blue-600 dark:text-blue-400\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t{invoice.invoiceNumber}\n\t\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t{project?.title || \"Invoice\"}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<StatusProgressBar\n\t\t\t\t\t\t\t\t\t\tstatus={currentStatus}\n\t\t\t\t\t\t\t\t\t\tsteps={[\n\t\t\t\t\t\t\t\t\t\t\t{ id: \"draft\", name: \"Draft\", order: 1 },\n\t\t\t\t\t\t\t\t\t\t\t{ id: \"sent\", name: \"Sent\", order: 2 },\n\t\t\t\t\t\t\t\t\t\t\t{ id: \"paid\", name: \"Paid\", order: 3 },\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\tevents={[\n\t\t\t\t\t\t\t\t\t\t\t...(invoice._creationTime\n\t\t\t\t\t\t\t\t\t\t\t\t? [{ type: \"draft\", timestamp: invoice._creationTime }]\n\t\t\t\t\t\t\t\t\t\t\t\t: []),\n\t\t\t\t\t\t\t\t\t\t\t...(invoice.issuedDate\n\t\t\t\t\t\t\t\t\t\t\t\t? [{ type: \"sent\", timestamp: invoice.issuedDate }]\n\t\t\t\t\t\t\t\t\t\t\t\t: []),\n\t\t\t\t\t\t\t\t\t\t\t...(invoice.paidAt\n\t\t\t\t\t\t\t\t\t\t\t\t? [{ type: \"paid\", timestamp: invoice.paidAt }]\n\t\t\t\t\t\t\t\t\t\t\t\t: []),\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\tfailureStatuses={[\"overdue\", \"cancelled\"]}\n\t\t\t\t\t\t\t\t\t\tsuccessStatuses={[\"paid\"]}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Two Column Layout */}\n\t\t\t\t\t\t<div className=\"grid grid-cols-1 xl:grid-cols-4 gap-8\">\n\t\t\t\t\t\t\t{/* Main Content - Left Column */}\n\t\t\t\t\t\t\t<div className=\"xl:col-span-3 space-y-8\">\n\t\t\t\t\t\t\t\t{/* Client and Project Details */}\n\t\t\t\t\t\t\t\t<div className=\"bg-card dark:bg-card backdrop-blur-md border border-border dark:border-border rounded-xl shadow-lg dark:shadow-black/50 ring-1 ring-border/30 dark:ring-border/50\">\n\t\t\t\t\t\t\t\t\t<Card className=\"bg-transparent border-none shadow-none ring-0\">\n\t\t\t\t\t\t\t\t\t\t<CardHeader>\n\t\t\t\t\t\t\t\t\t\t\t<CardTitle className=\"flex items-center justify-between text-xl\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Building2 className=\"h-5 w-5\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\tClient and Project Details\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{project && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trouter.push(`/projects/${project._id}`)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FolderOpen className=\"h-4 w-4 mr-1\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tView Project\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{client && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trouter.push(`/clients/${client._id}`)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit className=\"h-4 w-4 mr-1\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tView Client\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"space-y-8\">\n\t\t\t\t\t\t\t\t\t\t\t\t{/* Client Information */}\n\t\t\t\t\t\t\t\t\t\t\t\t{client ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"space-y-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Company Header */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"border-b border-gray-200 dark:border-gray-700 pb-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-start justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{client.companyName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{client.industry || \"No industry specified\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{client.companyDescription && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-500 dark:text-gray-500 mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{client.companyDescription}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{client.status && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclient.status === \"active\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{client.status}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Contact & Property Grid */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Primary Contact */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 className=\"text-sm font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Mail className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPrimary Contact\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.firstName}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.lastName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.jobTitle && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.jobTitle}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.email && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={`mailto:${primaryContact.email}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"hover:text-blue-600 dark:hover:text-blue-400\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.email}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.phone && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={`tel:${primaryContact.phone}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"hover:text-blue-600 dark:hover:text-blue-400\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.phone}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo primary contact set\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Primary Property/Address */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 className=\"text-sm font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Building2 className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPrimary Location\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryProperty ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryProperty.propertyName && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryProperty.propertyName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-sm text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{primaryProperty.streetAddress}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryProperty.city},{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryProperty.state}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryProperty.zipCode}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo property address set\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"p-6 border-2 border-dashed border-gray-300 dark:border-white/20 rounded-lg text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Building2 className=\"h-12 w-12 text-gray-400 mx-auto mb-3\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tClient information not available\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t\t\t{/* Associated Project */}\n\t\t\t\t\t\t\t\t\t\t\t\t{project && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"pt-6 border-t border-gray-200 dark:border-gray-700\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-start justify-between mb-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 className=\"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FolderOpen className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAssociated Project\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{project.status && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproject.status === \"in-progress\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: project.status === \"completed\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{project.status}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-base font-medium text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{project.title}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{project.projectNumber && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-gray-500 dark:text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tProject #{project.projectNumber}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{project.description && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{project.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* Line Items */}\n\t\t\t\t\t\t\t\t<div className=\"bg-card dark:bg-card backdrop-blur-md border border-border dark:border-border rounded-xl shadow-lg dark:shadow-black/50 ring-1 ring-border/30 dark:ring-border/50\">\n\t\t\t\t\t\t\t\t\t<Card className=\"bg-transparent border-none shadow-none ring-0\">\n\t\t\t\t\t\t\t\t\t\t<CardHeader className=\"flex flex-row items-center justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t<CardTitle className=\"flex items-center gap-2 text-xl\">\n\t\t\t\t\t\t\t\t\t\t\t\t<DollarSign className=\"h-5 w-5\" />\n\t\t\t\t\t\t\t\t\t\t\t\tLine Items\n\t\t\t\t\t\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t\t\t{lineItems && lineItems.length > 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"overflow-hidden rounded-lg border\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Table>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableHeader className=\"bg-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableHead>Description</TableHead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableHead className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tQty\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableHead className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tUnit Price\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableHead className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTotal\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableHeader>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{lineItems.map((item) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableRow key={item._id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell className=\"font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.quantity}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatCurrency(item.unitPrice)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell className=\"text-right font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatCurrency(item.total)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Totals */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-6 space-y-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSubtotal:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatCurrency(invoice.subtotal)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{invoice.discountAmount && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDiscount:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium text-red-600 dark:text-red-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t-{formatCurrency(invoice.discountAmount)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{invoice.taxAmount && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTax:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatCurrency(invoice.taxAmount)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"border-t pt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-lg font-bold\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>Total:</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{formatCurrency(invoice.total)}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"p-8 border-2 border-dashed border-gray-300 dark:border-white/20 rounded-lg text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-4xl mb-3\">ðŸ“‹</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-500 dark:text-gray-400 mb-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo line items found\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{/* Invoice Details Sidebar - Right Column */}\n\t\t\t\t\t\t\t<div className=\"xl:col-span-1\">\n\t\t\t\t\t\t\t\t<div className=\"sticky top-24 space-y-6\">\n\t\t\t\t\t\t\t\t\t{/* Invoice Details */}\n\t\t\t\t\t\t\t\t\t<div className=\"bg-card dark:bg-card backdrop-blur-md border border-border dark:border-border rounded-xl shadow-lg dark:shadow-black/50 ring-1 ring-border/30 dark:ring-border/50\">\n\t\t\t\t\t\t\t\t\t\t<Card className=\"bg-transparent border-none shadow-none ring-0\">\n\t\t\t\t\t\t\t\t\t\t\t<CardHeader>\n\t\t\t\t\t\t\t\t\t\t\t\t<CardTitle className=\"text-lg\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tInvoice Details\n\t\t\t\t\t\t\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t\t\t\t\t\t<CardContent className=\"space-y-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tStatus:\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge variant={statusVariant(currentStatus)}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatStatus(currentStatus)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tIssued:\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(invoice.issuedDate).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tDue Date:\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`text-sm font-medium ${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentStatus === \"overdue\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"text-red-600 dark:text-red-400\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"text-gray-900 dark:text-white\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(invoice.dueDate).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{invoice.paidAt && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPaid:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm text-green-600 dark:text-green-400 font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(invoice.paidAt).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between pt-3 border-t border-gray-200 dark:border-gray-700\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm font-medium text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tAmount Due:\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm font-bold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{currentStatus === \"paid\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? formatCurrency(0)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: formatCurrency(invoice.total)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* Public Payment Link */}\n\t\t\t\t\t\t\t\t\t<div className=\"bg-card dark:bg-card backdrop-blur-md border border-border dark:border-border rounded-xl shadow-lg dark:shadow-black/50 ring-1 ring-border/30 dark:ring-border/50\">\n\t\t\t\t\t\t\t\t\t\t<Card className=\"bg-transparent border-none shadow-none ring-0\">\n\t\t\t\t\t\t\t\t\t\t\t<CardHeader>\n\t\t\t\t\t\t\t\t\t\t\t\t<CardTitle className=\"text-lg\">Payment Link</CardTitle>\n\t\t\t\t\t\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t\t\t\t\t\t<CardContent className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t{!organization?.stripeConnectAccountId ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tConnect Stripe payments to enable the public\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcheckout link for this invoice.\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t) : payUrl ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground break-all\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{payUrl}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex flex-col gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnavigator.clipboard\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.writeText(payUrl)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.then(() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoast.success(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"Link copied\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"Public payment link copied.\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.catch(() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoast.error(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"Copy failed\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"Unable to copy the link.\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCopy link\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintent=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowArrow={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.open(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpayUrl,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"_blank\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"noopener,noreferrer\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tOpen test link\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tThis public link uses the invoice token; share it\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twith your client to pay via Stripe.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo payment link available for this invoice.\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* Generated PDF */}\n\t\t\t\t\t\t\t\t\t<div className=\"bg-card dark:bg-card backdrop-blur-md border border-border dark:border-border rounded-xl shadow-lg dark:shadow-black/50 ring-1 ring-border/30 dark:ring-border/50\">\n\t\t\t\t\t\t\t\t\t\t<Card className=\"bg-transparent border-none shadow-none ring-0\">\n\t\t\t\t\t\t\t\t\t\t\t<CardHeader className=\"flex flex-row items-center justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CardTitle className=\"text-lg\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tGenerated PDF\n\t\t\t\t\t\t\t\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<FileText className=\"h-5 w-5 text-blue-600 dark:text-blue-400\" />\n\t\t\t\t\t\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center py-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{selectedDocumentUrl ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"h-48 bg-gray-50 dark:bg-gray-800 rounded-lg border border-slate-200 dark:border-slate-700 overflow-hidden\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<iframe\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={selectedDocumentUrl}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full h-full\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"PDF Preview\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ border: \"none\" }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Action buttons */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={selectedDocumentUrl}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Eye className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tView\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full flex-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleDownloadPdf}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Download className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDownload\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FileText className=\"h-12 w-12 text-gray-400 mx-auto mb-3\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-600 dark:text-gray-400 mb-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo PDF generated yet\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleGeneratePdf}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FileText className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tGenerate PDF\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Sticky Footer with Action Buttons */}\n\t\t\t<StickyFormFooter\n\t\t\t\tbuttons={[\n\t\t\t\t\t// Left side buttons - Status actions\n\t\t\t\t\t...(getStatusActions()\n\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel:\n\t\t\t\t\t\t\t\t\t\tcurrentStatus === \"draft\"\n\t\t\t\t\t\t\t\t\t\t\t? \"Mark as Sent\"\n\t\t\t\t\t\t\t\t\t\t\t: currentStatus === \"sent\" || currentStatus === \"overdue\"\n\t\t\t\t\t\t\t\t\t\t\t? \"Mark as Paid\"\n\t\t\t\t\t\t\t\t\t\t\t: currentStatus === \"paid\"\n\t\t\t\t\t\t\t\t\t\t\t? \"Reopen\"\n\t\t\t\t\t\t\t\t\t\t\t: \"Update Status\",\n\t\t\t\t\t\t\t\t\tintent:\n\t\t\t\t\t\t\t\t\t\tcurrentStatus === \"draft\"\n\t\t\t\t\t\t\t\t\t\t\t? (\"primary\" as const)\n\t\t\t\t\t\t\t\t\t\t\t: currentStatus === \"sent\" || currentStatus === \"overdue\"\n\t\t\t\t\t\t\t\t\t\t\t? (\"success\" as const)\n\t\t\t\t\t\t\t\t\t\t\t: (\"outline\" as const),\n\t\t\t\t\t\t\t\t\ticon:\n\t\t\t\t\t\t\t\t\t\tcurrentStatus === \"draft\" ? (\n\t\t\t\t\t\t\t\t\t\t\t<Mail className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t) : currentStatus === \"sent\" ||\n\t\t\t\t\t\t\t\t\t\t  currentStatus === \"overdue\" ? (\n\t\t\t\t\t\t\t\t\t\t\t<CheckCircle className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<Edit className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\t\t\tif (currentStatus === \"draft\") {\n\t\t\t\t\t\t\t\t\t\t\thandleStatusChange(\"sent\");\n\t\t\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\t\t\tcurrentStatus === \"sent\" ||\n\t\t\t\t\t\t\t\t\t\t\tcurrentStatus === \"overdue\"\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\thandleMarkPaid();\n\t\t\t\t\t\t\t\t\t\t} else if (currentStatus === \"paid\") {\n\t\t\t\t\t\t\t\t\t\t\thandleStatusChange(\"sent\");\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tposition: \"left\" as const,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t  ]\n\t\t\t\t\t\t: []),\n\t\t\t\t\t// Right side buttons - Actions\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"Generate PDF\",\n\t\t\t\t\t\tintent: \"outline\",\n\t\t\t\t\t\ticon: <FileText className=\"h-4 w-4\" />,\n\t\t\t\t\t\tonClick: handleGeneratePdf,\n\t\t\t\t\t\tposition: \"right\" as const,\n\t\t\t\t\t},\n\t\t\t\t\t// Conditionally include Cancel Invoice button\n\t\t\t\t\t...(currentStatus !== \"cancelled\"\n\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"Cancel Invoice\",\n\t\t\t\t\t\t\t\t\tintent: \"destructive\" as const,\n\t\t\t\t\t\t\t\t\ticon: <XCircle className=\"h-4 w-4\" />,\n\t\t\t\t\t\t\t\t\tonClick: () => handleStatusChange(\"cancelled\"),\n\t\t\t\t\t\t\t\t\tposition: \"right\" as const,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t  ]\n\t\t\t\t\t\t: []),\n\t\t\t\t]}\n\t\t\t\tfullWidth\n\t\t\t/>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":"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"}