{"version":3,"sources":["../../../../../../apps/web/src/app/%28workspace%29/invoices/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { useQuery } from \"convex/react\";\nimport { api } from \"@onetool/backend/convex/_generated/api\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tCard,\n\tCardContent,\n\tCardDescription,\n\tCardHeader,\n\tCardTitle,\n} from \"@/components/ui/card\";\nimport {\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableHead,\n\tTableHeader,\n\tTableRow,\n} from \"@/components/ui/table\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n\tColumnDef,\n\tColumnFiltersState,\n\tSortingState,\n\tflexRender,\n\tgetCoreRowModel,\n\tgetFilteredRowModel,\n\tgetPaginationRowModel,\n\tgetSortedRowModel,\n\tuseReactTable,\n} from \"@tanstack/react-table\";\nimport {\n\tChevronLeft,\n\tChevronRight,\n\tReceipt,\n\tClock,\n\tExternalLink,\n\tTrash2,\n\tCheckCircle,\n\tTableProperties,\n\tLayoutGrid,\n} from \"lucide-react\";\nimport { useRouter } from \"next/navigation\";\nimport type { Doc } from \"@onetool/backend/convex/_generated/dataModel\";\nimport { useMutation } from \"convex/react\";\nimport { useState } from \"react\";\nimport type { Id } from \"@onetool/backend/convex/_generated/dataModel\";\nimport DeleteConfirmationModal from \"@/components/ui/delete-confirmation-modal\";\nimport { StyledButton, StyledBadge } from \"@/components/ui/styled\";\nimport {\n\tKanbanBoard,\n\tKanbanCard,\n\tKanbanCards,\n\tKanbanHeader,\n\tKanbanProvider,\n} from \"../projects/components/kanban\";\nimport { ButtonGroup } from \"@/components/ui/button-group\";\nimport { cn } from \"@/lib/utils\";\n\ntype InvoiceWithClient = Doc<\"invoices\"> & {\n\tclientName: string;\n\tprojectName?: string;\n};\n\ntype InvoiceKanbanItem = {\n\tid: string;\n\tname: string;\n\tcolumn: Doc<\"invoices\">[\"status\"];\n\tstatus: Doc<\"invoices\">[\"status\"];\n\tclientName: string;\n\ttotal: number;\n\tinvoiceNumber: string;\n\tdueDate: number;\n\tissuedDate: number;\n};\n\ntype InvoiceKanbanColumn = {\n\tid: Doc<\"invoices\">[\"status\"];\n\tname: string;\n\tdescription: string;\n};\n\nconst kanbanColumns: InvoiceKanbanColumn[] = [\n\t{\n\t\tid: \"draft\",\n\t\tname: \"Draft\",\n\t\tdescription: \"Being prepared\",\n\t},\n\t{\n\t\tid: \"sent\",\n\t\tname: \"Sent\",\n\t\tdescription: \"Awaiting payment\",\n\t},\n\t{\n\t\tid: \"paid\",\n\t\tname: \"Paid\",\n\t\tdescription: \"Payment received\",\n\t},\n\t{\n\t\tid: \"overdue\",\n\t\tname: \"Overdue\",\n\t\tdescription: \"Past due date\",\n\t},\n\t{\n\t\tid: \"cancelled\",\n\t\tname: \"Cancelled\",\n\t\tdescription: \"Voided invoices\",\n\t},\n];\n\nconst statusVariant = (status: string, dueDate: number) => {\n\t// Check if overdue\n\tif (status === \"sent\" && dueDate < Date.now()) {\n\t\treturn \"destructive\" as const;\n\t}\n\n\tswitch (status) {\n\t\tcase \"paid\":\n\t\t\treturn \"default\" as const;\n\t\tcase \"sent\":\n\t\t\treturn \"secondary\" as const;\n\t\tcase \"cancelled\":\n\t\t\treturn \"destructive\" as const;\n\t\tcase \"draft\":\n\t\tdefault:\n\t\t\treturn \"outline\" as const;\n\t}\n};\n\nconst formatStatus = (status: string, dueDate: number) => {\n\t// Check if overdue\n\tif (status === \"sent\" && dueDate < Date.now()) {\n\t\treturn \"Overdue\";\n\t}\n\n\tswitch (status) {\n\t\tcase \"draft\":\n\t\t\treturn \"Draft\";\n\t\tcase \"sent\":\n\t\t\treturn \"Sent\";\n\t\tcase \"paid\":\n\t\t\treturn \"Paid\";\n\t\tcase \"overdue\":\n\t\t\treturn \"Overdue\";\n\t\tcase \"cancelled\":\n\t\t\treturn \"Cancelled\";\n\t\tdefault:\n\t\t\treturn status;\n\t}\n};\n\nconst formatCurrency = (amount: number) => {\n\treturn new Intl.NumberFormat(\"en-US\", {\n\t\tstyle: \"currency\",\n\t\tcurrency: \"USD\",\n\t\tminimumFractionDigits: 0,\n\t\tmaximumFractionDigits: 0,\n\t}).format(amount);\n};\n\nconst createColumns = (\n\trouter: ReturnType<typeof useRouter>,\n\tonDelete: (id: string, name: string) => void\n): ColumnDef<InvoiceWithClient>[] => [\n\t{\n\t\taccessorKey: \"invoiceNumber\",\n\t\theader: \"Invoice\",\n\t\tcell: ({ row }) => (\n\t\t\t<div className=\"flex flex-col\">\n\t\t\t\t<span className=\"font-medium text-foreground\">\n\t\t\t\t\t{row.original.invoiceNumber}\n\t\t\t\t</span>\n\t\t\t\t<span className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t{row.original.projectName || \"No project\"}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t),\n\t},\n\t{\n\t\taccessorKey: \"clientName\",\n\t\theader: \"Client\",\n\t\tcell: ({ row }) => (\n\t\t\t<span className=\"text-foreground\">{row.original.clientName}</span>\n\t\t),\n\t},\n\t{\n\t\taccessorKey: \"total\",\n\t\theader: \"Amount\",\n\t\tcell: ({ row }) => (\n\t\t\t<span className=\"text-foreground font-medium\">\n\t\t\t\t{formatCurrency(row.original.total)}\n\t\t\t</span>\n\t\t),\n\t},\n\t{\n\t\taccessorKey: \"status\",\n\t\theader: \"Status\",\n\t\tcell: ({ row }) => (\n\t\t\t<Badge variant={statusVariant(row.original.status, row.original.dueDate)}>\n\t\t\t\t{formatStatus(row.original.status, row.original.dueDate)}\n\t\t\t</Badge>\n\t\t),\n\t},\n\t{\n\t\taccessorKey: \"issuedDate\",\n\t\theader: \"Issued\",\n\t\tcell: ({ row }) => {\n\t\t\tconst d = new Date(row.original.issuedDate);\n\t\t\treturn <span className=\"text-foreground\">{d.toLocaleDateString()}</span>;\n\t\t},\n\t},\n\t{\n\t\taccessorKey: \"dueDate\",\n\t\theader: \"Due Date\",\n\t\tcell: ({ row }) => {\n\t\t\tconst d = new Date(row.original.dueDate);\n\t\t\tconst isOverdue = d < new Date() && row.original.status !== \"paid\";\n\t\t\treturn (\n\t\t\t\t<span\n\t\t\t\t\tclassName={`text-foreground ${isOverdue ? \"text-destructive font-medium\" : \"\"}`}\n\t\t\t\t>\n\t\t\t\t\t{d.toLocaleDateString()}\n\t\t\t\t</span>\n\t\t\t);\n\t\t},\n\t},\n\t{\n\t\tid: \"actions\",\n\t\theader: \"\",\n\t\tcell: ({ row }) => (\n\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t<Button\n\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\tsize=\"sq-sm\"\n\t\t\t\t\tonPress={() => router.push(`/invoices/${row.original._id}`)}\n\t\t\t\t\taria-label={`View invoice ${row.original.invoiceNumber}`}\n\t\t\t\t>\n\t\t\t\t\t<ExternalLink className=\"size-4\" />\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\tsize=\"sq-sm\"\n\t\t\t\t\tonPress={() => onDelete(row.original._id, row.original.invoiceNumber)}\n\t\t\t\t\tclassName=\"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950\"\n\t\t\t\t\taria-label={`Delete invoice ${row.original.invoiceNumber}`}\n\t\t\t\t>\n\t\t\t\t\t<Trash2 className=\"size-4\" />\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t),\n\t},\n];\n\nexport default function InvoicesPage() {\n\tconst router = useRouter();\n\tconst [viewMode, setViewMode] = useState<\"table\" | \"kanban\">(\"table\");\n\tconst [deleteModalOpen, setDeleteModalOpen] = useState(false);\n\tconst [invoiceToDelete, setInvoiceToDelete] = useState<{\n\t\tid: string;\n\t\tname: string;\n\t} | null>(null);\n\tconst deleteInvoice = useMutation(api.invoices.remove);\n\tconst updateInvoiceStatus = useMutation(api.invoices.update);\n\tconst [kanbanData, setKanbanData] = useState<InvoiceKanbanItem[]>([]);\n\n\t// Fetch data from Convex\n\tconst invoices = useQuery(api.invoices.list, {});\n\tconst clients = useQuery(api.clients.list, {});\n\tconst projects = useQuery(api.projects.list, {});\n\n\t// Memoize the arrays to avoid dependency changes on every render\n\tconst invoicesArray = React.useMemo(() => invoices || [], [invoices]);\n\tconst clientsArray = React.useMemo(() => clients || [], [clients]);\n\tconst projectsArray = React.useMemo(() => projects || [], [projects]);\n\n\t// Combine invoices with client and project data\n\tconst data = React.useMemo((): InvoiceWithClient[] => {\n\t\treturn invoicesArray.map((invoice) => {\n\t\t\tconst client = clientsArray.find((c) => c._id === invoice.clientId);\n\t\t\tconst project = projectsArray.find((p) => p._id === invoice.projectId);\n\n\t\t\treturn {\n\t\t\t\t...invoice,\n\t\t\t\tclientName: client?.companyName || \"Unknown Client\",\n\t\t\t\tprojectName: project?.title,\n\t\t\t};\n\t\t});\n\t}, [invoicesArray, clientsArray, projectsArray]);\n\n\tconst [sorting, setSorting] = React.useState<SortingState>([]);\n\tconst [columnFilters, setColumnFilters] = React.useState<ColumnFiltersState>(\n\t\t[]\n\t);\n\tconst [query, setQuery] = React.useState(\"\");\n\tconst pageSize = 10;\n\n\tconst invoiceStatusMap = React.useMemo(() => {\n\t\tconst statusMap = new Map<string, Doc<\"invoices\">[\"status\"]>();\n\t\tdata.forEach((invoice) => {\n\t\t\t// Check if overdue\n\t\t\tconst isOverdue =\n\t\t\t\tinvoice.status === \"sent\" && invoice.dueDate < Date.now();\n\t\t\tconst effectiveStatus = isOverdue ? \"overdue\" : invoice.status;\n\t\t\tstatusMap.set(invoice._id, effectiveStatus as Doc<\"invoices\">[\"status\"]);\n\t\t});\n\t\treturn statusMap;\n\t}, [data]);\n\n\tReact.useEffect(() => {\n\t\tif (!data || data.length === 0) {\n\t\t\tsetKanbanData([]);\n\t\t\treturn;\n\t\t}\n\n\t\tsetKanbanData(\n\t\t\tdata.map((invoice) => {\n\t\t\t\t// Check if overdue\n\t\t\t\tconst isOverdue =\n\t\t\t\t\tinvoice.status === \"sent\" && invoice.dueDate < Date.now();\n\t\t\t\tconst effectiveStatus = isOverdue ? \"overdue\" : invoice.status;\n\n\t\t\t\treturn {\n\t\t\t\t\tid: invoice._id,\n\t\t\t\t\tname: invoice.projectName || \"No project\",\n\t\t\t\t\tcolumn: effectiveStatus as Doc<\"invoices\">[\"status\"],\n\t\t\t\t\tstatus: effectiveStatus as Doc<\"invoices\">[\"status\"],\n\t\t\t\t\tclientName: invoice.clientName,\n\t\t\t\t\ttotal: invoice.total,\n\t\t\t\t\tinvoiceNumber: invoice.invoiceNumber,\n\t\t\t\t\tdueDate: invoice.dueDate,\n\t\t\t\t\tissuedDate: invoice.issuedDate,\n\t\t\t\t};\n\t\t\t})\n\t\t);\n\t}, [data]);\n\n\tconst handleDelete = (id: string, name: string) => {\n\t\tsetInvoiceToDelete({ id, name });\n\t\tsetDeleteModalOpen(true);\n\t};\n\n\tconst confirmDelete = async () => {\n\t\tif (invoiceToDelete) {\n\t\t\ttry {\n\t\t\t\tawait deleteInvoice({ id: invoiceToDelete.id as Id<\"invoices\"> });\n\t\t\t\tsetDeleteModalOpen(false);\n\t\t\t\tsetInvoiceToDelete(null);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Failed to delete invoice:\", error);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst handleKanbanDataChange = React.useCallback(\n\t\t(nextData: InvoiceKanbanItem[]) => {\n\t\t\tsetKanbanData(nextData);\n\n\t\t\tconst changedItem = nextData.find((item) => {\n\t\t\t\tconst originalStatus = invoiceStatusMap.get(item.id);\n\t\t\t\treturn originalStatus && originalStatus !== item.column;\n\t\t\t});\n\n\t\t\tif (changedItem) {\n\t\t\t\t// Don't allow moving from overdue to sent - that's computed\n\t\t\t\tif (changedItem.column === \"sent\" || changedItem.column === \"overdue\") {\n\t\t\t\t\t// If trying to move from/to overdue, just update to \"sent\"\n\t\t\t\t\tupdateInvoiceStatus({\n\t\t\t\t\t\tid: changedItem.id as Id<\"invoices\">,\n\t\t\t\t\t\tstatus: \"sent\",\n\t\t\t\t\t}).catch((error) => {\n\t\t\t\t\t\tconsole.error(\"Failed to update invoice status:\", error);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tupdateInvoiceStatus({\n\t\t\t\t\t\tid: changedItem.id as Id<\"invoices\">,\n\t\t\t\t\t\tstatus: changedItem.column,\n\t\t\t\t\t}).catch((error) => {\n\t\t\t\t\t\tconsole.error(\"Failed to update invoice status:\", error);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[invoiceStatusMap, updateInvoiceStatus]\n\t);\n\n\tconst table = useReactTable({\n\t\tdata,\n\t\tcolumns: createColumns(router, handleDelete),\n\t\tstate: {\n\t\t\tsorting,\n\t\t\tcolumnFilters,\n\t\t\tglobalFilter: query,\n\t\t\tpagination: { pageIndex: 0, pageSize },\n\t\t},\n\t\tonSortingChange: setSorting,\n\t\tonColumnFiltersChange: setColumnFilters,\n\t\tgetCoreRowModel: getCoreRowModel(),\n\t\tgetSortedRowModel: getSortedRowModel(),\n\t\tgetFilteredRowModel: getFilteredRowModel(),\n\t\tgetPaginationRowModel: getPaginationRowModel(),\n\t});\n\n\tReact.useEffect(() => {\n\t\ttable.setPageSize(pageSize);\n\t}, [pageSize, table]);\n\n\t// Calculate stats\n\tconst totalOpen = React.useMemo(\n\t\t() =>\n\t\t\tdata.filter((inv) => inv.status === \"draft\" || inv.status === \"sent\")\n\t\t\t\t.length,\n\t\t[data]\n\t);\n\n\tconst totalPaidValue = React.useMemo(\n\t\t() =>\n\t\t\tdata\n\t\t\t\t.filter((inv) => inv.status === \"paid\")\n\t\t\t\t.reduce((sum, inv) => sum + inv.total, 0),\n\t\t[data]\n\t);\n\n\t// Loading state\n\tconst isLoading =\n\t\tinvoices === undefined || clients === undefined || projects === undefined;\n\tconst isEmpty = !isLoading && data.length === 0;\n\n\treturn (\n\t\t<div className=\"relative p-6 space-y-6\">\n\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t<div className=\"w-1.5 h-6 bg-linear-to-b from-primary to-primary/60 rounded-full\" />\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h1 className=\"text-2xl font-bold text-foreground\">Invoices</h1>\n\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t\t\tManage your invoices and track payments\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4\">\n\t\t\t\t<Card className=\"group relative backdrop-blur-md overflow-hidden ring-1 ring-border/20 dark:ring-border/40\">\n\t\t\t\t\t<div className=\"absolute inset-0 bg-linear-to-br from-white/10 via-white/5 to-transparent dark:from-white/5 dark:via-white/2 dark:to-transparent rounded-2xl\" />\n\t\t\t\t\t<CardHeader className=\"relative z-10\">\n\t\t\t\t\t\t<CardTitle className=\"flex items-center gap-2 text-base\">\n\t\t\t\t\t\t\t<Receipt className=\"size-4\" /> Total Invoices\n\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t<CardDescription>All invoices in your workspace</CardDescription>\n\t\t\t\t\t</CardHeader>\n\t\t\t\t\t<CardContent className=\"relative z-10\">\n\t\t\t\t\t\t<div className=\"text-3xl font-semibold\">\n\t\t\t\t\t\t\t{isLoading ? (\n\t\t\t\t\t\t\t\t<div className=\"h-9 w-12 bg-gray-200 dark:bg-gray-700 rounded animate-pulse\" />\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\tdata.length\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t\t<Card className=\"group relative backdrop-blur-md overflow-hidden ring-1 ring-border/20 dark:ring-border/40\">\n\t\t\t\t\t<div className=\"absolute inset-0 bg-linear-to-br from-white/10 via-white/5 to-transparent dark:from-white/5 dark:via-white/2 dark:to-transparent rounded-2xl\" />\n\t\t\t\t\t<CardHeader className=\"relative z-10\">\n\t\t\t\t\t\t<CardTitle className=\"flex items-center gap-2 text-base\">\n\t\t\t\t\t\t\t<Clock className=\"size-4\" /> Open Invoices\n\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t<CardDescription>Unpaid and draft invoices</CardDescription>\n\t\t\t\t\t</CardHeader>\n\t\t\t\t\t<CardContent className=\"relative z-10\">\n\t\t\t\t\t\t<div className=\"text-3xl font-semibold\">\n\t\t\t\t\t\t\t{isLoading ? (\n\t\t\t\t\t\t\t\t<div className=\"h-9 w-12 bg-gray-200 dark:bg-gray-700 rounded animate-pulse\" />\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\ttotalOpen\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t\t<Card className=\"group relative backdrop-blur-md overflow-hidden ring-1 ring-border/20 dark:ring-border/40\">\n\t\t\t\t\t<div className=\"absolute inset-0 bg-linear-to-br from-white/10 via-white/5 to-transparent dark:from-white/5 dark:via-white/2 dark:to-transparent rounded-2xl\" />\n\t\t\t\t\t<CardHeader className=\"relative z-10\">\n\t\t\t\t\t\t<CardTitle className=\"flex items-center gap-2 text-base\">\n\t\t\t\t\t\t\t<CheckCircle className=\"size-4\" /> Paid Value\n\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t<CardDescription>Total value of paid invoices</CardDescription>\n\t\t\t\t\t</CardHeader>\n\t\t\t\t\t<CardContent className=\"relative z-10\">\n\t\t\t\t\t\t<div className=\"text-3xl font-semibold\">\n\t\t\t\t\t\t\t{isLoading ? (\n\t\t\t\t\t\t\t\t<div className=\"h-9 w-20 bg-gray-200 dark:bg-gray-700 rounded animate-pulse\" />\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\tformatCurrency(totalPaidValue)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t</div>\n\n\t\t\t<Card className=\"group relative backdrop-blur-md overflow-hidden ring-1 ring-border/20 dark:ring-border/40\">\n\t\t\t\t<div className=\"absolute inset-0 bg-linear-to-br from-white/10 via-white/5 to-transparent dark:from-white/5 dark:via-white/2 dark:to-transparent rounded-2xl\" />\n\t\t\t\t<CardHeader className=\"relative z-10 flex flex-col gap-2 border-b\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<CardTitle>Invoices</CardTitle>\n\t\t\t\t\t\t<CardDescription>\n\t\t\t\t\t\t\tSearch, sort, and browse your invoices\n\t\t\t\t\t\t</CardDescription>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"flex flex-col gap-3 md:flex-row md:items-center md:justify-between\">\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tplaceholder=\"Search invoices...\"\n\t\t\t\t\t\t\tvalue={query}\n\t\t\t\t\t\t\tonChange={(e) => setQuery(e.target.value)}\n\t\t\t\t\t\t\tclassName=\"w-full md:w-96\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => setViewMode(\"table\")}\n\t\t\t\t\t\t\t\taria-pressed={viewMode === \"table\"}\n\t\t\t\t\t\t\t\taria-label=\"Table view\"\n\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\"inline-flex items-center gap-2 font-semibold transition-all duration-200 text-xs px-3 py-1.5 ring-1 shadow-sm hover:shadow-md backdrop-blur-sm\",\n\t\t\t\t\t\t\t\t\tviewMode === \"table\"\n\t\t\t\t\t\t\t\t\t\t? \"text-primary hover:text-primary/80 bg-primary/10 hover:bg-primary/15 ring-primary/30 hover:ring-primary/40\"\n\t\t\t\t\t\t\t\t\t\t: \"text-gray-600 hover:text-gray-700 bg-transparent hover:bg-gray-50 ring-transparent hover:ring-gray-200 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:bg-gray-800 dark:hover:ring-gray-700\"\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<TableProperties className=\"w-4 h-4\" />\n\t\t\t\t\t\t\t\t<span className=\"hidden sm:inline\">Table</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => setViewMode(\"kanban\")}\n\t\t\t\t\t\t\t\taria-pressed={viewMode === \"kanban\"}\n\t\t\t\t\t\t\t\taria-label=\"Kanban view\"\n\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\"inline-flex items-center gap-2 font-semibold transition-all duration-200 text-xs px-3 py-1.5 ring-1 shadow-sm hover:shadow-md backdrop-blur-sm\",\n\t\t\t\t\t\t\t\t\tviewMode === \"kanban\"\n\t\t\t\t\t\t\t\t\t\t? \"text-primary hover:text-primary/80 bg-primary/10 hover:bg-primary/15 ring-primary/30 hover:ring-primary/40\"\n\t\t\t\t\t\t\t\t\t\t: \"text-gray-600 hover:text-gray-700 bg-transparent hover:bg-gray-50 ring-transparent hover:ring-gray-200 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:bg-gray-800 dark:hover:ring-gray-700\"\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<LayoutGrid className=\"w-4 h-4\" />\n\t\t\t\t\t\t\t\t<span className=\"hidden sm:inline\">Kanban</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</div>\n\t\t\t\t</CardHeader>\n\t\t\t\t<CardContent className=\"relative z-10 px-0\">\n\t\t\t\t\t{isEmpty ? (\n\t\t\t\t\t\t<div className=\"px-6 py-12 text-center\">\n\t\t\t\t\t\t\t<div className=\"mx-auto mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted\">\n\t\t\t\t\t\t\t\t<Receipt className=\"h-12 w-12 text-muted-foreground\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-foreground mb-2\">\n\t\t\t\t\t\t\t\tNo invoices yet\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<p className=\"text-muted-foreground mb-6 max-w-sm mx-auto\">\n\t\t\t\t\t\t\t\tCreate invoices from approved quotes on the Projects page to get\n\t\t\t\t\t\t\t\tstarted tracking payments and revenue.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : viewMode === \"kanban\" ? (\n\t\t\t\t\t\t<div className=\"px-2 py-6 h-[calc(100vh-28rem)]\">\n\t\t\t\t\t\t\t<KanbanProvider\n\t\t\t\t\t\t\t\tcolumns={kanbanColumns}\n\t\t\t\t\t\t\t\tdata={kanbanData}\n\t\t\t\t\t\t\t\tonDataChange={handleKanbanDataChange}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{(column) => {\n\t\t\t\t\t\t\t\t\tconst columnItems = kanbanData.filter(\n\t\t\t\t\t\t\t\t\t\t(item) => item.column === column.id\n\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<KanbanBoard\n\t\t\t\t\t\t\t\t\t\t\tkey={column.id}\n\t\t\t\t\t\t\t\t\t\t\tid={column.id}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"bg-card/60 flex flex-col\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<KanbanHeader className=\"flex items-center justify-between border-b bg-muted/30 shrink-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-semibold text-sm text-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{column.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{column.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<StyledBadge variant=\"outline\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{columnItems.length}\n\t\t\t\t\t\t\t\t\t\t\t\t</StyledBadge>\n\t\t\t\t\t\t\t\t\t\t\t</KanbanHeader>\n\t\t\t\t\t\t\t\t\t\t\t<KanbanCards id={column.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t{(item: InvoiceKanbanItem) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<KanbanCard\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={item.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={item.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={item.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolumn={item.column}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-between gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-semibold text-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.invoiceNumber}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledBadge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant={statusVariant(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.status,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.dueDate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatStatus(item.status, item.dueDate)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</StyledBadge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-between text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tClient: {item.clientName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex flex-col gap-1 text-xs border-t border-border/50 pt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIssued:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.issuedDate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDue:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"text-foreground\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.dueDate < Date.now() &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.status !== \"paid\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"text-red-600 font-medium\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.dueDate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-between text-xs border-t border-border/50 pt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-semibold text-foreground text-base\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatCurrency(item.total)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"pt-2 border-t border-border/50\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StyledButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ExternalLink className=\"h-3.5 w-3.5\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"View Invoice\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowArrow={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te?.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trouter.push(`/invoices/${item.id}`);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full justify-center\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</KanbanCard>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</KanbanCards>\n\t\t\t\t\t\t\t\t\t\t</KanbanBoard>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t</KanbanProvider>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className=\"px-6\">\n\t\t\t\t\t\t\t<div className=\"overflow-hidden rounded-lg border\">\n\t\t\t\t\t\t\t\t<Table>\n\t\t\t\t\t\t\t\t\t<TableHeader className=\"bg-muted sticky top-0 z-10\">\n\t\t\t\t\t\t\t\t\t\t{table.getHeaderGroups().map((headerGroup) => (\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={headerGroup.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t{headerGroup.headers.map((header) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableHead key={header.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{header.isPlaceholder\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: flexRender(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theader.column.columnDef.header,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theader.getContext()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</TableHeader>\n\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t{isLoading ? (\n\t\t\t\t\t\t\t\t\t\t\tArray.from({ length: 5 }).map((_, i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<TableRow key={i}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{Array.from({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlength: createColumns(router, handleDelete).length,\n\t\t\t\t\t\t\t\t\t\t\t\t\t}).map((_, j) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell key={j}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"h-4 rounded bg-gray-200 dark:bg-gray-700 animate-pulse\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t\t\t) : table.getRowModel().rows?.length ? (\n\t\t\t\t\t\t\t\t\t\t\ttable.getRowModel().rows.map((row) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={row.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-state={row.getIsSelected() && \"selected\"}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{row.getVisibleCells().map((cell) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell key={cell.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{flexRender(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcell.column.columnDef.cell,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcell.getContext()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolSpan={createColumns(router, handleDelete).length}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-24 text-center\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tNo invoices match your search.\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"flex items-center justify-between py-4\">\n\t\t\t\t\t\t\t\t<div className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\t\t{table.getFilteredRowModel().rows.length} of {data.length}{\" \"}\n\t\t\t\t\t\t\t\t\tinvoices\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sq-sm\"\n\t\t\t\t\t\t\t\t\t\tonPress={() => table.previousPage()}\n\t\t\t\t\t\t\t\t\t\tisDisabled={!table.getCanPreviousPage()}\n\t\t\t\t\t\t\t\t\t\taria-label=\"Previous page\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<ChevronLeft className=\"size-4\" />\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<div className=\"text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\tPage {table.getState().pagination?.pageIndex + 1} of{\" \"}\n\t\t\t\t\t\t\t\t\t\t{table.getPageCount()}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sq-sm\"\n\t\t\t\t\t\t\t\t\t\tonPress={() => table.nextPage()}\n\t\t\t\t\t\t\t\t\t\tisDisabled={!table.getCanNextPage()}\n\t\t\t\t\t\t\t\t\t\taria-label=\"Next page\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<ChevronRight className=\"size-4\" />\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\n\t\t\t{/* Delete Confirmation Modal */}\n\t\t\t{invoiceToDelete && (\n\t\t\t\t<DeleteConfirmationModal\n\t\t\t\t\tisOpen={deleteModalOpen}\n\t\t\t\t\tonClose={() => setDeleteModalOpen(false)}\n\t\t\t\t\tonConfirm={confirmDelete}\n\t\t\t\t\ttitle=\"Delete Invoice\"\n\t\t\t\t\titemName={invoiceToDelete.name}\n\t\t\t\t\titemType=\"Invoice\"\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":"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"}