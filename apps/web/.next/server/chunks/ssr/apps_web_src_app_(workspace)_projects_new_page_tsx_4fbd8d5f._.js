module.exports=[612398,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(811182),e=a.i(954714),f=a.i(629353),g=a.i(84059),h=a.i(928503),i=a.i(197463),j=a.i(468106),k=a.i(658547),l=a.i(539524),m=a.i(762537),n=a.i(165004),o=a.i(730769),p=a.i(297257),q=a.i(592552),r=a.i(968177),s=a.i(360031);a.i(511241);var t=a.i(296373),u=a.i(130487),v=a.i(50944),w=a.i(706607),x=a.i(813296),y=a.i(23692),z=a.i(295458),A=a.i(892984),B=a.i(700760),C=a.i(130827),D=a.i(546842);let E={clientId:"",title:"",instructions:"",projectType:"one-off",startDate:void 0,endDate:void 0,startTime:"",endTime:"",assignedUserIds:[],invoiceReminderEnabled:!0,scheduleForLater:!1},F=e.object({clientId:e.string().min(1,"Client selection is required"),title:e.string().min(1,"Project title is required"),instructions:e.string(),projectType:e.enum(["one-off","recurring"]),startDate:e.date().optional(),endDate:e.date().optional(),startTime:e.string(),endTime:e.string(),assignedUserIds:e.array(e.string()),invoiceReminderEnabled:e.boolean(),scheduleForLater:e.boolean()}).refine(a=>!a.startDate||!a.endDate||a.endDate>=a.startDate,{message:"End date must be on or after start date",path:["endDate"]}),G=a=>a?("number"==typeof a?new Date(a):a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Not set",H=a=>a.propertyName?`${a.propertyName} - ${a.streetAddress}`:a.streetAddress,I=a=>`${a.firstName} ${a.lastName}${a.jobTitle?` - ${a.jobTitle}`:""}`;function J({form:a,isLoading:d}){let[e,f]=c.default.useState(!1),[h,i]=c.default.useState(!1);return(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,b.jsx)(a.Field,{name:"startDate",children:a=>(0,b.jsxs)(g.Field,{children:[(0,b.jsx)(g.FieldLabel,{children:"Start Date"}),(0,b.jsxs)(n.Popover,{open:e,onOpenChange:f,children:[(0,b.jsx)(n.PopoverTrigger,{asChild:!0,children:(0,b.jsxs)(l.Button,{intent:"outline",className:"w-full justify-start text-left font-normal",children:[(0,b.jsx)(o.CalendarIcon,{className:"mr-2 h-4 w-4"}),a.state.value?G(a.state.value):"Select start date"]})}),(0,b.jsx)(n.PopoverContent,{className:"w-auto p-0 bg-white dark:bg-gray-950",align:"start",children:(0,b.jsx)(m.Calendar,{mode:"single",selected:a.state.value,onSelect:b=>{a.handleChange(b),f(!1)},disabled:d,className:"!bg-white dark:!bg-gray-950"})})]})]})}),(0,b.jsx)(a.Field,{name:"endDate",children:c=>{let e=a.getFieldValue("startDate");return(0,b.jsxs)(g.Field,{children:[(0,b.jsx)(g.FieldLabel,{children:"End Date"}),(0,b.jsxs)(n.Popover,{open:h,onOpenChange:i,children:[(0,b.jsx)(n.PopoverTrigger,{asChild:!0,children:(0,b.jsxs)(l.Button,{intent:"outline",className:"w-full justify-start text-left font-normal",children:[(0,b.jsx)(o.CalendarIcon,{className:"mr-2 h-4 w-4"}),c.state.value?G(c.state.value):"Select end date"]})}),(0,b.jsx)(n.PopoverContent,{className:"w-auto p-0 bg-white dark:bg-gray-950",align:"start",children:(0,b.jsx)(m.Calendar,{mode:"single",selected:c.state.value,onSelect:a=>{c.handleChange(a),i(!1)},disabled:a=>{if(d)return!0;if(!e)return!1;let b=new Date("number"==typeof e?e:e.getTime());b.setHours(0,0,0,0);let c=new Date(a);return c.setHours(0,0,0,0),c<b},className:"!bg-white dark:!bg-gray-950"})})]})]})}})]})}function K({preselectedClientId:a,onSubmit:e,isLoading:l=!1}){let m=(0,v.useRouter)(),n=(0,f.useToastOperations)(),[K,L]=c.default.useState(a||null),[M,N]=c.default.useState(null),[O,P]=c.default.useState(null),[Q,R]=c.default.useState(()=>{let a=new Date;return a.setHours(0,0,0,0),a}),[S,T]=c.default.useState("one-off"),U=(0,t.useQuery)(u.api.clients.list,{}),V=(0,c.useMemo)(()=>U??[],[U]),W=(0,t.useQuery)(u.api.clients.get,K?{id:K}:"skip"),X=(0,t.useQuery)(u.api.clientContacts.listByClient,K?{clientId:K}:"skip"),Y=(0,t.useQuery)(u.api.clientProperties.listByClient,K?{clientId:K}:"skip"),Z=(0,t.useQuery)(u.api.users.listByOrg),$=(0,t.useMutation)(u.api.projects.create),_=(0,d.useForm)({defaultValues:{...E,clientId:a||""},onSubmit:async({value:a})=>{let b=F.safeParse(a);if(!b.success){console.error("Validation errors:",b.error.flatten()),n.error("Validation Error","Please fix the errors in the form before submitting.");return}try{let b={clientId:a.clientId,title:a.title.trim(),description:a.instructions||void 0,instructions:a.instructions||void 0,status:"planned",projectType:a.projectType,startDate:a.startDate?a.startDate.getTime():void 0,endDate:a.endDate?a.endDate.getTime():void 0,assignedUserIds:a.assignedUserIds.length>0?a.assignedUserIds:void 0,invoiceReminderEnabled:a.invoiceReminderEnabled,scheduleForLater:a.scheduleForLater};if(e)e(a);else{let a=await $(b);n.success("Project Created","Project has been successfully created!"),m.push(`/projects/${a}`)}}catch(a){console.error("Failed to submit form:",a),n.error("Error","Failed to create project. Please try again.")}}});(0,c.useEffect)(()=>{a&&(L(a),_.setFieldValue("clientId",a))},[a,_]),(0,c.useEffect)(()=>{N(null),P(null)},[K]),(0,c.useEffect)(()=>{Y&&N(a=>{if(a&&Y.some(b=>b._id===a))return a;let b=Y.find(a=>a.isPrimary)??Y[0]??null;return b?b._id:null})},[Y]),(0,c.useEffect)(()=>{X&&P(a=>{if(a&&X.some(b=>b._id===a))return a;let b=X.find(a=>a.isPrimary)??X[0]??null;return b?b._id:null})},[X]);let aa=(0,c.useMemo)(()=>K?V.find(a=>a._id===K)??null:null,[V,K]),ab=(0,c.useMemo)(()=>Y?.map(a=>H(a))??[],[Y]),ac=(0,c.useMemo)(()=>X?.map(a=>I(a))??[],[X]),ad=(0,c.useMemo)(()=>Y&&M?Y.find(a=>a._id===M)??null:null,[Y,M]),ae=(0,c.useMemo)(()=>X&&O?X.find(a=>a._id===O)??null:null,[X,O]),af=(0,c.useMemo)(()=>V.map(a=>a.companyName),[V]),ag=a=>{T(a),_.setFieldValue("projectType",a)};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-full px-6",children:(0,b.jsxs)("div",{className:"w-full pt-8 pb-24",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-white",children:"Create New Project"}),(0,b.jsx)("p",{className:"mt-3 text-base text-gray-600 dark:text-gray-400 max-w-2xl",children:"Set up your project with all the essential details for successful execution."})]}),(0,b.jsxs)("form",{id:"project-onboarding-form",onSubmit:a=>{a.preventDefault(),_.handleSubmit()},children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3 mb-8",children:[(0,b.jsxs)(q.Card,{className:"shadow-sm border-gray-200/60 dark:border-white/10",children:[(0,b.jsx)(q.CardHeader,{className:"pb-4",children:(0,b.jsxs)(q.CardTitle,{className:"flex items-center gap-2 text-xl font-semibold text-gray-900 dark:text-white",children:[(0,b.jsx)(w.MagnifyingGlassIcon,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),"Client Information"]})}),(0,b.jsxs)(q.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400 text-left",children:"Selected Client *"}),(0,b.jsx)(_.Field,{name:"clientId",children:a=>(0,b.jsx)(z.default,{options:af,placeholder:aa?.companyName??"Select a client...",onSelect:b=>{(a=>{if(!a){L(null),_.setFieldValue("clientId","");return}let b=V.find(b=>b.companyName===a);b&&(L(b._id),_.setFieldValue("clientId",b._id))})(b),a.handleChange(b&&V.find(a=>a.companyName===b)?._id||"")},disabled:l})})]}),W?(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Status:"}),(0,b.jsx)("div",{className:"flex items-center gap-2 mt-1",children:(0,b.jsx)(r.Badge,{className:(a=>{switch(a){case"lead":case"prospect":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"active":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"inactive":default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400";case"archived":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}})(W.status),variant:"outline",children:W.status})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Type:"}),(0,b.jsx)("div",{className:"mt-1 text-gray-900 dark:text-white capitalize",children:W.clientType||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Industry:"}),(0,b.jsx)("div",{className:"mt-1 text-gray-900 dark:text-white",children:W.industry||"No industry specified"})]}),W.companyDescription&&(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Description:"}),(0,b.jsx)("div",{className:"mt-1 text-gray-900 dark:text-white",children:W.companyDescription})]})]}):K?(0,b.jsx)("div",{className:"text-center py-8 text-sm text-gray-500 dark:text-gray-400",children:"Loading client details..."}):(0,b.jsx)("div",{className:"text-center py-8 text-sm text-gray-500 dark:text-gray-400",children:"Select a client to view details"})]})]}),(0,b.jsxs)(q.Card,{className:"shadow-sm border-gray-200/60 dark:border-white/10",children:[(0,b.jsx)(q.CardHeader,{className:"pb-4",children:(0,b.jsxs)(q.CardTitle,{className:"flex items-center gap-2 text-xl font-semibold text-gray-900 dark:text-white",children:[(0,b.jsx)(y.MapPinIcon,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),"Property Address"]})}),(0,b.jsxs)(q.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400 text-left",children:"Selected Property"}),(0,b.jsx)(z.default,{options:ab,placeholder:ad?H(ad):K?ab.length>0?"Select a property...":"No properties for this client":"Select a client first...",onSelect:a=>{if(!Y)return;if(!a)return void N(null);let b=Y.find(b=>H(b)===a);b&&N(b._id)},disabled:!K||0===ab.length})]}),ad?(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[ad.propertyName&&(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Property Name:"}),(0,b.jsx)("div",{className:"mt-1 text-gray-900 dark:text-white font-medium",children:ad.propertyName})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Type:"}),(0,b.jsx)("div",{className:"mt-1 text-gray-900 dark:text-white capitalize",children:ad.propertyType||"Not specified"})]}),ad.squareFootage&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Square Footage:"}),(0,b.jsxs)("div",{className:"mt-1 text-gray-900 dark:text-white",children:[ad.squareFootage.toLocaleString()," sq ft"]})]}),(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Address:"}),(0,b.jsxs)("div",{className:"mt-1 text-gray-900 dark:text-white",children:[(0,b.jsx)("div",{className:"font-medium",children:ad.streetAddress}),(0,b.jsxs)("div",{className:"text-gray-600 dark:text-gray-400",children:[ad.city,", ",ad.state," ",ad.zipCode,ad.country?`, ${ad.country}`:""]})]})]}),ad.description&&(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Description:"}),(0,b.jsx)("div",{className:"mt-1 text-gray-900 dark:text-white",children:ad.description})]})]}):K?(0,b.jsx)("div",{className:"text-center py-8 text-sm text-gray-500 dark:text-gray-400",children:0===ab.length?"No properties available for this client":"Select a property above to view details"}):(0,b.jsx)("div",{className:"text-center py-8 text-sm text-gray-500 dark:text-gray-400",children:"Select a client to view property information"})]})]}),(0,b.jsxs)(q.Card,{className:"shadow-sm border-gray-200/60 dark:border-white/10",children:[(0,b.jsx)(q.CardHeader,{className:"pb-4",children:(0,b.jsxs)(q.CardTitle,{className:"flex items-center gap-2 text-xl font-semibold text-gray-900 dark:text-white",children:[(0,b.jsx)(x.UserIcon,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"}),"Contact Details"]})}),(0,b.jsxs)(q.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400 text-left",children:"Selected Contact"}),(0,b.jsx)(z.default,{options:ac,placeholder:ae?I(ae):K?ac.length>0?"Select a contact...":"No contacts for this client":"Select a client first...",onSelect:a=>{if(!X)return;if(!a)return void P(null);let b=X.find(b=>I(b)===a);b&&P(b._id)},disabled:!K||0===ac.length})]}),ae?(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Name:"}),(0,b.jsxs)("div",{className:"mt-1 text-gray-900 dark:text-white font-medium",children:[ae.firstName," ",ae.lastName]})]}),ae.jobTitle&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Job Title:"}),(0,b.jsx)("div",{className:"mt-1 text-gray-900 dark:text-white",children:ae.jobTitle})]}),ae.role&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Role:"}),(0,b.jsx)("div",{className:"mt-1 text-gray-900 dark:text-white capitalize",children:ae.role})]}),ae.department&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Department:"}),(0,b.jsx)("div",{className:"mt-1 text-gray-900 dark:text-white",children:ae.department})]}),ae.email&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Email:"}),(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsx)("a",{href:`mailto:${ae.email}`,className:"text-blue-600 dark:text-blue-400 hover:underline",children:ae.email})})]}),ae.phone&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Phone:"}),(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsx)("a",{href:`tel:${ae.phone}`,className:"text-blue-600 dark:text-blue-400 hover:underline",children:ae.phone})})]})]}):K?(0,b.jsx)("div",{className:"text-center py-8 text-sm text-gray-500 dark:text-gray-400",children:0===ac.length?"No contacts available for this client":"Select a contact above to view details"}):(0,b.jsx)("div",{className:"text-center py-8 text-sm text-gray-500 dark:text-gray-400",children:"Select a client to view contact information"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)(q.Card,{className:"shadow-sm border-gray-200/60 dark:border-white/10",children:[(0,b.jsx)(q.CardHeader,{className:"pb-4",children:(0,b.jsx)(q.CardTitle,{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Project Information"})}),(0,b.jsxs)(q.CardContent,{className:"space-y-6",children:[(0,b.jsx)(g.FieldGroup,{className:"sm:col-span-4",children:(0,b.jsx)(_.Field,{name:"title",children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(g.Field,{"data-invalid":c,children:[(0,b.jsx)(g.FieldLabel,{htmlFor:a.name,children:"Project Title *"}),(0,b.jsx)(h.Input,{id:a.name,name:a.name,value:a.state.value,onBlur:a.handleBlur,onChange:b=>a.handleChange(b.target.value),"aria-invalid":c,placeholder:"e.g., Workshop & Festival",disabled:l}),c&&(0,b.jsx)(g.FieldError,{errors:a.state.meta.errors})]})}})}),(0,b.jsx)(g.FieldGroup,{className:"col-span-full",children:(0,b.jsx)(_.Field,{name:"instructions",children:a=>{let c=a.state.meta.isTouched&&a.state.meta.errors.length>0;return(0,b.jsxs)(g.Field,{"data-invalid":c,children:[(0,b.jsx)(g.FieldLabel,{htmlFor:a.name,children:"Instructions"}),(0,b.jsx)(i.Textarea,{id:a.name,name:a.name,value:a.state.value,onBlur:a.handleBlur,onChange:b=>a.handleChange(b.target.value),"aria-invalid":c,rows:4,placeholder:"Describe any special instructions or context for this project",disabled:l}),c&&(0,b.jsx)(g.FieldError,{errors:a.state.meta.errors})]})}})}),(0,b.jsx)(g.FieldGroup,{className:"sm:col-span-4",children:(0,b.jsx)(_.Field,{name:"assignedUserIds",children:a=>{let c=a.state.value||[];return(0,b.jsxs)(g.Field,{children:[(0,b.jsxs)(g.FieldLabel,{htmlFor:a.name,className:"flex items-center gap-2",children:[(0,b.jsx)(D.User,{className:"h-4 w-4 text-primary"}),"Assign To"]}),(0,b.jsx)(C.StyledMultiSelector,{options:Z?.map(a=>({label:a.name||a.email,value:a._id}))||[],value:c,onValueChange:b=>a.handleChange(b),placeholder:"Select team members",maxCount:2,disabled:l,className:"w-full"})]})}})}),(0,b.jsx)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"block text-sm font-medium text-gray-900 dark:text-white",children:"Project Number"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Automatically assigned after creation"})]})}),(0,b.jsx)("div",{className:"flex items-center gap-3 pt-4 border-t border-gray-200 dark:border-white/10",children:(0,b.jsx)(_.Field,{name:"invoiceReminderEnabled",children:a=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Checkbox,{id:"invoiceReminder",checked:a.state.value,onCheckedChange:b=>a.handleChange(!!b),disabled:l}),(0,b.jsx)(k.Label,{htmlFor:"invoiceReminder",className:"text-sm text-gray-900 dark:text-white",children:"Remind me to invoice when I close the project"})]})})})]})]}),(0,b.jsxs)(q.Card,{className:"shadow-sm border-gray-200/60 dark:border-white/10",children:[(0,b.jsx)(q.CardHeader,{className:"pb-4",children:(0,b.jsxs)(q.CardTitle,{className:"flex items-center gap-2 text-xl font-semibold text-gray-900 dark:text-white",children:[(0,b.jsx)(o.CalendarIcon,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"}),"Schedule & Project Details"]})}),(0,b.jsxs)(q.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Project Type"}),(0,b.jsxs)(A.ButtonGroup,{children:[(0,b.jsx)("button",{type:"button",onClick:()=>ag("one-off"),className:(0,B.cn)("inline-flex items-center gap-2 font-semibold transition-all duration-200 text-xs px-3 py-1.5 ring-1 shadow-sm hover:shadow-md backdrop-blur-sm","one-off"===S?"text-primary hover:text-primary/80 bg-primary/10 hover:bg-primary/15 ring-primary/30 hover:ring-primary/40":"text-gray-600 hover:text-gray-700 bg-transparent hover:bg-gray-50 ring-transparent hover:ring-gray-200 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:bg-gray-800 dark:hover:ring-gray-700"),children:"One-off Project"}),(0,b.jsx)("button",{type:"button",onClick:()=>ag("recurring"),className:(0,B.cn)("inline-flex items-center gap-2 font-semibold transition-all duration-200 text-xs px-3 py-1.5 ring-1 shadow-sm hover:shadow-md backdrop-blur-sm","recurring"===S?"text-primary hover:text-primary/80 bg-primary/10 hover:bg-primary/15 ring-primary/30 hover:ring-primary/40":"text-gray-600 hover:text-gray-700 bg-transparent hover:bg-gray-50 ring-transparent hover:ring-gray-200 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:bg-gray-800 dark:hover:ring-gray-700"),children:"Recurring Project"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(J,{form:_,isLoading:l}),(0,b.jsx)(_.Field,{name:"projectType",children:a=>"recurring"===a.state.value&&(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,b.jsx)(_.Field,{name:"startTime",children:a=>(0,b.jsxs)(g.Field,{children:[(0,b.jsx)(g.FieldLabel,{htmlFor:a.name,children:"Start Time"}),(0,b.jsx)(h.Input,{id:a.name,type:"time",value:a.state.value,onChange:b=>a.handleChange(b.target.value),disabled:l})]})}),(0,b.jsx)(_.Field,{name:"endTime",children:a=>(0,b.jsxs)(g.Field,{children:[(0,b.jsx)(g.FieldLabel,{htmlFor:a.name,children:"End Time"}),(0,b.jsx)(h.Input,{id:a.name,type:"time",value:a.state.value,onChange:b=>a.handleChange(b.target.value),disabled:l})]})})]})}),(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsx)(_.Field,{name:"scheduleForLater",children:a=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Checkbox,{id:"scheduleForLater",checked:a.state.value,onCheckedChange:b=>a.handleChange(!!b),disabled:l}),(0,b.jsx)(k.Label,{htmlFor:"scheduleForLater",className:"text-sm text-gray-900 dark:text-white",children:"Scheduled for later"})]})})})]}),(0,b.jsx)(p.CalendarWidget,{form:_,calendarDate:Q,handleCalendarNavigation:a=>{R(b=>{let c=new Date(b);return c.setMonth("prev"===a?c.getMonth()-1:c.getMonth()+1),c})},handleDateClick:a=>{if(!a)return;let b=new Date(Q.getFullYear(),Q.getMonth(),a);b.setHours(0,0,0,0);let c=_.getFieldValue("startDate"),d=_.getFieldValue("endDate");if(!c)return void _.setFieldValue("startDate",b);if(!d){let a=new Date("number"==typeof c?c:c.getTime());if(a.setHours(0,0,0,0),b<a){_.setFieldValue("startDate",b),_.setFieldValue("endDate",void 0),n.error("Invalid Date Selection","End date cannot be before start date. Resetting to new start date.");return}_.setFieldValue("endDate",b);return}_.setFieldValue("startDate",b),_.setFieldValue("endDate",void 0)},formatDisplayDate:G,variant:"default"})]})]})]})]})]})]})}),(0,b.jsx)(s.StickyFormFooter,{buttons:[{label:l?"Creating...":"Create Project",onClick:()=>_.handleSubmit(),intent:"primary",isLoading:l,position:"left"}]})]})}function L(){let a=(0,v.useSearchParams)().get("clientId");return(0,b.jsx)(K,{preselectedClientId:a})}function M(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{children:"Loading..."}),children:(0,b.jsx)(L,{})})}K.displayName="ProjectOnboardingForm",a.s(["default",()=>M],612398)}];

//# sourceMappingURL=apps_web_src_app_%28workspace%29_projects_new_page_tsx_4fbd8d5f._.js.map