module.exports=[811182,84059,a=>{"use strict";let b;var c=a.i(187924);class d{constructor(a,b){this.listeners=new Set,this.subscribe=a=>{var b,c;this.listeners.add(a);let d=null==(c=null==(b=this.options)?void 0:b.onSubscribe)?void 0:c.call(b,a,this);return()=>{this.listeners.delete(a),null==d||d()}},this.prevState=a,this.state=a,this.options=b}setState(a){var b,c,d;(this.prevState=this.state,null==(b=this.options)?void 0:b.updateFn)?this.state=this.options.updateFn(this.prevState)(a):"function"==typeof a?this.state=a(this.prevState):this.state=a,null==(d=null==(c=this.options)?void 0:c.onUpdate)||d.call(c),m(this)}}class e{constructor(a){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{let a=this.options.deps.length,b=Array(a),c=Array(a);for(let d=0;d<a;d++){let a=this.options.deps[d];b[d]=a.prevState,c[d]=a.state}return this.lastSeenDepValues=c,{prevDepVals:b,currDepVals:c,prevVal:this.prevState??void 0}},this.recompute=()=>{var a,b;this.prevState=this.state;let c=this.getDepVals();this.state=this.options.fn(c),null==(b=(a=this.options).onUpdate)||b.call(a)},this.checkIfRecalculationNeededDeeply=()=>{for(let a of this.options.deps)a instanceof e&&a.checkIfRecalculationNeededDeeply();let a=!1,b=this.lastSeenDepValues,{currDepVals:c}=this.getDepVals();for(let d=0;d<c.length;d++)if(c[d]!==b[d]){a=!0;break}a&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{for(let a of(this.unregisterFromGraph(),this._subscriptions))a()}),this.subscribe=a=>{var b,c;this.listeners.add(a);let d=null==(c=(b=this.options).onSubscribe)?void 0:c.call(b,a,this);return()=>{this.listeners.delete(a),null==d||d()}},this.options=a,this.state=a.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(a=this.options.deps){for(let b of a)if(b instanceof e)b.registerOnGraph(),this.registerOnGraph(b.options.deps);else if(b instanceof d){let a=f.get(b);a||(a=new Set,f.set(b,a)),a.add(this);let c=g.get(this);c||(c=new Set,g.set(this,c)),c.add(b)}}unregisterFromGraph(a=this.options.deps){for(let b of a)if(b instanceof e)this.unregisterFromGraph(b.options.deps);else if(b instanceof d){let a=f.get(b);a&&a.delete(this);let c=g.get(this);c&&c.delete(b)}}}let f=new WeakMap,g=new WeakMap,h={current:[]},i=!1,j=0,k=new Set,l=new Map;function m(a){if((j>0&&!l.has(a)&&l.set(a,a.prevState),k.add(a),!(j>0))&&!i)try{for(i=!0;k.size>0;){let a=Array.from(k);for(let b of(k.clear(),a)){let a=l.get(b)??b.prevState;b.prevState=a,function(a){let b={prevVal:a.prevState,currentVal:a.state};for(let c of a.listeners)c(b)}(b)}for(let b of a){let a=f.get(b);a&&(h.current.push(b),function a(b){for(let c of Array.from(b).sort((a,b)=>a instanceof e&&a.options.deps.includes(b)?1:b instanceof e&&b.options.deps.includes(a)?-1:0)){if(h.current.includes(c))continue;h.current.push(c),c.recompute();let b=g.get(c);if(b)for(let c of b){let b=f.get(c);b&&a(b)}}}(a))}for(let b of a){let a=f.get(b);if(a)for(let b of a)!function(a){let b={prevVal:a.prevState,currentVal:a.state};for(let c of a.listeners)c(b)}(b)}}}finally{i=!1,h.current=[],l.clear()}}function n(a){j++;try{a()}finally{if(0==--j){let a=k.values().next().value;a&&m(a)}}}var o=class{constructor(a,b){this.fn=a,this.options=b,this.lastExecutionTime=0,this.isPending=!1,this.maybeExecute=(...a)=>{let b=Date.now()-this.lastExecutionTime;if(this.options.leading&&b>=this.options.wait)this.execute(...a);else if(this.lastArgs=a,!this.timeoutId&&this.options.trailing){let a=this.options.wait-b;this.isPending=!0,this.timeoutId=setTimeout(()=>{void 0!==this.lastArgs&&this.execute(...this.lastArgs)},a)}},this.execute=(...a)=>{this.fn(...a),this.options.onExecute?.(a,this),this.lastExecutionTime=Date.now(),this.clearTimeout(),this.lastArgs=void 0,this.isPending=!1},this.flush=()=>{this.isPending&&this.lastArgs&&this.execute(...this.lastArgs)},this.cancel=()=>{this.clearTimeout(),this.lastArgs=void 0,this.isPending=!1},this.clearTimeout=()=>{this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0)},void 0===this.options.leading&&void 0===this.options.trailing&&(this.options.leading=!0,this.options.trailing=!0)}};class p{#a=!0;#b;#c;#d;#e;#f;#g;#h;#i=0;#j=5;#k=!1;#l=!1;#m=null;#n=()=>{this.debugLog("Connected to event bus"),this.#f=!0,this.#k=!1,this.debugLog("Emitting queued events",this.#e),this.#e.forEach(a=>this.emitEventToBus(a)),this.#e=[],this.stopConnectLoop(),this.#c().removeEventListener("tanstack-connect-success",this.#n)};#o=()=>{if(this.#i<this.#j){this.#i++,this.dispatchCustomEvent("tanstack-connect",{});return}this.#c().removeEventListener("tanstack-connect",this.#o),this.#l=!0,this.debugLog("Max retries reached, giving up on connection"),this.stopConnectLoop()};#p=()=>{this.#k||(this.#k=!0,this.#c().addEventListener("tanstack-connect-success",this.#n),this.#o())};constructor({pluginId:a,debug:b=!1,enabled:c=!0,reconnectEveryMs:d=300}){this.#b=a,this.#a=c,this.#c=this.getGlobalTarget,this.#d=b,this.debugLog(" Initializing event subscription for plugin",this.#b),this.#e=[],this.#f=!1,this.#l=!1,this.#g=null,this.#h=d}startConnectLoop(){null!==this.#g||this.#f||(this.debugLog(`Starting connect loop (every ${this.#h}ms)`),this.#g=setInterval(this.#o,this.#h))}stopConnectLoop(){this.#k=!1,null!==this.#g&&(clearInterval(this.#g),this.#g=null,this.#e=[],this.debugLog("Stopped connect loop"))}debugLog(...a){this.#d&&console.log(`ðŸŒ´ [tanstack-devtools:${this.#b}-plugin]`,...a)}getGlobalTarget(){if("undefined"!=typeof globalThis&&globalThis.__TANSTACK_EVENT_TARGET__)return this.debugLog("Using global event target"),globalThis.__TANSTACK_EVENT_TARGET__;let a="undefined"!=typeof EventTarget?new EventTarget:void 0;return void 0===a||void 0===a.addEventListener?(this.debugLog("No event mechanism available, running in non-web environment"),{addEventListener:()=>{},removeEventListener:()=>{},dispatchEvent:()=>!1}):(this.debugLog("Using new EventTarget as fallback"),a)}getPluginId(){return this.#b}dispatchCustomEventShim(a,b){try{let c=new Event(a,{detail:b});this.#c().dispatchEvent(c)}catch(a){this.debugLog("Failed to dispatch shim event")}}dispatchCustomEvent(a,b){try{this.#c().dispatchEvent(new CustomEvent(a,{detail:b}))}catch(c){this.dispatchCustomEventShim(a,b)}}emitEventToBus(a){this.debugLog("Emitting event to client bus",a),this.dispatchCustomEvent("tanstack-dispatch-event",a)}createEventPayload(a,b){return{type:`${this.#b}:${a}`,payload:b,pluginId:this.#b}}emit(a,b){if(!this.#a)return void this.debugLog("Event bus client is disabled, not emitting event",a,b);if(this.#m&&(this.debugLog("Emitting event to internal event target",a,b),this.#m.dispatchEvent(new CustomEvent(`${this.#b}:${a}`,{detail:this.createEventPayload(a,b)}))),this.#l)return void this.debugLog("Previously failed to connect, not emitting to bus");if(!this.#f){this.debugLog("Bus not available, will be pushed as soon as connected"),this.#e.push(this.createEventPayload(a,b)),"undefined"==typeof CustomEvent||this.#k||(this.#p(),this.startConnectLoop());return}return this.emitEventToBus(this.createEventPayload(a,b))}on(a,b,c){let d=c?.withEventTarget??!1,e=`${this.#b}:${a}`;if(d&&(this.#m||(this.#m=new EventTarget),this.#m.addEventListener(e,a=>{b(a.detail)})),!this.#a)return this.debugLog("Event bus client is disabled, not registering event",e),()=>{};let f=a=>{this.debugLog("Received event from bus",a.detail),b(a.detail)};return this.#c().addEventListener(e,f),this.debugLog("Registered event to bus",e),()=>{d&&this.#m?.removeEventListener(e,f),this.#c().removeEventListener(e,f)}}onAll(a){if(!this.#a)return this.debugLog("Event bus client is disabled, not registering event"),()=>{};let b=b=>{a(b.detail)};return this.#c().addEventListener("tanstack-devtools-global",b),()=>this.#c().removeEventListener("tanstack-devtools-global",b)}onAllPluginEvents(a){if(!this.#a)return this.debugLog("Event bus client is disabled, not registering event"),()=>{};let b=b=>{let c=b.detail;this.#b&&c.pluginId!==this.#b||a(c)};return this.#c().addEventListener("tanstack-devtools-global",b),()=>this.#c().removeEventListener("tanstack-devtools-global",b)}}let q=new class extends p{constructor(){super({pluginId:"form-devtools",reconnectEveryMs:1e3})}};function r(a,b){return"function"==typeof a?a(b):a}function s(a,b){return B(b).reduce((a,b)=>null===a?null:void 0!==a?a[b]:void 0,a)}function t(a,b,c){let d=B(b);return function a(b){if(!d.length)return r(c,b);let e=d.shift();if("string"==typeof e||"number"==typeof e&&!Array.isArray(b))return"object"==typeof b?(null===b&&(b={}),{...b,[e]:a(b[e])}):{[e]:a()};if(Array.isArray(b)&&"number"==typeof e){let c=b.slice(0,e);return[...c.length?c:Array(e),a(b[e]),...b.slice(e+1)]}return[...Array(e),a()]}(a)}let u=/^(\d+)$/gm,v=/\.(\d+)(?=\.)/gm,w=/^(\d+)\./gm,x=/\.(\d+$)/gm,y=/\.{2,}/gm,z="__int__",A=`${z}$1`;function B(a){if(Array.isArray(a))return[...a];if("string"!=typeof a)throw Error("Path must be a string.");return a.replace(/(^\[)|]/gm,"").replace(/\[/g,".").replace(u,A).replace(v,`.${A}.`).replace(w,`${A}.`).replace(x,`.${A}`).replace(y,".").split(".").map(a=>{if(a.startsWith(z)){let b=a.substring(z.length),c=parseInt(b,10);return String(c)===b?c:b}return a})}function C(a,b){return b.validationLogic({form:b.form,validators:b.validators,event:{type:a,async:!1},runValidation:a=>a.validators.filter(Boolean).map(a=>({cause:a.cause,validate:a.fn}))})}function D(a,b){let{asyncDebounceMs:c}=b,{onBlurAsyncDebounceMs:d,onChangeAsyncDebounceMs:e,onDynamicAsyncDebounceMs:f}=b.validators||{},g=c??0;return b.validationLogic({form:b.form,validators:b.validators,event:{type:a,async:!0},runValidation:b=>b.validators.filter(Boolean).map(b=>{let c=b?.cause||a,h=g;switch(c){case"change":h=e??g;break;case"blur":h=d??g;break;case"dynamic":h=f??g;break;case"submit":h=0}return"submit"===a&&(h=0),{cause:c,validate:b.fn,debounceMs:h}})})}let E=a=>!!a&&"object"==typeof a&&"fields"in a;function F(a,b){if(Object.is(a,b))return!0;if("object"!=typeof a||null===a||"object"!=typeof b||null===b)return!1;if(a instanceof Date&&b instanceof Date)return a.getTime()===b.getTime();if(a instanceof Map&&b instanceof Map){if(a.size!==b.size)return!1;for(let[c,d]of a)if(!b.has(c)||!Object.is(d,b.get(c)))return!1;return!0}if(a instanceof Set&&b instanceof Set){if(a.size!==b.size)return!1;for(let c of a)if(!b.has(c))return!1;return!0}let c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(let e of c)if(!d.includes(e)||!F(a[e],b[e]))return!1;return!0}let G=({newFormValidatorError:a,isPreviousErrorFromFormValidator:b,previousErrorValue:c})=>a?{newErrorValue:a,newSource:"form"}:b?{newErrorValue:void 0,newSource:void 0}:c?{newErrorValue:c,newSource:"field"}:{newErrorValue:void 0,newSource:void 0},H=({formLevelError:a,fieldLevelError:b})=>b?{newErrorValue:b,newSource:"field"}:a?{newErrorValue:a,newSource:"form"}:{newErrorValue:void 0,newSource:void 0};function I(a,b){return null==a?b:{...a,...b}}let J=256,K=[];for(;J--;)K[J]=(J+256).toString(16).substring(1);function L(){let a,c=0,d="";if(!b||J+16>256){for(b=Array(256),c=256;c--;)b[c]=256*Math.random()|0;c=0,J=0}for(;c<16;c++)a=b[J+c],6===c?d+=K[15&a|64]:8===c?d+=K[63&a|128]:d+=K[a],1&c&&c>1&&c<11&&(d+="-");return J++,d}let M=new o(a=>q.emit("form-state",{id:a.formId,state:a.store.state}),{wait:300}).maybeExecute,N=a=>{if(!a.validators)return a.runValidation({validators:[],form:a.form});let b=a.event.async,c=b?void 0:{fn:a.validators.onMount,cause:"mount"},d={fn:b?a.validators.onChangeAsync:a.validators.onChange,cause:"change"},e={fn:b?a.validators.onBlurAsync:a.validators.onBlur,cause:"blur"},f={fn:b?a.validators.onSubmitAsync:a.validators.onSubmit,cause:"submit"},g=b?void 0:{fn:()=>void 0,cause:"server"};switch(a.event.type){case"mount":return a.runValidation({validators:[c],form:a.form});case"submit":return a.runValidation({validators:[d,e,f,g],form:a.form});case"server":return a.runValidation({validators:[],form:a.form});case"blur":return a.runValidation({validators:[e,g],form:a.form});case"change":return a.runValidation({validators:[d,g],form:a.form});default:throw Error(`Unknown validation event type: ${a.event.type}`)}},O=(a,b)=>{let c=function(a,b){let c=new Map;for(let d of a){let a=d.path??[],e=b,f="";for(let b=0;b<a.length;b++){let c=a[b];if(void 0===c)continue;let d="object"==typeof c?c.key:c,g=Number(d);Array.isArray(e)&&!Number.isNaN(g)?f+=`[${g}]`:f+=(b>0?".":"")+String(d),e="object"==typeof e&&null!==e?e[d]:void 0}c.set(f,(c.get(f)??[]).concat(d))}return Object.fromEntries(c)}(a,b);return{form:c,fields:c}},P={validate({value:a,validationSource:b},c){let d=c["~standard"].validate(a);if(d instanceof Promise)throw Error("async function passed to sync validator");if(d.issues)return"field"===b?d.issues:O(d.issues,a)},async validateAsync({value:a,validationSource:b},c){let d=await c["~standard"].validate(a);if(d.issues)return"field"===b?d.issues:O(d.issues,a)}},Q=a=>!!a&&"~standard"in a,R={isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,isValid:!0,isDefaultValue:!0,errors:[],errorMap:{},errorSourceMap:{}};function S(a){function b(a,b){return`${a}[${b}]`}function c(c,d,e,f){let g=[b(c,d)];switch(e){case"swap":g.push(b(c,f));break;case"move":{let[a,e]=[Math.min(d,f),Math.max(d,f)];for(let d=a;d<=e;d++)g.push(b(c,d));break}default:{let e=a.getFieldValue(c),f=Array.isArray(e)?e.length:0;for(let a=d+1;a<f;a++)g.push(b(c,a))}}return Object.keys(a.fieldInfo).filter(a=>g.some(b=>a.startsWith(b)))}function d(b,c){("up"===c?b:[...b].reverse()).forEach(b=>{var d;let f=(d=b.toString(),d.replace(/\[(\d+)\]/,(a,b)=>{let d=parseInt(b,10),e="up"===c?d+1:Math.max(0,d-1);return`[${e}]`})),g=a.getFieldMeta(f);g?a.setFieldMeta(b,g):a.setFieldMeta(b,e())})}let e=()=>R;return{handleArrayMove:function(e,f,g){let h=c(e,f,"move",g),i=Math.min(f,g),j=Math.max(f,g);for(let a=i;a<=j;a++)h.push(b(e,a));let k=Object.keys(a.fieldInfo).reduce((c,d)=>(d.startsWith(b(e,f))&&c.set(d,a.getFieldMeta(d)),c),new Map);d(h,f<g?"up":"down"),Object.keys(a.fieldInfo).filter(a=>a.startsWith(b(e,g))).forEach(c=>{let d=c.replace(b(e,g),b(e,f)),h=k.get(d);h&&a.setFieldMeta(c,h)})},handleArrayRemove:function(a,b){d(c(a,b,"remove"),"up")},handleArraySwap:function(d,e,f){c(d,e,"swap",f).forEach(c=>{if(!c.toString().startsWith(b(d,e)))return;let g=c.toString().replace(b(d,e),b(d,f)),[h,i]=[a.getFieldMeta(c),a.getFieldMeta(g)];h&&a.setFieldMeta(g,h),i&&a.setFieldMeta(c,i)})},handleArrayInsert:function(f,g){let h=c(f,g,"insert");d(h,"down"),h.forEach(c=>{c.toString().startsWith(b(f,g))&&a.setFieldMeta(c,e())})}}}function T(a){return{values:a.values??{},errorMap:a.errorMap??{},fieldMetaBase:a.fieldMetaBase??{},isSubmitted:a.isSubmitted??!1,isSubmitting:a.isSubmitting??!1,isValidating:a.isValidating??!1,submissionAttempts:a.submissionAttempts??0,isSubmitSuccessful:a.isSubmitSuccessful??!1,validationMetaMap:a.validationMetaMap??{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0,onDynamic:void 0}}}class U{constructor(a){this.options={},this.fieldInfo={},this.prevTransformArray=[],this.mount=()=>{let a=this.fieldMetaDerived.mount(),b=this.store.mount(),c=this.store.subscribe(()=>{M(this)}),d=q.on("request-form-state",a=>{a.payload.id===this._formId&&q.emit("form-api",{id:this._formId,state:this.store.state,options:this.options})}),e=q.on("request-form-reset",a=>{a.payload.id===this._formId&&this.reset()}),f=q.on("request-form-force-submit",a=>{a.payload.id===this._formId&&(this._devtoolsSubmissionOverride=!0,this.handleSubmit(),this._devtoolsSubmissionOverride=!1)}),g=()=>{f(),e(),d(),c(),a(),b(),q.emit("form-unmounted",{id:this._formId})};this.options.listeners?.onMount?.({formApi:this});let{onMount:h}=this.options.validators||{};return q.emit("form-api",{id:this._formId,state:this.store.state,options:this.options}),h&&this.validateSync("mount"),g},this.update=a=>{if(!a)return;let b=this.options;this.options=a;let c=!!a.transform?.deps?.some((a,b)=>a!==this.prevTransformArray[b]),d=a.defaultValues&&!F(a.defaultValues,b.defaultValues)&&!this.state.isTouched,e=!F(a.defaultState,b.defaultState)&&!this.state.isTouched;(d||e||c)&&(n(()=>{this.baseStore.setState(()=>T(Object.assign({},this.state,e?a.defaultState:{},d?{values:a.defaultValues}:{},c?{_force_re_eval:!this.state._force_re_eval}:{})))}),q.emit("form-api",{id:this._formId,state:this.store.state,options:this.options}))},this.reset=(a,b)=>{let{fieldMeta:c}=this.state,d=this.resetFieldMeta(c);a&&!b?.keepDefaultValues&&(this.options={...this.options,defaultValues:a}),this.baseStore.setState(()=>T({...this.options.defaultState,values:a??this.options.defaultValues??this.options.defaultState?.values,fieldMetaBase:d}))},this.validateAllFields=async a=>{let b=[];return n(()=>{Object.values(this.fieldInfo).forEach(c=>{if(!c.instance)return;let d=c.instance;b.push(Promise.resolve().then(()=>d.validate(a,{skipFormValidation:!0}))),c.instance.state.meta.isTouched||c.instance.setMeta(a=>({...a,isTouched:!0}))})}),(await Promise.all(b)).flat()},this.validateArrayFieldsStartingFrom=async(a,b,c)=>{let d=this.getFieldValue(a),e=Array.isArray(d)?Math.max(d.length-1,0):null,f=[`${a}[${b}]`];for(let c=b+1;c<=(e??0);c++)f.push(`${a}[${c}]`);let g=Object.keys(this.fieldInfo).filter(a=>f.some(b=>a.startsWith(b))),h=[];return n(()=>{g.forEach(a=>{h.push(Promise.resolve().then(()=>this.validateField(a,c)))})}),(await Promise.all(h)).flat()},this.validateField=(a,b)=>{let c=this.fieldInfo[a]?.instance;return c?(c.state.meta.isTouched||c.setMeta(a=>({...a,isTouched:!0})),c.validate(b)):[]},this.validateSync=a=>{let b=C(a,{...this.options,form:this,validationLogic:this.options.validationLogic||N}),c=!1,d={};return n(()=>{for(let a of b){if(!a.validate)continue;let{formError:b,fieldErrors:e}=V(this.runValidator({validate:a.validate,value:{value:this.state.values,formApi:this,validationSource:"form"},type:"validate"})),f=W(a.cause);for(let a of new Set([...Object.keys(this.state.fieldMeta),...Object.keys(e||{})])){if(void 0===this.baseStore.state.fieldMetaBase[a]&&!e?.[a])continue;let{errorMap:b,errorSourceMap:c}=this.getFieldMeta(a)??R,g=e?.[a],{newErrorValue:h,newSource:i}=G({newFormValidatorError:g,isPreviousErrorFromFormValidator:c?.[f]==="form",previousErrorValue:b?.[f]});"form"===i&&(d[a]={...d[a],[f]:g}),b?.[f]!==h&&this.setFieldMeta(a,(a=R)=>({...a,errorMap:{...a.errorMap,[f]:h},errorSourceMap:{...a.errorSourceMap,[f]:i}}))}this.state.errorMap?.[f]!==b&&this.baseStore.setState(a=>({...a,errorMap:{...a.errorMap,[f]:b}})),(b||e)&&(c=!0)}let e=W("submit");this.state.errorMap?.[e]&&"submit"!==a&&!c&&this.baseStore.setState(a=>({...a,errorMap:{...a.errorMap,[e]:void 0}}));let f=W("server");this.state.errorMap?.[f]&&"server"!==a&&!c&&this.baseStore.setState(a=>({...a,errorMap:{...a.errorMap,[f]:void 0}}))}),{hasErrored:c,fieldsErrorMap:d}},this.validateAsync=async a=>{let b,c=D(a,{...this.options,form:this,validationLogic:this.options.validationLogic||N});this.state.isFormValidating||this.baseStore.setState(a=>({...a,isFormValidating:!0}));let d=[];for(let a of c){if(!a.validate)continue;let c=W(a.cause),e=this.state.validationMetaMap[c];e?.lastAbortController.abort();let f=new AbortController;this.state.validationMetaMap[c]={lastAbortController:f},d.push(new Promise(async c=>{let d;try{d=await new Promise((b,c)=>{setTimeout(async()=>{if(f.signal.aborted)return b(void 0);try{b(await this.runValidator({validate:a.validate,value:{value:this.state.values,formApi:this,validationSource:"form",signal:f.signal},type:"validateAsync"}))}catch(a){c(a)}},a.debounceMs)})}catch(a){d=a}let{formError:e,fieldErrors:g}=V(d);g&&(b=b?{...b,...g}:g);let h=W(a.cause);for(let a of Object.keys(this.state.fieldMeta)){if(void 0===this.baseStore.state.fieldMetaBase[a])continue;let c=this.getFieldMeta(a);if(!c)continue;let{errorMap:d,errorSourceMap:e}=c,{newErrorValue:f,newSource:g}=G({newFormValidatorError:b?.[a],isPreviousErrorFromFormValidator:e?.[h]==="form",previousErrorValue:d?.[h]});d?.[h]!==f&&this.setFieldMeta(a,a=>({...a,errorMap:{...a.errorMap,[h]:f},errorSourceMap:{...a.errorSourceMap,[h]:g}}))}this.baseStore.setState(a=>({...a,errorMap:{...a.errorMap,[h]:e}})),c(b?{fieldErrors:b,errorMapKey:h}:void 0)}))}let e={};if(d.length){for(let a of(await Promise.all(d)))if(a?.fieldErrors){let{errorMapKey:b}=a;for(let[c,d]of Object.entries(a.fieldErrors)){let a={...e[c]||{},[b]:d};e[c]=a}}}return this.baseStore.setState(a=>({...a,isFormValidating:!1})),e},this.validate=a=>{let{hasErrored:b,fieldsErrorMap:c}=this.validateSync(a);return b&&!this.options.asyncAlways?c:this.validateAsync(a)},this._handleSubmit=async a=>{this.baseStore.setState(a=>({...a,isSubmitted:!1,submissionAttempts:a.submissionAttempts+1,isSubmitSuccessful:!1})),n(()=>{Object.values(this.fieldInfo).forEach(a=>{a.instance&&(a.instance.state.meta.isTouched||a.instance.setMeta(a=>({...a,isTouched:!0})))})});let b=a??this.options.onSubmitMeta;if(!this.state.canSubmit&&!this._devtoolsSubmissionOverride)return void this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:b});this.baseStore.setState(a=>({...a,isSubmitting:!0}));let c=()=>{this.baseStore.setState(a=>({...a,isSubmitting:!1}))};if(await this.validateAllFields("submit"),!this.state.isFieldsValid){c(),this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:b}),q.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"validateAllFields",errors:Object.values(this.state.fieldMeta).map(a=>a.errors).flat()});return}if(await this.validate("submit"),!this.state.isValid){c(),this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:b}),q.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"validate",errors:this.state.errors});return}n(()=>{Object.values(this.fieldInfo).forEach(a=>{a.instance?.options.listeners?.onSubmit?.({value:a.instance.state.value,fieldApi:a.instance})})}),this.options.listeners?.onSubmit?.({formApi:this,meta:b});try{await this.options.onSubmit?.({value:this.state.values,formApi:this,meta:b}),n(()=>{this.baseStore.setState(a=>({...a,isSubmitted:!0,isSubmitSuccessful:!0})),q.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!0}),c()})}catch(a){throw this.baseStore.setState(a=>({...a,isSubmitSuccessful:!1})),q.emit("form-submission",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"inflight",onError:a}),c(),a}},this.getFieldValue=a=>s(this.state.values,a),this.getFieldMeta=a=>this.state.fieldMeta[a],this.getFieldInfo=a=>this.fieldInfo[a]||={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0,onDynamic:void 0}},this.setFieldMeta=(a,b)=>{this.baseStore.setState(c=>({...c,fieldMetaBase:{...c.fieldMetaBase,[a]:r(b,c.fieldMetaBase[a])}}))},this.resetFieldMeta=a=>Object.keys(a).reduce((a,b)=>(a[b]=R,a),{}),this.setFieldValue=(a,b,c)=>{let d=c?.dontUpdateMeta??!1,e=c?.dontRunListeners??!1,f=c?.dontValidate??!1;n(()=>{d||this.setFieldMeta(a,a=>({...a,isTouched:!0,isDirty:!0,errorMap:{...a?.errorMap,onMount:void 0}})),this.baseStore.setState(c=>({...c,values:t(c.values,a,b)}))}),e||this.getFieldInfo(a).instance?.triggerOnChangeListener(),f||this.validateField(a,"change")},this.deleteField=a=>{let b=[...Object.keys(this.fieldInfo).filter(b=>{let c=a.toString();return b!==c&&b.startsWith(c)}),a];this.baseStore.setState(a=>{let c={...a};return b.forEach(a=>{var b;let d;b=c.values,d=B(a),c.values=function a(b){if(!b)return;if(1===d.length){let a=d[0];if(Array.isArray(b)&&"number"==typeof a)return b.filter((b,c)=>c!==a);let{[a]:c,...e}=b;return e}let c=d.shift();if(("string"==typeof c||"number"==typeof c&&!Array.isArray(b))&&"object"==typeof b)return{...b,[c]:a(b[c])};if("number"==typeof c&&Array.isArray(b)){if(c>=b.length)return b;let d=b.slice(0,c);return[...d.length?d:Array(c),a(b[c]),...b.slice(c+1)]}throw Error("It seems we have created an infinite loop in deleteBy. ")}(b),delete this.fieldInfo[a],delete c.fieldMetaBase[a]}),c})},this.pushFieldValue=(a,b,c)=>{this.setFieldValue(a,a=>[...Array.isArray(a)?a:[],b],c)},this.insertFieldValue=async(a,b,c,d)=>{this.setFieldValue(a,a=>[...a.slice(0,b),c,...a.slice(b)],I(d,{dontValidate:!0}));let e=d?.dontValidate??!1;e||await this.validateField(a,"change"),S(this).handleArrayInsert(a,b),e||await this.validateArrayFieldsStartingFrom(a,b,"change")},this.replaceFieldValue=async(a,b,c,d)=>{this.setFieldValue(a,a=>a.map((a,d)=>d===b?c:a),I(d,{dontValidate:!0})),d?.dontValidate||(await this.validateField(a,"change"),await this.validateArrayFieldsStartingFrom(a,b,"change"))},this.removeFieldValue=async(a,b,c)=>{let d=this.getFieldValue(a),e=Array.isArray(d)?Math.max(d.length-1,0):null;if(this.setFieldValue(a,a=>a.filter((a,c)=>c!==b),I(c,{dontValidate:!0})),S(this).handleArrayRemove(a,b),null!==e){let b=`${a}[${e}]`;this.deleteField(b)}c?.dontValidate||(await this.validateField(a,"change"),await this.validateArrayFieldsStartingFrom(a,b,"change"))},this.swapFieldValues=(a,b,c,d)=>{this.setFieldValue(a,a=>{let d=a[b],e=a[c];return t(t(a,`${b}`,e),`${c}`,d)},I(d,{dontValidate:!0})),S(this).handleArraySwap(a,b,c),d?.dontValidate||(this.validateField(a,"change"),this.validateField(`${a}[${b}]`,"change"),this.validateField(`${a}[${c}]`,"change"))},this.moveFieldValues=(a,b,c,d)=>{this.setFieldValue(a,a=>{let d=[...a];return d.splice(c,0,d.splice(b,1)[0]),d},I(d,{dontValidate:!0})),S(this).handleArrayMove(a,b,c),d?.dontValidate||(this.validateField(a,"change"),this.validateField(`${a}[${b}]`,"change"),this.validateField(`${a}[${c}]`,"change"))},this.clearFieldValues=(a,b)=>{let c=this.getFieldValue(a),d=Array.isArray(c)?Math.max(c.length-1,0):null;if(this.setFieldValue(a,[],I(b,{dontValidate:!0})),null!==d)for(let b=0;b<=d;b++){let c=`${a}[${b}]`;this.deleteField(c)}b?.dontValidate||this.validateField(a,"change")},this.resetField=a=>{this.baseStore.setState(b=>({...b,fieldMetaBase:{...b.fieldMetaBase,[a]:R},values:this.options.defaultValues?t(b.values,a,s(this.options.defaultValues,a)):b.values}))},this.setErrorMap=a=>{n(()=>{Object.entries(a).forEach(([a,b])=>{if(E(b)){let{formError:c,fieldErrors:d}=V(b);for(let b of Object.keys(this.fieldInfo))this.getFieldMeta(b)&&this.setFieldMeta(b,c=>({...c,errorMap:{...c.errorMap,[a]:d?.[b]},errorSourceMap:{...c.errorSourceMap,[a]:"form"}}));this.baseStore.setState(b=>({...b,errorMap:{...b.errorMap,[a]:c}}))}else this.baseStore.setState(c=>({...c,errorMap:{...c.errorMap,[a]:b}}))})})},this.getAllErrors=()=>({form:{errors:this.state.errors,errorMap:this.state.errorMap},fields:Object.entries(this.state.fieldMeta).reduce((a,[b,c])=>(Object.keys(c).length&&c.errors.length&&(a[b]={errors:c.errors,errorMap:c.errorMap}),a),{})}),this.parseValuesWithSchema=a=>P.validate({value:this.state.values,validationSource:"form"},a),this.parseValuesWithSchemaAsync=a=>P.validateAsync({value:this.state.values,validationSource:"form"},a),this.timeoutIds={validations:{},listeners:{},formListeners:{}},this._formId=a?.formId??L(),this._devtoolsSubmissionOverride=!1,this.baseStore=new d(T({...a?.defaultState,values:a?.defaultValues??a?.defaultState?.values})),this.fieldMetaDerived=new e({deps:[this.baseStore],fn:({prevDepVals:a,currDepVals:b,prevVal:c})=>{let d=a?.[0],e=b[0],f=0,g={};for(let a of Object.keys(e.fieldMetaBase)){var h;let b=e.fieldMetaBase[a],i=d?.fieldMetaBase[a],j=c?.[a],k=s(e.values,a),l=j?.errors;if(!i||b.errorMap!==i.errorMap){l=Object.values(b.errorMap??{}).filter(a=>void 0!==a);let c=this.getFieldInfo(a)?.instance;c&&!c.options.disableErrorFlat&&(l=l.flat(1))}let m=!!(Array.isArray(h=l)&&0===h.length),n=!b.isDirty,o=F(k,s(this.options.defaultValues,a))||F(k,this.getFieldInfo(a)?.instance?.options.defaultValue);if(j&&j.isPristine===n&&j.isValid===m&&j.isDefaultValue===o&&j.errors===l&&b===i){g[a]=j,f++;continue}g[a]={...b,errors:l??[],isPristine:n,isValid:m,isDefaultValue:o}}return Object.keys(e.fieldMetaBase).length&&c&&f===Object.keys(e.fieldMetaBase).length?c:g}}),this.store=new e({deps:[this.baseStore,this.fieldMetaDerived],fn:({prevDepVals:a,currDepVals:b,prevVal:c})=>{let d=a?.[0],e=b[0],f=Object.values(b[1]).filter(Boolean),g=f.some(a=>a.isValidating),h=f.every(a=>a.isValid),i=f.some(a=>a.isTouched),j=f.some(a=>a.isBlurred),k=f.every(a=>a.isDefaultValue),l=i&&e.errorMap?.onMount,m=f.some(a=>a.isDirty),n=!m,o=!!(e.errorMap?.onMount||f.some(a=>a?.errorMap?.onMount)),p=c?.errors??[];d&&e.errorMap===d.errorMap||(p=Object.values(e.errorMap).reduce((a,b)=>(void 0===b||(b&&E(b)?a.push(b.form):a.push(b)),a),[]));let q=0===p.length,r=h&&q,s=this.options.canSubmitWhenInvalid??!1,t=0===e.submissionAttempts&&!i&&!o||!g&&!e.isSubmitting&&r||s,u=e.errorMap;if(l&&(p=p.filter(a=>a!==e.errorMap.onMount),u=Object.assign(u,{onMount:void 0})),c&&d&&c.errorMap===u&&c.fieldMeta===this.fieldMetaDerived.state&&c.errors===p&&c.isFieldsValidating===g&&c.isFieldsValid===h&&c.isFormValid===q&&c.isValid===r&&c.canSubmit===t&&c.isTouched===i&&c.isBlurred===j&&c.isPristine===n&&c.isDefaultValue===k&&c.isDirty===m&&F(d,e))return c;let v={...e,errorMap:u,fieldMeta:this.fieldMetaDerived.state,errors:p,isFieldsValidating:g,isFieldsValid:h,isFormValid:q,isValid:r,canSubmit:t,isTouched:i,isBlurred:j,isPristine:n,isDefaultValue:k,isDirty:m},w=this.options.transform?.deps??[];if(w.length!==this.prevTransformArray.length||w.some((a,b)=>a!==this.prevTransformArray[b])){let a=Object.assign({},this,{state:v});this.options.transform?.fn(a),v=a.state,this.prevTransformArray=w}return v}}),this.handleSubmit=this.handleSubmit.bind(this),this.update(a||{})}get state(){return this.store.state}get formId(){return this._formId}runValidator(a){return Q(a.validate)?P[a.type](a.value,a.validate):a.validate(a.value)}handleSubmit(a){return this._handleSubmit(a)}}function V(a){if(a)return E(a)?{formError:V(a.form).formError,fieldErrors:a.fields}:{formError:a};return{formError:void 0}}function W(a){switch(a){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"dynamic":return"onDynamic";default:return"onChange"}}var X=a.i(864442);function Y(a,b=a=>a,c={}){let d=c.equal??Z;return(0,X.useSyncExternalStoreWithSelector)(a.subscribe,()=>a.state,()=>a.state,b,d)}function Z(a,b){if(Object.is(a,b))return!0;if("object"!=typeof a||null===a||"object"!=typeof b||null===b)return!1;if(a instanceof Map&&b instanceof Map){if(a.size!==b.size)return!1;for(let[c,d]of a)if(!b.has(c)||!Object.is(d,b.get(c)))return!1;return!0}if(a instanceof Set&&b instanceof Set){if(a.size!==b.size)return!1;for(let c of a)if(!b.has(c))return!1;return!0}if(a instanceof Date&&b instanceof Date)return a.getTime()===b.getTime();let c=$(a);if(c.length!==$(b).length)return!1;for(let d=0;d<c.length;d++)if(!Object.prototype.hasOwnProperty.call(b,c[d])||!Object.is(a[c[d]],b[c[d]]))return!1;return!0}function $(a){return Object.keys(a).concat(Object.getOwnPropertySymbols(a))}var _=a.i(572131);class aa{constructor(a){this.options={},this.mount=()=>{let a=this.store.mount();void 0===this.options.defaultValue||this.getMeta().isTouched||this.form.setFieldValue(this.name,this.options.defaultValue,{dontUpdateMeta:!0}),this.getInfo().instance=this,this.update(this.options);let{onMount:b}=this.options.validators||{};if(b){let a=this.runValidator({validate:b,value:{value:this.state.value,fieldApi:this,validationSource:"field"},type:"validate"});a&&this.setMeta(b=>({...b,errorMap:{...b?.errorMap,onMount:a},errorSourceMap:{...b?.errorSourceMap,onMount:"field"}}))}return this.options.listeners?.onMount?.({value:this.state.value,fieldApi:this}),a},this.update=a=>{this.options=a,this.name=a.name,!this.state.meta.isTouched&&void 0!==this.options.defaultValue&&(F(this.form.getFieldValue(this.name),a.defaultValue)||this.form.setFieldValue(this.name,a.defaultValue,{dontUpdateMeta:!0,dontValidate:!0,dontRunListeners:!0})),this.form.getFieldMeta(this.name)||this.form.setFieldMeta(this.name,this.state.meta)},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(a,b)=>{this.form.setFieldValue(this.name,a,I(b,{dontRunListeners:!0,dontValidate:!0})),b?.dontRunListeners||this.triggerOnChangeListener(),b?.dontValidate||this.validate("change")},this.getMeta=()=>this.store.state.meta,this.setMeta=a=>this.form.setFieldMeta(this.name,a),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=(a,b)=>{this.form.pushFieldValue(this.name,a,I(b,{dontRunListeners:!0})),b?.dontRunListeners||this.triggerOnChangeListener()},this.insertValue=(a,b,c)=>{this.form.insertFieldValue(this.name,a,b,I(c,{dontRunListeners:!0})),c?.dontRunListeners||this.triggerOnChangeListener()},this.replaceValue=(a,b,c)=>{this.form.replaceFieldValue(this.name,a,b,I(c,{dontRunListeners:!0})),c?.dontRunListeners||this.triggerOnChangeListener()},this.removeValue=(a,b)=>{this.form.removeFieldValue(this.name,a,I(b,{dontRunListeners:!0})),b?.dontRunListeners||this.triggerOnChangeListener()},this.swapValues=(a,b,c)=>{this.form.swapFieldValues(this.name,a,b,I(c,{dontRunListeners:!0})),c?.dontRunListeners||this.triggerOnChangeListener()},this.moveValue=(a,b,c)=>{this.form.moveFieldValues(this.name,a,b,I(c,{dontRunListeners:!0})),c?.dontRunListeners||this.triggerOnChangeListener()},this.clearValues=a=>{this.form.clearFieldValues(this.name,I(a,{dontRunListeners:!0})),a?.dontRunListeners||this.triggerOnChangeListener()},this.getLinkedFields=a=>{let b=Object.values(this.form.fieldInfo),c=[];for(let d of b){if(!d.instance)continue;let{onChangeListenTo:b,onBlurListenTo:e}=d.instance.options.validators||{};"change"===a&&b?.includes(this.name)&&c.push(d.instance),"blur"===a&&e?.includes(this.name)&&c.push(d.instance)}return c},this.validateSync=(a,b)=>{let c=C(a,{...this.options,form:this.form,validationLogic:this.form.options.validationLogic||N}),d=this.getLinkedFields(a).reduce((b,c)=>{let d=C(a,{...c.options,form:c.form,validationLogic:c.form.options.validationLogic||N});return d.forEach(a=>{a.field=c}),b.concat(d)},[]),e=!1;n(()=>{let a=(a,c)=>{let d=ac(c.cause),f=c.validate?ab(a.runValidator({validate:c.validate,value:{value:a.store.state.value,validationSource:"field",fieldApi:a},type:"validate"})):void 0,{newErrorValue:g,newSource:h}=H({formLevelError:b[d],fieldLevelError:f});a.state.meta.errorMap?.[d]!==g&&a.setMeta(a=>({...a,errorMap:{...a.errorMap,[d]:g},errorSourceMap:{...a.errorSourceMap,[d]:h}})),g&&(e=!0)};for(let b of c)a(this,b);for(let b of d)b.validate&&a(b.field,b)});let f=ac("submit");return this.state.meta.errorMap?.[f]&&"submit"!==a&&!e&&this.setMeta(a=>({...a,errorMap:{...a.errorMap,[f]:void 0},errorSourceMap:{...a.errorSourceMap,[f]:void 0}})),{hasErrored:e}},this.validateAsync=async(a,b)=>{let c=D(a,{...this.options,form:this.form,validationLogic:this.form.options.validationLogic||N}),d=await b,e=this.getLinkedFields(a),f=e.reduce((b,c)=>{let d=D(a,{...c.options,form:c.form,validationLogic:c.form.options.validationLogic||N});return d.forEach(a=>{a.field=c}),b.concat(d)},[]),g=[],h=[],i=c.some(a=>a.validate)||f.some(a=>a.validate);if(i)for(let a of(this.state.meta.isValidating||this.setMeta(a=>({...a,isValidating:!0})),e))a.setMeta(a=>({...a,isValidating:!0}));let j=(a,b,c)=>{let e=ac(b.cause),f=a.getInfo().validationMetaMap[e];f?.lastAbortController.abort();let g=new AbortController;this.getInfo().validationMetaMap[e]={lastAbortController:g},c.push(new Promise(async c=>{let f;try{f=await new Promise((c,d)=>{this.timeoutIds.validations[b.cause]&&clearTimeout(this.timeoutIds.validations[b.cause]),this.timeoutIds.validations[b.cause]=setTimeout(async()=>{if(g.signal.aborted)return c(void 0);try{c(await this.runValidator({validate:b.validate,value:{value:a.store.state.value,fieldApi:a,signal:g.signal,validationSource:"field"},type:"validateAsync"}))}catch(a){d(a)}},b.debounceMs)})}catch(a){f=a}if(g.signal.aborted)return c(void 0);let h=ab(f),{newErrorValue:i,newSource:j}=H({formLevelError:d[this.name]?.[e],fieldLevelError:h});a.setMeta(a=>({...a,errorMap:{...a?.errorMap,[e]:i},errorSourceMap:{...a.errorSourceMap,[e]:j}})),c(i)}))};for(let a of c)a.validate&&j(this,a,g);for(let a of f)a.validate&&j(a.field,a,h);let k=[];if((g.length||h.length)&&(k=await Promise.all(g),await Promise.all(h)),i)for(let a of(this.setMeta(a=>({...a,isValidating:!1})),e))a.setMeta(a=>({...a,isValidating:!1}));return k.filter(Boolean)},this.validate=(a,b)=>{if(!this.state.meta.isTouched)return[];let{fieldsErrorMap:c}=b?.skipFormValidation?{fieldsErrorMap:{}}:this.form.validateSync(a),{hasErrored:d}=this.validateSync(a,c[this.name]??{});if(d&&!this.options.asyncAlways)return this.getInfo().validationMetaMap[ac(a)]?.lastAbortController.abort(),this.state.meta.errors;let e=b?.skipFormValidation?Promise.resolve({}):this.form.validateAsync(a);return this.validateAsync(a,e)},this.handleChange=a=>{this.setValue(a)},this.handleBlur=()=>{this.state.meta.isTouched||this.setMeta(a=>({...a,isTouched:!0})),this.state.meta.isBlurred||this.setMeta(a=>({...a,isBlurred:!0})),this.validate("blur"),this.triggerOnBlurListener()},this.setErrorMap=a=>{this.setMeta(b=>({...b,errorMap:{...b.errorMap,...a}}))},this.parseValueWithSchema=a=>P.validate({value:this.state.value,validationSource:"field"},a),this.parseValueWithSchemaAsync=a=>P.validateAsync({value:this.state.value,validationSource:"field"},a),this.triggerOnChangeListener=()=>{let a=this.form.options.listeners?.onChangeDebounceMs;a&&a>0?(this.timeoutIds.formListeners.change&&clearTimeout(this.timeoutIds.formListeners.change),this.timeoutIds.formListeners.change=setTimeout(()=>{this.form.options.listeners?.onChange?.({formApi:this.form,fieldApi:this})},a)):this.form.options.listeners?.onChange?.({formApi:this.form,fieldApi:this});let b=this.options.listeners?.onChangeDebounceMs;b&&b>0?(this.timeoutIds.listeners.change&&clearTimeout(this.timeoutIds.listeners.change),this.timeoutIds.listeners.change=setTimeout(()=>{this.options.listeners?.onChange?.({value:this.state.value,fieldApi:this})},b)):this.options.listeners?.onChange?.({value:this.state.value,fieldApi:this})},this.form=a.form,this.name=a.name,this.options=a,this.timeoutIds={validations:{},listeners:{},formListeners:{}},this.store=new e({deps:[this.form.store],fn:({prevVal:b})=>{let c=this.form.getFieldMeta(this.name)??{...R,...a.defaultMeta},d=this.form.getFieldValue(this.name);return(c.isTouched||void 0!==d||void 0===this.options.defaultValue||F(d,this.options.defaultValue)||(d=this.options.defaultValue),b&&b.value===d&&b.meta===c)?b:{value:d,meta:c}}})}get state(){return this.store.state}runValidator(a){return Q(a.validate)?P[a.type](a.value,a.validate):a.validate(a.value)}triggerOnBlurListener(){let a=this.form.options.listeners?.onBlurDebounceMs;a&&a>0?(this.timeoutIds.formListeners.blur&&clearTimeout(this.timeoutIds.formListeners.blur),this.timeoutIds.formListeners.blur=setTimeout(()=>{this.form.options.listeners?.onBlur?.({formApi:this.form,fieldApi:this})},a)):this.form.options.listeners?.onBlur?.({formApi:this.form,fieldApi:this});let b=this.options.listeners?.onBlurDebounceMs;b&&b>0?(this.timeoutIds.listeners.blur&&clearTimeout(this.timeoutIds.listeners.blur),this.timeoutIds.listeners.blur=setTimeout(()=>{this.options.listeners?.onBlur?.({value:this.state.value,fieldApi:this})},b)):this.options.listeners?.onBlur?.({value:this.state.value,fieldApi:this})}}function ab(a){if(a)return a}function ac(a){switch(a){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"dynamic":return"onDynamic";default:return"onChange"}}let ad=_.useEffect,ae=({children:a,...b})=>{let d=function(a){let[b,c]=(0,_.useState)(()=>({form:a.form,name:a.name})),[d,e]=(0,_.useState)(()=>new aa({...a}));(b.form!==a.form||b.name!==a.name)&&(e(new aa({...a})),c({form:a.form,name:a.name}));let f=Y(d.store,"array"===a.mode?a=>Object.keys(a.value??[]).length:a=>a.value),g=Y(d.store,a=>a.meta.isTouched),h=Y(d.store,a=>a.meta.isBlurred),i=Y(d.store,a=>a.meta.isDirty),j=Y(d.store,a=>a.meta.errorMap),k=Y(d.store,a=>a.meta.errorSourceMap),l=Y(d.store,a=>a.meta.isValidating),m=(0,_.useMemo)(()=>{let b={...d,get state(){return{value:"array"===a.mode?d.state.value:f,get meta(){return{...d.state.meta,isTouched:g,isBlurred:h,isDirty:i,errorMap:j,errorSourceMap:k,isValidating:l}}}}};return b.Field=ae,b},[d,a.mode,f,g,h,i,j,k,l]);return ad(d.mount,[d]),ad(()=>{d.update(a)}),m}(b),e=(0,_.useMemo)(()=>r(a,d),[a,d]);return(0,c.jsx)(c.Fragment,{children:e})},af="17"===_.version.split(".")[0]?function(){return(0,_.useState)(()=>L())[0]}:_.useId;function ag({form:a,selector:b,children:d}){let e=Y(a.store,b);return(0,c.jsx)(c.Fragment,{children:r(d,e)})}function ah(a){let b=af(),[d,e]=(0,_.useState)(a?.formId),[f,g]=(0,_.useState)(()=>new U({...a,formId:a?.formId??b}));if(d!==a?.formId){let c=a?.formId??b;g(new U({...a,formId:c})),e(c)}let h=(0,_.useMemo)(()=>{let a={...f,handleSubmit:(...a)=>f._handleSubmit(...a),get formId(){return f._formId},get state(){return f.store.state}};return a.Field=function(a){return(0,c.jsx)(ae,{...a,form:f})},a.Subscribe=function(a){return(0,c.jsx)(ag,{form:f,selector:a.selector,children:a.children})},a},[f]);return ad(f.mount,[]),ad(()=>{f.update(a)}),h}a.s(["useForm",()=>ah],811182);var ai=a.i(400187),aj=a.i(700760),ak=a.i(658547);function al({className:a,...b}){return(0,c.jsx)("fieldset",{"data-slot":"field-set",className:(0,aj.cn)("flex flex-col gap-6","has-[>[data-slot=checkbox-group]]:gap-3 has-[>[data-slot=radio-group]]:gap-3",a),...b})}function am({className:a,variant:b="legend",...d}){return(0,c.jsx)("legend",{"data-slot":"field-legend","data-variant":b,className:(0,aj.cn)("mb-3 font-medium","data-[variant=legend]:text-base","data-[variant=label]:text-sm",a),...d})}function an({className:a,...b}){return(0,c.jsx)("div",{"data-slot":"field-group",className:(0,aj.cn)("group/field-group @container/field-group flex w-full flex-col gap-7 data-[slot=checkbox-group]:gap-3 [&>[data-slot=field-group]]:gap-4",a),...b})}a.i(820658);let ao=(0,ai.cva)("group/field flex w-full gap-3 data-[invalid=true]:text-destructive",{variants:{orientation:{vertical:["flex-col [&>*]:w-full [&>.sr-only]:w-auto"],horizontal:["flex-row items-center","[&>[data-slot=field-label]]:flex-auto","has-[>[data-slot=field-content]]:items-start has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px"],responsive:["flex-col [&>*]:w-full [&>.sr-only]:w-auto @md/field-group:flex-row @md/field-group:items-center @md/field-group:[&>*]:w-auto","@md/field-group:[&>[data-slot=field-label]]:flex-auto","@md/field-group:has-[>[data-slot=field-content]]:items-start @md/field-group:has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px"]}},defaultVariants:{orientation:"vertical"}});function ap({className:a,orientation:b="vertical",...d}){return(0,c.jsx)("div",{role:"group","data-slot":"field","data-orientation":b,className:(0,aj.cn)(ao({orientation:b}),a),...d})}function aq({className:a,...b}){return(0,c.jsx)(ak.Label,{"data-slot":"field-label",className:(0,aj.cn)("group/field-label peer/field-label flex w-fit gap-2 leading-snug group-data-[disabled=true]/field:opacity-50","has-[>[data-slot=field]]:w-full has-[>[data-slot=field]]:flex-col has-[>[data-slot=field]]:rounded-md has-[>[data-slot=field]]:border [&>*]:data-[slot=field]:p-4","has-data-[state=checked]:bg-primary/5 has-data-[state=checked]:border-primary dark:has-data-[state=checked]:bg-primary/10",a),...b})}function ar({className:a,...b}){return(0,c.jsx)("p",{"data-slot":"field-description",className:(0,aj.cn)("text-muted-foreground text-sm leading-normal font-normal group-has-[[data-orientation=horizontal]]/field:text-balance","last:mt-0 nth-last-2:-mt-1 [[data-variant=legend]+&]:-mt-1.5","[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4",a),...b})}function as({className:a,children:b,errors:d,...e}){let f=(0,_.useMemo)(()=>b||(d?d?.length===1&&d[0]?.message?d[0].message:(0,c.jsx)("ul",{className:"ml-4 flex list-disc flex-col gap-1",children:d.map((a,b)=>a?.message&&(0,c.jsx)("li",{children:a.message},b))}):null),[b,d]);return f?(0,c.jsx)("div",{role:"alert","data-slot":"field-error",className:(0,aj.cn)("text-destructive text-sm font-normal",a),...e,children:f}):null}a.s(["Field",()=>ap,"FieldDescription",()=>ar,"FieldError",()=>as,"FieldGroup",()=>an,"FieldLabel",()=>aq,"FieldLegend",()=>am,"FieldSet",()=>al],84059)}];

//# sourceMappingURL=node_modules_%40tanstack_react-form_dist_esm_useForm_f5d00d2d.js.map