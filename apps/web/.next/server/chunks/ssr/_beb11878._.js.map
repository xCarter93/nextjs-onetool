{"version":3,"sources":["../../../../../../node_modules/lucide-react/src/icons/history.ts","../../../../../../apps/web/src/app/%28workspace%29/quotes/components/QuotePDF.tsx","../../../../../../apps/web/src/app/%28workspace%29/quotes/components/document-selection-modal.tsx","../../../../../../apps/web/src/app/%28workspace%29/quotes/components/send-email-popover.tsx","../../../../../../apps/web/src/components/ui/tags-input.tsx","../../../../../../apps/web/src/app/%28workspace%29/quotes/components/signature-progress-bar.tsx","../../../../../../apps/web/src/app/%28workspace%29/quotes/%5BquoteId%5D/page.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8', key: '1357e3' }],\n  ['path', { d: 'M3 3v5h5', key: '1xhq8a' }],\n  ['path', { d: 'M12 7v5l4 2', key: '1fdv2h' }],\n];\n\n/**\n * @component @name History\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAxMmE5IDkgMCAxIDAgOS05IDkuNzUgOS43NSAwIDAgMC02Ljc0IDIuNzRMMyA4IiAvPgogIDxwYXRoIGQ9Ik0zIDN2NWg1IiAvPgogIDxwYXRoIGQ9Ik0xMiA3djVsNCAyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/history\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst History = createLucideIcon('history', __iconNode);\n\nexport default History;\n","import React from \"react\";\nimport {\n\tDocument,\n\tPage,\n\tText,\n\tView,\n\tStyleSheet,\n\tImage,\n} from \"@react-pdf/renderer\";\nimport type { Id } from \"@onetool/backend/convex/_generated/dataModel\";\n\ntype QuoteLineItem = {\n\t_id: Id<\"quoteLineItems\">;\n\tdescription: string;\n\tquantity: number;\n\tunit: string;\n\trate: number;\n\tamount: number;\n};\n\ntype Quote = {\n\t_id: Id<\"quotes\">;\n\tquoteNumber?: string;\n\t_creationTime: number;\n\tvalidUntil?: number;\n\ttitle?: string;\n\tsubtotal: number;\n\tdiscountEnabled?: boolean;\n\tdiscountAmount?: number;\n\tdiscountType?: \"percentage\" | \"fixed\";\n\ttaxEnabled?: boolean;\n\ttaxAmount?: number;\n\ttotal: number;\n\tterms?: string;\n\tclientMessage?: string;\n};\n\ntype Client = {\n\tcompanyName: string;\n\tindustry?: string;\n};\n\ntype Organization = {\n\tname: string;\n\tlogoUrl?: string;\n\taddress?: string;\n\tphone?: string;\n\temail?: string;\n};\n\nexport interface QuotePDFProps {\n\tquote: Quote;\n\tclient?: Client | null;\n\titems: QuoteLineItem[];\n\torganization?: Organization | null;\n}\n\nconst styles = StyleSheet.create({\n\tpage: {\n\t\tflexDirection: \"column\",\n\t\tbackgroundColor: \"#FFFFFF\",\n\t\tpadding: 28,\n\t\tfontSize: 11,\n\t\tfontFamily: \"Helvetica\",\n\t},\n\tlogoSection: {\n\t\tmarginBottom: 16,\n\t\talignItems: \"flex-start\",\n\t},\n\tlogoContainer: {\n\t\twidth: 160,\n\t\theight: 60,\n\t},\n\tlogo: {\n\t\twidth: \"100%\",\n\t\theight: \"100%\",\n\t\tobjectFit: \"contain\",\n\t\tobjectPosition: \"left center\",\n\t},\n\theader: {\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"space-between\",\n\t\tmarginBottom: 24,\n\t\tpaddingBottom: 12,\n\t\tborderBottomWidth: 2,\n\t\tborderBottomColor: \"#000000\",\n\t},\n\theaderLeft: {\n\t\tflexDirection: \"column\",\n\t\tmaxWidth: 280,\n\t},\n\theaderRight: {\n\t\tflexDirection: \"column\",\n\t\talignItems: \"flex-end\",\n\t\tjustifyContent: \"flex-start\",\n\t},\n\ttitle: {\n\t\tfontSize: 32,\n\t\tfontWeight: \"bold\",\n\t\tcolor: \"#000000\",\n\t\tmarginBottom: 8,\n\t\tletterSpacing: 1,\n\t},\n\tsubtitle: {\n\t\tfontSize: 10,\n\t\tcolor: \"#374151\",\n\t\tmarginBottom: 2,\n\t\tlineHeight: 1.5,\n\t},\n\tquoteNumber: {\n\t\tfontSize: 20,\n\t\tfontWeight: \"bold\",\n\t\tcolor: \"#000000\",\n\t\tmarginBottom: 8,\n\t},\n\tdate: {\n\t\tfontSize: 10,\n\t\tcolor: \"#6B7280\",\n\t},\n\tquoteMeta: {\n\t\tbackgroundColor: \"#F9FAFB\",\n\t\tborderWidth: 1,\n\t\tborderColor: \"#E5E7EB\",\n\t\tborderRadius: 4,\n\t\tpadding: 10,\n\t\tminWidth: 200,\n\t},\n\tmetaRow: {\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"space-between\",\n\t\tmarginBottom: 4,\n\t},\n\tmetaLabel: {\n\t\tfontSize: 10,\n\t\tcolor: \"#6B7280\",\n\t\tfontWeight: \"bold\",\n\t},\n\tmetaValue: {\n\t\tfontSize: 10,\n\t\tcolor: \"#1F2937\",\n\t\tmarginLeft: 16,\n\t},\n\tbillToSection: {\n\t\tmarginTop: 8,\n\t\tmarginBottom: 16,\n\t\tpadding: 12,\n\t\tbackgroundColor: \"#F9FAFB\",\n\t\tborderRadius: 4,\n\t},\n\tsectionTitle: {\n\t\tfontSize: 11,\n\t\tfontWeight: \"bold\",\n\t\tcolor: \"#1F2937\",\n\t\tmarginBottom: 8,\n\t\ttextTransform: \"uppercase\",\n\t\tletterSpacing: 0.5,\n\t},\n\tbillToContent: {\n\t\tfontSize: 11,\n\t\tcolor: \"#374151\",\n\t\tlineHeight: 1.6,\n\t},\n\titemsTable: {\n\t\tmarginTop: 12,\n\t\tmarginBottom: 16,\n\t\tborderWidth: 1,\n\t\tborderColor: \"#E5E7EB\",\n\t\tborderRadius: 4,\n\t},\n\ttableHeader: {\n\t\tflexDirection: \"row\",\n\t\tbackgroundColor: \"#1F2937\",\n\t\tpaddingVertical: 10,\n\t\tpaddingHorizontal: 12,\n\t},\n\ttableRow: {\n\t\tflexDirection: \"row\",\n\t\tborderBottomWidth: 1,\n\t\tborderBottomColor: \"#E5E7EB\",\n\t\tpaddingVertical: 10,\n\t\tpaddingHorizontal: 12,\n\t\tbackgroundColor: \"#FFFFFF\",\n\t},\n\ttableCell: {\n\t\tfontSize: 10,\n\t\tcolor: \"#374151\",\n\t\tlineHeight: 1.4,\n\t},\n\ttableCellDescription: { flex: 3 },\n\ttableCellQuantity: { flex: 1, textAlign: \"center\" },\n\ttableCellUnit: { flex: 1, textAlign: \"center\" },\n\ttableCellPrice: { flex: 1.5, textAlign: \"right\" },\n\ttableCellTotal: {\n\t\tflex: 1.5,\n\t\ttextAlign: \"right\",\n\t\tfontWeight: \"bold\",\n\t\tcolor: \"#1F2937\",\n\t},\n\ttableHeaderCell: {\n\t\tfontSize: 10,\n\t\tfontWeight: \"bold\",\n\t\tcolor: \"#FFFFFF\",\n\t\ttextTransform: \"uppercase\",\n\t\tletterSpacing: 0.8,\n\t},\n\ttotalsSection: {\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"flex-end\",\n\t\tmarginTop: 12,\n\t\tmarginBottom: 16,\n\t},\n\ttotalsContainer: {\n\t\twidth: 260,\n\t\tborderWidth: 1,\n\t\tborderColor: \"#E5E7EB\",\n\t\tborderRadius: 4,\n\t\tpadding: 12,\n\t\tbackgroundColor: \"#F9FAFB\",\n\t},\n\ttotalRow: {\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"space-between\",\n\t\tpaddingVertical: 4,\n\t},\n\ttotalLabel: {\n\t\tfontSize: 11,\n\t\tcolor: \"#6B7280\",\n\t},\n\ttotalValue: {\n\t\tfontSize: 11,\n\t\tcolor: \"#374151\",\n\t\tfontWeight: \"bold\",\n\t},\n\tgrandTotalRow: {\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"space-between\",\n\t\tpaddingVertical: 8,\n\t\tpaddingTop: 10,\n\t\tborderTopWidth: 2,\n\t\tborderTopColor: \"#1F2937\",\n\t\tmarginTop: 6,\n\t},\n\tgrandTotalLabel: {\n\t\tfontSize: 14,\n\t\tfontWeight: \"bold\",\n\t\tcolor: \"#000000\",\n\t},\n\tgrandTotalValue: {\n\t\tfontSize: 16,\n\t\tfontWeight: \"bold\",\n\t\tcolor: \"#000000\",\n\t},\n\ttermsSection: {\n\t\tmarginTop: 6,\n\t\tmarginBottom: 12,\n\t\tpadding: 12,\n\t\tbackgroundColor: \"#F9FAFB\",\n\t\tborderRadius: 4,\n\t\tborderLeftWidth: 3,\n\t\tborderLeftColor: \"#1F2937\",\n\t},\n\ttermsContent: {\n\t\tfontSize: 10,\n\t\tcolor: \"#4B5563\",\n\t\tlineHeight: 1.6,\n\t},\n\tsignatureSection: {\n\t\tmarginTop: 32,\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"space-between\",\n\t\tgap: 40,\n\t},\n\tsignatureBox: {\n\t\tflex: 1,\n\t\tborderBottomWidth: 1.5,\n\t\tborderBottomColor: \"#1F2937\",\n\t\tpaddingBottom: 8,\n\t},\n\tsignatureLabel: {\n\t\tfontSize: 10,\n\t\tcolor: \"#6B7280\",\n\t\tmarginBottom: 32,\n\t\tfontWeight: \"bold\",\n\t\ttextTransform: \"uppercase\",\n\t\tletterSpacing: 0.5,\n\t},\n});\n\nconst formatCurrency = (amount: number) =>\n\tnew Intl.NumberFormat(\"en-US\", { style: \"currency\", currency: \"USD\" }).format(\n\t\tamount\n\t);\n\nconst formatDate = (timestamp: number) =>\n\tnew Date(timestamp).toLocaleDateString(\"en-US\", {\n\t\tyear: \"numeric\",\n\t\tmonth: \"long\",\n\t\tday: \"numeric\",\n\t});\n\nexport const QuotePDF: React.FC<QuotePDFProps> = ({\n\tquote,\n\tclient,\n\titems,\n\torganization,\n}) => {\n\treturn (\n\t\t<Document>\n\t\t\t<Page size=\"A4\" style={styles.page}>\n\t\t\t\t{/* Logo Section */}\n\t\t\t\t{organization?.logoUrl ? (\n\t\t\t\t\t<View style={styles.logoSection}>\n\t\t\t\t\t\t<View style={styles.logoContainer}>\n\t\t\t\t\t\t\t{/* eslint-disable-next-line jsx-a11y/alt-text */}\n\t\t\t\t\t\t\t<Image style={styles.logo} src={organization.logoUrl} />\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</View>\n\t\t\t\t) : null}\n\n\t\t\t\t{/* Header */}\n\t\t\t\t<View style={styles.header}>\n\t\t\t\t\t<View style={styles.headerLeft}>\n\t\t\t\t\t\t<Text style={styles.title}>QUOTE</Text>\n\t\t\t\t\t\t{organization?.name ? (\n\t\t\t\t\t\t\t<Text style={styles.subtitle}>{organization.name}</Text>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{organization?.address ? (\n\t\t\t\t\t\t\t<Text style={styles.subtitle}>{organization.address}</Text>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{organization?.phone ? (\n\t\t\t\t\t\t\t<Text style={styles.subtitle}>Phone: {organization.phone}</Text>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{organization?.email ? (\n\t\t\t\t\t\t\t<Text style={styles.subtitle}>Email: {organization.email}</Text>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</View>\n\t\t\t\t\t<View style={styles.headerRight}>\n\t\t\t\t\t\t<Text style={styles.quoteNumber}>\n\t\t\t\t\t\t\tQuote {quote.quoteNumber || `#${quote._id.slice(-6)}`}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<View style={styles.quoteMeta}>\n\t\t\t\t\t\t\t<View style={styles.metaRow}>\n\t\t\t\t\t\t\t\t<Text style={styles.metaLabel}>Date:</Text>\n\t\t\t\t\t\t\t\t<Text style={styles.metaValue}>\n\t\t\t\t\t\t\t\t\t{formatDate(quote._creationTime)}\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t{quote.validUntil ? (\n\t\t\t\t\t\t\t\t<View style={styles.metaRow}>\n\t\t\t\t\t\t\t\t\t<Text style={styles.metaLabel}>Valid Until:</Text>\n\t\t\t\t\t\t\t\t\t<Text style={styles.metaValue}>\n\t\t\t\t\t\t\t\t\t\t{formatDate(quote.validUntil)}\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n\n\t\t\t\t{/* Bill To Section */}\n\t\t\t\t<View style={styles.billToSection} wrap={false}>\n\t\t\t\t\t<Text style={styles.sectionTitle}>Bill To:</Text>\n\t\t\t\t\t<View style={styles.billToContent}>\n\t\t\t\t\t\t{client ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Text>{client.companyName}</Text>\n\t\t\t\t\t\t\t\t{client.industry ? <Text>{client.industry}</Text> : null}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Text>Client details unavailable</Text>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n\n\t\t\t\t{/* Items Table */}\n\t\t\t\t<View style={styles.itemsTable} wrap={false}>\n\t\t\t\t\t<View style={styles.tableHeader}>\n\t\t\t\t\t\t<Text style={[styles.tableHeaderCell, styles.tableCellDescription]}>\n\t\t\t\t\t\t\tDescription\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<Text style={[styles.tableHeaderCell, styles.tableCellQuantity]}>\n\t\t\t\t\t\t\tQty\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<Text style={[styles.tableHeaderCell, styles.tableCellUnit]}>\n\t\t\t\t\t\t\tUnit\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<Text style={[styles.tableHeaderCell, styles.tableCellPrice]}>\n\t\t\t\t\t\t\tRate\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<Text style={[styles.tableHeaderCell, styles.tableCellTotal]}>\n\t\t\t\t\t\t\tAmount\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</View>\n\t\t\t\t\t{items.map((item) => (\n\t\t\t\t\t\t<View key={String(item._id)} style={styles.tableRow}>\n\t\t\t\t\t\t\t<Text style={[styles.tableCell, styles.tableCellDescription]}>\n\t\t\t\t\t\t\t\t{item.description}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text style={[styles.tableCell, styles.tableCellQuantity]}>\n\t\t\t\t\t\t\t\t{item.quantity}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text style={[styles.tableCell, styles.tableCellUnit]}>\n\t\t\t\t\t\t\t\t{item.unit}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text style={[styles.tableCell, styles.tableCellPrice]}>\n\t\t\t\t\t\t\t\t{formatCurrency(item.rate)}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Text style={[styles.tableCell, styles.tableCellTotal]}>\n\t\t\t\t\t\t\t\t{formatCurrency(item.amount)}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t))}\n\t\t\t\t</View>\n\n\t\t\t\t{/* Totals */}\n\t\t\t\t<View style={styles.totalsSection} wrap={false}>\n\t\t\t\t\t<View style={styles.totalsContainer}>\n\t\t\t\t\t\t<View style={styles.totalRow}>\n\t\t\t\t\t\t\t<Text style={styles.totalLabel}>Subtotal:</Text>\n\t\t\t\t\t\t\t<Text style={styles.totalValue}>\n\t\t\t\t\t\t\t\t{formatCurrency(quote.subtotal)}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t\t{quote.discountEnabled && quote.discountAmount ? (\n\t\t\t\t\t\t\t<View style={styles.totalRow}>\n\t\t\t\t\t\t\t\t<Text style={styles.totalLabel}>Discount:</Text>\n\t\t\t\t\t\t\t\t<Text style={styles.totalValue}>\n\t\t\t\t\t\t\t\t\t{quote.discountType === \"percentage\"\n\t\t\t\t\t\t\t\t\t\t? `-${quote.discountAmount}%`\n\t\t\t\t\t\t\t\t\t\t: `- ${formatCurrency(quote.discountAmount)}`}\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{quote.taxEnabled && quote.taxAmount ? (\n\t\t\t\t\t\t\t<View style={styles.totalRow}>\n\t\t\t\t\t\t\t\t<Text style={styles.totalLabel}>Tax:</Text>\n\t\t\t\t\t\t\t\t<Text style={styles.totalValue}>\n\t\t\t\t\t\t\t\t\t{formatCurrency(quote.taxAmount)}\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t<View style={styles.grandTotalRow}>\n\t\t\t\t\t\t\t<Text style={styles.grandTotalLabel}>Total:</Text>\n\t\t\t\t\t\t\t<Text style={styles.grandTotalValue}>\n\t\t\t\t\t\t\t\t{formatCurrency(quote.total)}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n\n\t\t\t\t{/* Terms & Client Message */}\n\t\t\t\t{quote.terms ? (\n\t\t\t\t\t<View style={styles.termsSection} wrap={false}>\n\t\t\t\t\t\t<Text style={styles.sectionTitle}>Terms & Conditions:</Text>\n\t\t\t\t\t\t<Text style={styles.termsContent}>{quote.terms}</Text>\n\t\t\t\t\t</View>\n\t\t\t\t) : null}\n\t\t\t\t{quote.clientMessage ? (\n\t\t\t\t\t<View style={styles.termsSection} wrap={false}>\n\t\t\t\t\t\t<Text style={styles.sectionTitle}>Message to Client:</Text>\n\t\t\t\t\t\t<Text style={styles.termsContent}>{quote.clientMessage}</Text>\n\t\t\t\t\t</View>\n\t\t\t\t) : null}\n\n\t\t\t\t{/* Signature Section with BoldSign text tags */}\n\t\t\t\t<View style={styles.signatureSection} wrap={false}>\n\t\t\t\t\t<View style={{ width: \"45%\" }}>\n\t\t\t\t\t\t<Text style={{ fontSize: 10, color: \"#1F2937\", marginBottom: 5 }}>\n\t\t\t\t\t\t\tSignature:\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t{/* BoldSign text tag - no placeholder for sign fields */}\n\t\t\t\t\t\t<Text style={{ fontSize: 8, color: \"#FFFFFF\" }}>\n\t\t\t\t\t\t\t{`{{sign|1|*||client_signature}}`}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<View\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tborderBottomWidth: 1,\n\t\t\t\t\t\t\t\tborderBottomColor: \"#1F2937\",\n\t\t\t\t\t\t\t\tmarginTop: 20,\n\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</View>\n\t\t\t\t\t<View style={{ width: \"45%\" }}>\n\t\t\t\t\t\t<Text style={{ fontSize: 10, color: \"#1F2937\", marginBottom: 5 }}>\n\t\t\t\t\t\t\tDate:\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t{/* BoldSign text tag - no placeholder for date fields */}\n\t\t\t\t\t\t<Text style={{ fontSize: 8, color: \"#FFFFFF\" }}>\n\t\t\t\t\t\t\t{`{{date|1|*||date_signed}}`}\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<View\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tborderBottomWidth: 1,\n\t\t\t\t\t\t\t\tborderBottomColor: \"#1F2937\",\n\t\t\t\t\t\t\t\tmarginTop: 20,\n\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</View>\n\t\t\t\t</View>\n\t\t\t</Page>\n\t\t</Document>\n\t);\n};\n\nexport default QuotePDF;\n","\"use client\";\n\nimport { useState } from \"react\";\nimport Modal from \"@/components/ui/modal\";\nimport { StyledButton } from \"@/components/ui/styled/styled-button\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { useQuery } from \"convex/react\";\nimport { api } from \"@onetool/backend/convex/_generated/api\";\nimport type { Id } from \"@onetool/backend/convex/_generated/dataModel\";\nimport { FileText, ExternalLink } from \"lucide-react\";\n\ninterface DocumentSelectionModalProps {\n\tisOpen: boolean;\n\tonClose: () => void;\n\tonConfirm: (selectedDocumentIds: Id<\"organizationDocuments\">[]) => void;\n}\n\nexport function DocumentSelectionModal({\n\tisOpen,\n\tonClose,\n\tonConfirm,\n}: DocumentSelectionModalProps) {\n\tconst [selectedIds, setSelectedIds] = useState<Id<\"organizationDocuments\">[]>(\n\t\t[]\n\t);\n\tconst documents = useQuery(api.organizationDocuments.list);\n\n\tconst handleToggle = (id: Id<\"organizationDocuments\">) => {\n\t\tsetSelectedIds((prev) =>\n\t\t\tprev.includes(id) ? prev.filter((x) => x !== id) : [...prev, id]\n\t\t);\n\t};\n\n\tconst handleConfirm = () => {\n\t\tonConfirm(selectedIds);\n\t\tsetSelectedIds([]);\n\t\tonClose();\n\t};\n\n\tconst handleClose = () => {\n\t\tsetSelectedIds([]);\n\t\tonClose();\n\t};\n\n\tconst formatFileSize = (bytes?: number) => {\n\t\tif (!bytes) return \"\";\n\t\tif (bytes < 1024) return `${bytes} B`;\n\t\tif (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`;\n\t\treturn `${(bytes / (1024 * 1024)).toFixed(1)} MB`;\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={isOpen}\n\t\t\tonClose={handleClose}\n\t\t\ttitle=\"Append Documents to Quote\"\n\t\t\tsize=\"lg\"\n\t\t>\n\t\t\t<div className=\"space-y-4\">\n\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\tOptionally select documents to append to your quote PDF. Selected\n\t\t\t\t\tdocuments will be added after the quote content, or continue without\n\t\t\t\t\tattachments.\n\t\t\t\t</p>\n\n\t\t\t\t{documents === undefined ? (\n\t\t\t\t\t<div className=\"text-center py-8\">\n\t\t\t\t\t\t<div className=\"animate-pulse space-y-4\">\n\t\t\t\t\t\t\t<div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mx-auto\"></div>\n\t\t\t\t\t\t\t<div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mx-auto\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : documents.length === 0 ? (\n\t\t\t\t\t<div className=\"text-center py-8 px-4 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg\">\n\t\t\t\t\t\t<FileText className=\"h-12 w-12 text-gray-400 mx-auto mb-3\" />\n\t\t\t\t\t\t<p className=\"text-muted-foreground mb-2 font-medium\">\n\t\t\t\t\t\t\tNo documents available\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p className=\"text-sm text-gray-500 dark:text-gray-400 mb-4\">\n\t\t\t\t\t\t\tUpload documents in Settings â†’ Documents to use them in quotes\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"/organization/profile?tab=documents\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<StyledButton intent=\"outline\" size=\"sm\">\n\t\t\t\t\t\t\t\t<ExternalLink className=\"h-3 w-3 mr-2\" />\n\t\t\t\t\t\t\t\tGo to Documents\n\t\t\t\t\t\t\t</StyledButton>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"space-y-2 max-h-96 overflow-y-auto\">\n\t\t\t\t\t\t{documents.map((doc) => (\n\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\tkey={doc._id}\n\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-3 p-3 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-muted/50 cursor-pointer transition-colors\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tchecked={selectedIds.includes(doc._id)}\n\t\t\t\t\t\t\t\t\tonCheckedChange={() => handleToggle(doc._id)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-center w-8 h-8 rounded bg-blue-100 dark:bg-blue-900/30 shrink-0\">\n\t\t\t\t\t\t\t\t\t<FileText className=\"h-5 w-5 text-blue-600 dark:text-blue-400\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"flex-1 min-w-0\">\n\t\t\t\t\t\t\t\t\t<p className=\"font-medium text-gray-900 dark:text-white truncate\">\n\t\t\t\t\t\t\t\t\t\t{doc.name}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t<span>{new Date(doc.uploadedAt).toLocaleDateString()}</span>\n\t\t\t\t\t\t\t\t\t\t{doc.fileSize && (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<span>â€¢</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span>{formatFileSize(doc.fileSize)}</span>\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{doc.description && (\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-gray-600 dark:text-gray-400 mt-1 line-clamp-1\">\n\t\t\t\t\t\t\t\t\t\t\t{doc.description}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"flex justify-between items-center pt-4 border-t border-gray-200 dark:border-gray-700\">\n\t\t\t\t\t<div className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t{selectedIds.length > 0 ? (\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{selectedIds.length} document{selectedIds.length !== 1 && \"s\"}{\" \"}\n\t\t\t\t\t\t\t\tselected\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<span className=\"text-gray-500 dark:text-gray-400 italic\">\n\t\t\t\t\t\t\t\tNo documents selected\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"flex gap-2\">\n\t\t\t\t\t\t<StyledButton intent=\"outline\" onClick={handleClose}>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</StyledButton>\n\t\t\t\t\t\t<StyledButton intent=\"primary\" onClick={handleConfirm}>\n\t\t\t\t\t\t\t{selectedIds.length > 0\n\t\t\t\t\t\t\t\t? `Generate with ${selectedIds.length} document${selectedIds.length !== 1 ? \"s\" : \"\"}`\n\t\t\t\t\t\t\t\t: \"Generate PDF Only\"}\n\t\t\t\t\t\t</StyledButton>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n}\n","\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport {\n\tPopover,\n\tPopoverTrigger,\n\tPopoverContent,\n} from \"@/components/ui/popover\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { TagsInput } from \"@/components/ui/tags-input\";\nimport { Mail, X, FileText } from \"lucide-react\";\nimport { Recipient } from \"@/types/quote\";\n\ninterface SendEmailPopoverProps {\n\tisOpen: boolean;\n\tonOpenChange: (open: boolean) => void;\n\tonConfirm: (recipients: Recipient[], message?: string) => Promise<void>;\n\tprimaryContact?: {\n\t\tfirstName: string;\n\t\tlastName: string;\n\t\temail?: string;\n\t} | null;\n\tquoteNumber?: string;\n\tdocumentVersion?: number;\n\tchildren: React.ReactNode;\n}\n\nconst isValidEmail = (email: string): boolean => {\n\tconst emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n\treturn emailRegex.test(email);\n};\n\nexport function SendEmailPopover({\n\tisOpen,\n\tonOpenChange,\n\tonConfirm,\n\tprimaryContact,\n\tquoteNumber,\n\tdocumentVersion,\n\tchildren,\n}: SendEmailPopoverProps) {\n\tconst [ccEmails, setCcEmails] = useState<string[]>([]);\n\tconst [message, setMessage] = useState(\"\");\n\tconst [isSending, setIsSending] = useState(false);\n\n\t// Reset form when popover opens\n\tuseEffect(() => {\n\t\tif (isOpen) {\n\t\t\tsetCcEmails([]);\n\t\t\tsetMessage(\"\");\n\t\t}\n\t}, [isOpen]);\n\n\tconst handleSend = async () => {\n\t\tif (!primaryContact?.email) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Validate all CC emails\n\t\tconst invalidEmails = ccEmails.filter((email) => !isValidEmail(email));\n\t\tif (invalidEmails.length > 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetIsSending(true);\n\n\t\ttry {\n\t\t\t// Build recipients array\n\t\t\tconst recipients: Recipient[] = [\n\t\t\t\t{\n\t\t\t\t\tid: crypto.randomUUID(),\n\t\t\t\t\tname: `${primaryContact.firstName} ${primaryContact.lastName}`,\n\t\t\t\t\temail: primaryContact.email,\n\t\t\t\t\tsignerType: \"Signer\",\n\t\t\t\t},\n\t\t\t\t...ccEmails.map((email) => ({\n\t\t\t\t\tid: crypto.randomUUID(),\n\t\t\t\t\tname: email,\n\t\t\t\t\temail: email,\n\t\t\t\t\tsignerType: \"CC\" as const,\n\t\t\t\t})),\n\t\t\t];\n\n\t\t\tawait onConfirm(recipients, message || undefined);\n\t\t\tonOpenChange(false);\n\t\t} catch (error) {\n\t\t\t// Error handling is done in parent component\n\t\t\tconsole.error(\"Send failed:\", error);\n\t\t} finally {\n\t\t\tsetIsSending(false);\n\t\t}\n\t};\n\n\tconst handleCancel = () => {\n\t\tonOpenChange(false);\n\t};\n\n\tconst canSend =\n\t\tprimaryContact?.email &&\n\t\tccEmails.every((email) => isValidEmail(email)) &&\n\t\t!isSending;\n\n\treturn (\n\t\t<Popover open={isOpen} onOpenChange={onOpenChange}>\n\t\t\t<PopoverTrigger asChild>{children}</PopoverTrigger>\n\t\t\t<PopoverContent\n\t\t\t\talign=\"end\"\n\t\t\t\tside=\"top\"\n\t\t\t\tsideOffset={12}\n\t\t\t\tclassName=\"w-[550px] p-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl border border-gray-200 dark:border-gray-700 shadow-lg rounded-xl\"\n\t\t\t>\n\t\t\t\t<div className=\"flex flex-col\">\n\t\t\t\t\t{/* Header */}\n\t\t\t\t\t<div className=\"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t<Mail className=\"h-5 w-5 text-primary\" />\n\t\t\t\t\t\t\t<h3 className=\"font-semibold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\tSend Quote for Signature\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={handleCancel}\n\t\t\t\t\t\t\tclassName=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<X className=\"h-4 w-4\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Content */}\n\t\t\t\t\t<div className=\"px-6 py-4 space-y-4\">\n\t\t\t\t\t\t{/* Document Badge */}\n\t\t\t\t\t\t{quoteNumber && (\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<FileText className=\"h-4 w-4 text-gray-400\" />\n\t\t\t\t\t\t\t\t<Badge variant=\"outline\" className=\"text-xs\">\n\t\t\t\t\t\t\t\t\tQuote {quoteNumber}\n\t\t\t\t\t\t\t\t\t{documentVersion && ` - v${documentVersion}`}\n\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{/* Primary Recipient */}\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n\t\t\t\t\t\t\t\tTo\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 px-3 py-2 bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg\">\n\t\t\t\t\t\t\t\t<Mail className=\"h-4 w-4 text-gray-400\" />\n\t\t\t\t\t\t\t\t<div className=\"flex-1 text-sm text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t{primaryContact?.email ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.firstName} {primaryContact.lastName}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t({primaryContact.email})\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\tNo primary contact email\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* CC Recipients */}\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n\t\t\t\t\t\t\t\tCC Recipients (optional)\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<TagsInput\n\t\t\t\t\t\t\t\ttags={ccEmails}\n\t\t\t\t\t\t\t\tsetTags={setCcEmails}\n\t\t\t\t\t\t\t\teditTag={false}\n\t\t\t\t\t\t\t\tclassName=\"min-h-[42px]\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n\t\t\t\t\t\t\t\tAdd email and press Enter\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Message */}\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n\t\t\t\t\t\t\t\tMessage (optional)\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tplaceholder=\"Add a message to your email...\"\n\t\t\t\t\t\t\t\tvalue={message}\n\t\t\t\t\t\t\t\tonChange={(e) => setMessage(e.target.value)}\n\t\t\t\t\t\t\t\tclassName=\"w-full min-h-[80px] px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-primary/50 resize-y\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Footer */}\n\t\t\t\t\t<div className=\"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={handleCancel}\n\t\t\t\t\t\t\tdisabled={isSending}\n\t\t\t\t\t\t\tclassName={`group inline-flex items-center gap-2 text-sm font-semibold transition-all duration-200 px-4 py-2 rounded-lg ring-1 shadow-sm hover:shadow-md backdrop-blur-sm text-gray-600 hover:text-gray-700 bg-white hover:bg-gray-50 ring-gray-200 hover:ring-gray-300 dark:text-gray-400 dark:hover:text-gray-300 dark:bg-gray-900 dark:hover:bg-gray-800 dark:ring-gray-700 dark:hover:ring-gray-600 ${isSending ? \"opacity-50 cursor-not-allowed\" : \"\"}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t{!isSending && (\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\tclassName=\"group-hover:translate-x-1 transition-transform duration-200\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tâ†’\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={handleSend}\n\t\t\t\t\t\t\tdisabled={!canSend}\n\t\t\t\t\t\t\tclassName={`group inline-flex items-center gap-2 text-sm font-semibold transition-all duration-200 px-4 py-2 rounded-lg ring-1 shadow-sm hover:shadow-md backdrop-blur-sm text-primary hover:text-primary/80 bg-primary/10 hover:bg-primary/15 ring-primary/30 hover:ring-primary/40 ${!canSend ? \"opacity-50 cursor-not-allowed\" : \"\"}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Mail className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t{isSending ? \"Sending...\" : \"Send\"}\n\t\t\t\t\t\t\t{!isSending && (\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\tclassName=\"group-hover:translate-x-1 transition-transform duration-200\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tâ†’\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</PopoverContent>\n\t\t</Popover>\n\t);\n}\n","'use client';\r\nimport { cn } from '@/lib/utils';\r\nimport React, { useState, useRef, useEffect } from 'react';\r\n\r\ninterface TagsInputProps {\r\n  tags: string[];\r\n  setTags: React.Dispatch<React.SetStateAction<string[]>>;\r\n  editTag?: boolean;\r\n  className?: string;\r\n}\r\n\r\nexport const TagsInput: React.FC<TagsInputProps> = ({\r\n  tags,\r\n  setTags,\r\n  editTag = true,\r\n  className,\r\n}) => {\r\n  const [input, setInput] = useState('');\r\n  const [editingIndex, setEditingIndex] = useState<number | null>(null);\r\n  const editInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const handleAddTag = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n    const trimmedInput = input.trim();\r\n\r\n    if ((e.key === 'Enter' || e.key === ',') && trimmedInput) {\r\n      e.preventDefault();\r\n      if (editingIndex !== null) {\r\n        const updatedTags = [...tags];\r\n        updatedTags[editingIndex] = trimmedInput;\r\n        setTags(updatedTags);\r\n        setEditingIndex(null);\r\n      } else if (!tags.includes(trimmedInput)) {\r\n        setTags([...tags, trimmedInput]);\r\n      }\r\n      setInput('');\r\n    }\r\n  };\r\n\r\n  const handleRemoveTag = (tag: string) => {\r\n    setTags(tags.filter((t) => t !== tag));\r\n    if (editingIndex !== null) {\r\n      setEditingIndex(null);\r\n    }\r\n  };\r\n\r\n  const handleEditTag = (index: number) => {\r\n    if (editTag) {\r\n      setInput(tags[index]);\r\n      setEditingIndex(index);\r\n      setTimeout(() => editInputRef.current?.focus(), 0);\r\n    }\r\n  };\r\n\r\n  const handleBlur = () => {\r\n    if (editingIndex !== null) {\r\n      const updatedTags = [...tags];\r\n      const trimmedInput = input.trim();\r\n      if (trimmedInput) {\r\n        updatedTags[editingIndex] = trimmedInput;\r\n      } else {\r\n        updatedTags.splice(editingIndex, 1);\r\n      }\r\n      setTags(updatedTags);\r\n      setEditingIndex(null);\r\n    }\r\n    setInput('');\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (editInputRef.current) {\r\n      editInputRef.current.style.width = `${input.length + 1}ch`;\r\n    }\r\n  }, [input]);\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'flex flex-wrap w-full items-center gap-2 p-2 border-2 rounded-md focus-within:border-blue-500 dark:bg-neutral-800 bg-neutral-50',\r\n        className\r\n      )}\r\n    >\r\n      {tags.map((tag, index) => (\r\n        <div key={tag} className='relative'>\r\n          {editTag && editingIndex === index ? (\r\n            <input\r\n              ref={editInputRef}\r\n              type='text'\r\n              value={input}\r\n              onChange={(e) => setInput(e.target.value)}\r\n              onKeyDown={handleAddTag}\r\n              onBlur={handleBlur}\r\n              className='px-2 py-1 text-sm border dark:bg-neutral-950 bg-neutral-200 rounded outline-none'\r\n              placeholder='Edit tag...'\r\n              style={{ width: `${input.length + 1 * 1.2}px` }}\r\n              autoFocus\r\n            />\r\n          ) : (\r\n            <div\r\n              onClick={() => handleEditTag(index)}\r\n              className='flex items-center gap-2 px-1 pl-2 py-1 text-sm font-medium text-white bg-blue-500 rounded cursor-pointer hover:bg-blue-600'\r\n            >\r\n              {tag}\r\n              <button\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  handleRemoveTag(tag);\r\n                }}\r\n                className='text-primary px-1 focus:outline-none bg-primary-base rounded'\r\n              >\r\n                &times;\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      ))}\r\n      <input\r\n        type='text'\r\n        value={input}\r\n        onChange={(e) => setInput(e.target.value)}\r\n        onKeyDown={handleAddTag}\r\n        className={`flex-grow px-2 py-1 text-sm border-none outline-none  dark:bg-neutral-800 bg-neutral-50 rounded-md ${\r\n          editingIndex !== null ? 'opacity-0' : 'opacity-100'\r\n        }`}\r\n        placeholder='Add a tag...'\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","\"use client\";\n\nimport {\n\tStatusProgressBar,\n\ttype StatusEvent,\n} from \"@/components/shared/status-progress-bar\";\n\ntype SignatureStatus =\n\t| \"Sent\"\n\t| \"Viewed\"\n\t| \"Signed\"\n\t| \"Completed\"\n\t| \"Declined\"\n\t| \"Revoked\"\n\t| \"Expired\";\n\ninterface SignatureProgressBarProps {\n\tstatus: SignatureStatus;\n\tevents: StatusEvent[];\n}\n\nexport function SignatureProgressBar({\n\tstatus,\n\tevents,\n}: SignatureProgressBarProps) {\n\t// Define the normal flow steps for signature workflow\n\tconst steps = [\n\t\t{ id: \"Sent\", name: \"Sent\", order: 1 },\n\t\t{ id: \"Viewed\", name: \"Viewed\", order: 2 },\n\t\t{ id: \"Signed\", name: \"Signed\", order: 3 },\n\t\t{ id: \"Completed\", name: \"Completed\", order: 4 },\n\t];\n\n\treturn (\n\t\t<StatusProgressBar\n\t\t\tstatus={status}\n\t\t\tsteps={steps}\n\t\t\tevents={events}\n\t\t\tfailureStatuses={[\"Declined\", \"Revoked\", \"Expired\"]}\n\t\t\tsuccessStatuses={[\"Completed\"]}\n\t\t/>\n\t);\n}\n","\"use client\";\n\nimport { useParams, useRouter } from \"next/navigation\";\nimport { useQuery, useMutation, useAction, useConvex } from \"convex/react\";\nimport { api } from \"@onetool/backend/convex/_generated/api\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport {\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableHead,\n\tTableHeader,\n\tTableRow,\n} from \"@/components/ui/table\";\nimport { Button } from \"@/components/ui/button\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport {\n\tFileText,\n\tMail,\n\tDownload,\n\tEye,\n\tDollarSign,\n\tBuilding2,\n\tSettings,\n\tEdit,\n\tFolderOpen,\n\tCheck,\n\tHistory,\n\tClock,\n\tClipboardList,\n} from \"lucide-react\";\nimport { StickyFormFooter } from \"@/components/shared/sticky-form-footer\";\nimport { pdf } from \"@react-pdf/renderer\";\nimport QuotePDF from \"@/app/(workspace)/quotes/components/QuotePDF\";\nimport type { Id } from \"@onetool/backend/convex/_generated/dataModel\";\nimport type { Id as StorageId } from \"@onetool/backend/convex/_generated/dataModel\";\nimport { useEffect, useState, useMemo } from \"react\";\nimport { DocumentSelectionModal } from \"@/app/(workspace)/quotes/components/document-selection-modal\";\nimport { SendEmailPopover } from \"@/app/(workspace)/quotes/components/send-email-popover\";\nimport { SignatureProgressBar } from \"@/app/(workspace)/quotes/components/signature-progress-bar\";\nimport Accordion from \"@/components/ui/accordion\";\nimport { MentionSection } from \"@/components/shared/mention-section\";\nimport { StatusProgressBar } from \"@/components/shared/status-progress-bar\";\nimport { Recipient } from \"@/types/quote\";\n\ntype QuoteStatus = \"draft\" | \"sent\" | \"approved\" | \"declined\" | \"expired\";\n\nconst formatCurrency = (amount: number) => {\n\treturn new Intl.NumberFormat(\"en-US\", {\n\t\tstyle: \"currency\",\n\t\tcurrency: \"USD\",\n\t\tminimumFractionDigits: 0,\n\t\tmaximumFractionDigits: 0,\n\t}).format(amount);\n};\n\nconst getQuoteStatus = (\n\tstatus: QuoteStatus,\n\tvalidUntilDate?: number\n): QuoteStatus => {\n\tif (status === \"expired\") return \"expired\";\n\tif (validUntilDate && validUntilDate < Date.now()) return \"expired\";\n\treturn status;\n};\n\nconst statusVariant = (status: QuoteStatus) => {\n\tswitch (status) {\n\t\tcase \"approved\":\n\t\t\treturn \"default\" as const;\n\t\tcase \"sent\":\n\t\t\treturn \"secondary\" as const;\n\t\tcase \"declined\":\n\t\tcase \"expired\":\n\t\t\treturn \"destructive\" as const;\n\t\tcase \"draft\":\n\t\tdefault:\n\t\t\treturn \"outline\" as const;\n\t}\n};\n\nconst formatStatus = (status: QuoteStatus) => {\n\tswitch (status) {\n\t\tcase \"draft\":\n\t\t\treturn \"Draft\";\n\t\tcase \"sent\":\n\t\t\treturn \"Sent\";\n\t\tcase \"approved\":\n\t\t\treturn \"Approved\";\n\t\tcase \"declined\":\n\t\t\treturn \"Declined\";\n\t\tcase \"expired\":\n\t\t\treturn \"Expired\";\n\t\tdefault:\n\t\t\treturn status;\n\t}\n};\n\nexport default function QuoteDetailPage() {\n\tconst router = useRouter();\n\tconst params = useParams();\n\tconst toast = useToast();\n\tconst convex = useConvex();\n\tconst quoteId = params.quoteId as Id<\"quotes\">;\n\n\t// Fetch quote data from Convex\n\tconst quote = useQuery(api.quotes.get, { id: quoteId });\n\tconst client = useQuery(\n\t\tapi.clients.get,\n\t\tquote?.clientId ? { id: quote.clientId } : \"skip\"\n\t);\n\tconst project = useQuery(\n\t\tapi.projects.get,\n\t\tquote?.projectId ? { id: quote.projectId } : \"skip\"\n\t);\n\tconst lineItems = useQuery(api.quoteLineItems.listByQuote, { quoteId });\n\tconst organization = useQuery(api.organizations.get, {});\n\tconst latestDocument = useQuery(\n\t\tapi.documents.getLatest,\n\t\tquote ? { documentType: \"quote\", documentId: quote._id } : \"skip\"\n\t);\n\tconst allDocumentVersions = useQuery(\n\t\tapi.documents.getAllVersions,\n\t\tquote ? { documentType: \"quote\", documentId: quote._id } : \"skip\"\n\t);\n\tconst primaryContact = useQuery(\n\t\tapi.clientContacts.getPrimaryContact,\n\t\tquote?.clientId ? { clientId: quote.clientId } : \"skip\"\n\t);\n\tconst allContacts = useQuery(\n\t\tapi.clientContacts.listByClient,\n\t\tquote?.clientId ? { clientId: quote.clientId } : \"skip\"\n\t);\n\tconst primaryProperty = useQuery(\n\t\tapi.clientProperties.getPrimaryProperty,\n\t\tquote?.clientId ? { clientId: quote.clientId } : \"skip\"\n\t);\n\tconst documentsWithSignatures = useQuery(\n\t\tapi.documents.getAllDocumentsWithSignatures,\n\t\tquote ? { documentType: \"quote\", documentId: quote._id } : \"skip\"\n\t);\n\n\t// Mutations\n\tconst updateQuote = useMutation(api.quotes.update);\n\tconst generateUploadUrl = useMutation(api.documents.generateUploadUrl);\n\tconst createDocument = useMutation(api.documents.create);\n\n\t// Actions\n\tconst sendForSignature = useAction(\n\t\tapi.boldsignActions.sendDocumentForSignature\n\t);\n\n\t// Inline edit state\n\tconst [isEditing, setIsEditing] = useState(false);\n\tconst [form, setForm] = useState({\n\t\tterms: \"\",\n\t\tclientMessage: \"\",\n\t\tvalidUntil: undefined as number | undefined,\n\t});\n\n\t// Version viewing state\n\tconst [selectedVersionId, setSelectedVersionId] =\n\t\tuseState<Id<\"documents\"> | null>(null);\n\tconst [showVersionHistory, setShowVersionHistory] = useState(false);\n\n\t// Document selection modal state\n\tconst [showDocumentModal, setShowDocumentModal] = useState(false);\n\n\t// Signature popover state\n\tconst [sendEmailPopoverOpen, setSendEmailPopoverOpen] = useState(false);\n\n\t// Get the currently selected version's URL (or latest if none selected)\n\tconst selectedDocument = useMemo(() => {\n\t\tif (selectedVersionId && allDocumentVersions) {\n\t\t\treturn allDocumentVersions.find((v) => v._id === selectedVersionId);\n\t\t}\n\t\treturn latestDocument;\n\t}, [selectedVersionId, allDocumentVersions, latestDocument]);\n\n\tconst selectedDocumentUrl = useQuery(\n\t\tapi.documents.getDocumentUrl,\n\t\tselectedDocument ? { id: selectedDocument._id } : \"skip\"\n\t);\n\n\tuseEffect(() => {\n\t\tif (quote) {\n\t\t\tsetForm({\n\t\t\t\tterms: quote.terms || \"\",\n\t\t\t\tclientMessage: quote.clientMessage || \"\",\n\t\t\t\tvalidUntil: quote.validUntil,\n\t\t\t});\n\t\t}\n\t}, [quote]);\n\n\tconst isDirty = useMemo(() => {\n\t\tif (!quote) return false;\n\t\treturn (\n\t\t\t(form.terms || \"\") !== (quote.terms || \"\") ||\n\t\t\t(form.clientMessage || \"\") !== (quote.clientMessage || \"\") ||\n\t\t\t(form.validUntil || undefined) !== (quote.validUntil || undefined)\n\t\t);\n\t}, [form, quote]);\n\n\tconst resetForm = () => {\n\t\tif (!quote) return;\n\t\tsetForm({\n\t\t\tterms: quote.terms || \"\",\n\t\t\tclientMessage: quote.clientMessage || \"\",\n\t\t\tvalidUntil: quote.validUntil,\n\t\t});\n\t};\n\n\tconst handleSave = async () => {\n\t\tif (!quote) return;\n\t\tconst updates: Partial<{\n\t\t\tterms?: string;\n\t\t\tclientMessage?: string;\n\t\t\tvalidUntil?: number;\n\t\t}> = {};\n\t\tif ((form.terms || \"\") !== (quote.terms || \"\"))\n\t\t\tupdates.terms = form.terms || undefined;\n\t\tif ((form.clientMessage || \"\") !== (quote.clientMessage || \"\"))\n\t\t\tupdates.clientMessage = form.clientMessage || undefined;\n\t\tif ((form.validUntil || undefined) !== (quote.validUntil || undefined))\n\t\t\tupdates.validUntil = form.validUntil;\n\n\t\tif (Object.keys(updates).length === 0) {\n\t\t\tsetIsEditing(false);\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tawait updateQuote({ id: quoteId, ...updates });\n\t\t\ttoast.success(\"Quote Updated\", \"Your changes have been saved.\");\n\t\t\tsetIsEditing(false);\n\t\t} catch (err) {\n\t\t\tconst message =\n\t\t\t\terr instanceof Error ? err.message : \"Failed to save changes\";\n\t\t\ttoast.error(\"Error\", message);\n\t\t}\n\t};\n\n\tconst handleStatusChange = async (status: QuoteStatus) => {\n\t\ttry {\n\t\t\tawait updateQuote({ id: quoteId, status });\n\t\t\ttoast.success(\n\t\t\t\t\"Quote Updated\",\n\t\t\t\t`Status changed to ${formatStatus(status)}`\n\t\t\t);\n\t\t} catch (err) {\n\t\t\tconst message =\n\t\t\t\terr instanceof Error ? err.message : \"Failed to update status\";\n\t\t\ttoast.error(\"Error\", message);\n\t\t}\n\t};\n\n\tconst getStatusActions = () => {\n\t\tif (!quote) return null;\n\t\tswitch (quote.status) {\n\t\t\tcase \"draft\":\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t<Button size=\"sm\" onClick={() => handleStatusChange(\"sent\")}>\n\t\t\t\t\t\t\tSend Quote\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tclassName=\"bg-green-600 hover:bg-green-700\"\n\t\t\t\t\t\t\tonClick={() => handleStatusChange(\"approved\")}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Check className=\"h-4 w-4 mr-1\" /> Mark Approved\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase \"sent\":\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tclassName=\"bg-green-600 hover:bg-green-700\"\n\t\t\t\t\t\t\tonClick={() => handleStatusChange(\"approved\")}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Check className=\"h-4 w-4 mr-1\" /> Approve\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\tonClick={() => handleStatusChange(\"declined\")}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDecline\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\tonClick={() => handleStatusChange(\"draft\")}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tRevert to Draft\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase \"approved\":\n\t\t\tcase \"declined\":\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\tonClick={() => handleStatusChange(\"sent\")}\n\t\t\t\t\t>\n\t\t\t\t\t\tReopen (Sent)\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t\tcase \"expired\":\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\tonClick={() => handleStatusChange(\"draft\")}\n\t\t\t\t\t>\n\t\t\t\t\t\tReopen (Draft)\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t};\n\n\t// Loading state\n\tif (quote === undefined) {\n\t\treturn (\n\t\t\t<div className=\"min-h-screen flex-1 md:min-h-min\">\n\t\t\t\t<div className=\"relative bg-linear-to-br from-background via-muted/30 to-muted/60 dark:from-background dark:via-muted/20 dark:to-muted/40 min-h-screen rounded-xl\">\n\t\t\t\t\t<div className=\"absolute inset-0 bg-[radial-gradient(circle_at_50%_20%,rgba(120,119,198,0.08),transparent_50%)] rounded-xl\" />\n\t\t\t\t\t<div className=\"relative px-6 pt-8 pb-20\">\n\t\t\t\t\t\t<div className=\"animate-pulse space-y-8\">\n\t\t\t\t\t\t\t<div className=\"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3\"></div>\n\t\t\t\t\t\t\t<div className=\"grid grid-cols-1 xl:grid-cols-4 gap-8\">\n\t\t\t\t\t\t\t\t<div className=\"xl:col-span-3 space-y-8\">\n\t\t\t\t\t\t\t\t\t<div className=\"h-64 bg-gray-200 dark:bg-gray-700 rounded\"></div>\n\t\t\t\t\t\t\t\t\t<div className=\"h-96 bg-gray-200 dark:bg-gray-700 rounded\"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"space-y-6\">\n\t\t\t\t\t\t\t\t\t<div className=\"h-32 bg-gray-200 dark:bg-gray-700 rounded\"></div>\n\t\t\t\t\t\t\t\t\t<div className=\"h-64 bg-gray-200 dark:bg-gray-700 rounded\"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Quote not found\n\tif (quote === null) {\n\t\treturn (\n\t\t\t<div className=\"min-h-screen flex-1 md:min-h-min\">\n\t\t\t\t<div className=\"relative bg-linear-to-br from-background via-muted/30 to-muted/60 dark:from-background dark:via-muted/20 dark:to-muted/40 min-h-screen rounded-xl\">\n\t\t\t\t\t<div className=\"absolute inset-0 bg-[radial-gradient(circle_at_50%_20%,rgba(120,119,198,0.08),transparent_50%)] rounded-xl\" />\n\t\t\t\t\t<div className=\"relative px-6 pt-8 pb-20 flex flex-col items-center justify-center h-96 space-y-4\">\n\t\t\t\t\t\t<div className=\"text-6xl\">ðŸ“„</div>\n\t\t\t\t\t\t<h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\tQuote Not Found\n\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t<p className=\"text-gray-600 dark:text-gray-400 text-center\">\n\t\t\t\t\t\t\tThe quote you&apos;re looking for doesn&apos;t exist or you\n\t\t\t\t\t\t\tdon&apos;t have permission to view it.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<Button onClick={() => router.push(\"/quotes\")}>\n\t\t\t\t\t\t\tBack to Quotes\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tconst currentStatus = getQuoteStatus(quote.status, quote.validUntil);\n\n\tconst handleGeneratePdf = async (\n\t\tappendDocumentIds: Id<\"organizationDocuments\">[] = []\n\t) => {\n\t\ttry {\n\t\t\tif (!quote || !lineItems) return;\n\t\t\tconst loadingId = toast.loading(\n\t\t\t\t\"Generating PDF\",\n\t\t\t\tappendDocumentIds.length > 0\n\t\t\t\t\t? `Merging with ${appendDocumentIds.length} document${appendDocumentIds.length !== 1 ? \"s\" : \"\"}â€¦`\n\t\t\t\t\t: \"Rendering and uploadingâ€¦\"\n\t\t\t);\n\n\t\t\t// Generate main quote PDF\n\t\t\tconst element = (\n\t\t\t\t<QuotePDF\n\t\t\t\t\tquote={quote}\n\t\t\t\t\tclient={\n\t\t\t\t\t\tclient\n\t\t\t\t\t\t\t? { companyName: client.companyName, industry: client.industry }\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t\titems={lineItems}\n\t\t\t\t\torganization={\n\t\t\t\t\t\torganization\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\tname: organization.name,\n\t\t\t\t\t\t\t\t\tlogoUrl: organization.logoUrl || undefined,\n\t\t\t\t\t\t\t\t\taddress: organization.address || undefined,\n\t\t\t\t\t\t\t\t\tphone: organization.phone || undefined,\n\t\t\t\t\t\t\t\t\temail: organization.email || undefined,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t);\n\t\t\tconst quoteBlob = await pdf(element).toBlob();\n\n\t\t\t// If documents selected, merge PDFs\n\t\t\tlet finalBlob = quoteBlob;\n\t\t\tif (appendDocumentIds.length > 0) {\n\t\t\t\ttry {\n\t\t\t\t\tconst { PDFDocument } = await import(\"pdf-lib\");\n\n\t\t\t\t\t// Fetch all document URLs using Convex client\n\t\t\t\t\tconst documentUrls = await convex.query(\n\t\t\t\t\t\tapi.organizationDocuments.getDocumentUrls,\n\t\t\t\t\t\t{ ids: appendDocumentIds }\n\t\t\t\t\t);\n\n\t\t\t\t\tconsole.log(\"Fetched document URLs:\", documentUrls);\n\n\t\t\t\t\tconst mergedPdf = await PDFDocument.create();\n\n\t\t\t\t\t// Add quote PDF pages\n\t\t\t\t\tconst quotePdfDoc = await PDFDocument.load(\n\t\t\t\t\t\tawait quoteBlob.arrayBuffer()\n\t\t\t\t\t);\n\t\t\t\t\tconst quotePages = await mergedPdf.copyPages(\n\t\t\t\t\t\tquotePdfDoc,\n\t\t\t\t\t\tquotePdfDoc.getPageIndices()\n\t\t\t\t\t);\n\t\t\t\t\tquotePages.forEach((page) => mergedPdf.addPage(page));\n\n\t\t\t\t\tconsole.log(`Added ${quotePages.length} pages from quote PDF`);\n\n\t\t\t\t\t// Fetch and add organization documents\n\t\t\t\t\tfor (const docInfo of documentUrls) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (!docInfo.url) {\n\t\t\t\t\t\t\t\tconsole.warn(`No URL found for document ${docInfo.id}`);\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Fetch the actual PDF\n\t\t\t\t\t\t\tconst docResponse = await fetch(docInfo.url);\n\t\t\t\t\t\t\tif (!docResponse.ok) {\n\t\t\t\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t\t\t\t`Failed to fetch PDF for document ${docInfo.id}, status: ${docResponse.status}`\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst docBytes = await docResponse.arrayBuffer();\n\t\t\t\t\t\t\tconst docPdf = await PDFDocument.load(docBytes);\n\t\t\t\t\t\t\tconst docPages = await mergedPdf.copyPages(\n\t\t\t\t\t\t\t\tdocPdf,\n\t\t\t\t\t\t\t\tdocPdf.getPageIndices()\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tdocPages.forEach((page) => mergedPdf.addPage(page));\n\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t`Successfully merged document ${docInfo.id} (${docPages.length} pages)`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} catch (docError) {\n\t\t\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t\t\t`Error processing document ${docInfo.id}:`,\n\t\t\t\t\t\t\t\tdocError\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tconst pdfBytes = await mergedPdf.save();\n\t\t\t\t\tfinalBlob = new Blob([pdfBytes as BlobPart], {\n\t\t\t\t\t\ttype: \"application/pdf\",\n\t\t\t\t\t});\n\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t`Merged PDF created with ${mergedPdf.getPageCount()} total pages`\n\t\t\t\t\t);\n\t\t\t\t} catch (mergeError) {\n\t\t\t\t\tconsole.error(\"PDF merge error:\", mergeError);\n\t\t\t\t\ttoast.error(\n\t\t\t\t\t\t\"Merge failed\",\n\t\t\t\t\t\t\"Failed to merge documents. Using quote only.\"\n\t\t\t\t\t);\n\t\t\t\t\tfinalBlob = quoteBlob;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Upload final PDF\n\t\t\tconst uploadUrl = await generateUploadUrl({});\n\t\t\tconst res = await fetch(uploadUrl, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: { \"Content-Type\": \"application/pdf\" },\n\t\t\t\tbody: finalBlob,\n\t\t\t});\n\t\t\tif (!res.ok) throw new Error(\"Failed to upload PDF\");\n\t\t\tconst { storageId } = await res.json();\n\t\t\tawait createDocument({\n\t\t\t\tdocumentType: \"quote\",\n\t\t\t\tdocumentId: quote._id,\n\t\t\t\tstorageId: storageId as unknown as StorageId<\"_storage\">,\n\t\t\t});\n\t\t\ttoast.removeToast(loadingId);\n\t\t\ttoast.success(\n\t\t\t\t\"PDF generated\",\n\t\t\t\tappendDocumentIds.length > 0\n\t\t\t\t\t? `Quote PDF with ${appendDocumentIds.length} appended document${appendDocumentIds.length !== 1 ? \"s\" : \"\"} is ready.`\n\t\t\t\t\t: \"Your quote PDF is ready.\"\n\t\t\t);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tconst message = error instanceof Error ? error.message : \"Unknown error\";\n\t\t\ttoast.error(\"PDF generation failed\", message);\n\t\t}\n\t};\n\n\tconst handleDownloadPdf = async () => {\n\t\tif (!selectedDocumentUrl) return;\n\t\ttry {\n\t\t\t// Fetch the PDF as a blob\n\t\t\tconst response = await fetch(selectedDocumentUrl);\n\t\t\tif (!response.ok) throw new Error(\"Failed to fetch PDF\");\n\t\t\tconst blob = await response.blob();\n\n\t\t\t// Create a blob URL and trigger download\n\t\t\tconst blobUrl = URL.createObjectURL(blob);\n\t\t\tconst link = document.createElement(\"a\");\n\t\t\tlink.href = blobUrl;\n\t\t\tconst versionSuffix = selectedDocument?.version\n\t\t\t\t? `-v${selectedDocument.version}`\n\t\t\t\t: \"\";\n\t\t\tlink.download = `Quote-${quote?.quoteNumber || quote?._id.slice(-6) || \"document\"}${versionSuffix}.pdf`;\n\t\t\tdocument.body.appendChild(link);\n\t\t\tlink.click();\n\n\t\t\t// Clean up\n\t\t\tdocument.body.removeChild(link);\n\t\t\tURL.revokeObjectURL(blobUrl);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tconst message = error instanceof Error ? error.message : \"Unknown error\";\n\t\t\ttoast.error(\"Download failed\", message);\n\t\t}\n\t};\n\n\tconst handleSendForSignature = async (\n\t\trecipients: Recipient[],\n\t\tmessage?: string\n\t) => {\n\t\tif (!selectedDocumentUrl || !latestDocument) {\n\t\t\ttoast.error(\"No PDF\", \"Generate a PDF first\");\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\t// Filter recipients to ensure signerType is present\n\t\t\tconst validRecipients = recipients.filter(\n\t\t\t\t(r): r is Recipient & { signerType: \"Signer\" | \"CC\" } =>\n\t\t\t\t\tr.signerType === \"Signer\" || r.signerType === \"CC\"\n\t\t\t);\n\n\t\t\tawait sendForSignature({\n\t\t\t\tquoteId,\n\t\t\t\tdocumentId: latestDocument._id,\n\t\t\t\trecipients: validRecipients,\n\t\t\t\tdocumentUrl: selectedDocumentUrl,\n\t\t\t\tmessage,\n\t\t\t});\n\t\t\ttoast.success(\"Sent!\", \"Quote sent for signature via BoldSign\");\n\t\t\tsetSendEmailPopoverOpen(false);\n\t\t} catch (error) {\n\t\t\tconst message = error instanceof Error ? error.message : \"Unknown error\";\n\t\t\ttoast.error(\"Send failed\", message);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"min-h-screen flex-1 md:min-h-min\">\n\t\t\t<div className=\"relative min-h-screen rounded-xl\">\n\t\t\t\t<div className=\"rounded-xl\" />\n\n\t\t\t\t<div className=\"relative px-6 pt-8 pb-20\">\n\t\t\t\t\t<div className=\"mx-auto\">\n\t\t\t\t\t\t{/* Quote Header */}\n\t\t\t\t\t\t<div className=\"mb-8\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-8\">\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-4\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-center w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900/30 shrink-0\">\n\t\t\t\t\t\t\t\t\t\t<FileText className=\"h-6 w-6 text-blue-600 dark:text-blue-400\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\tQuote {quote.quoteNumber || `#${quote._id.slice(-6)}`}\n\t\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t{quote.title || project?.title || \"Untitled Quote\"}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<StatusProgressBar\n\t\t\t\t\t\t\t\t\t\tstatus={currentStatus}\n\t\t\t\t\t\t\t\t\t\tsteps={[\n\t\t\t\t\t\t\t\t\t\t\t{ id: \"draft\", name: \"Draft\", order: 1 },\n\t\t\t\t\t\t\t\t\t\t\t{ id: \"sent\", name: \"Sent\", order: 2 },\n\t\t\t\t\t\t\t\t\t\t\t{ id: \"approved\", name: \"Approved\", order: 3 },\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\tevents={[\n\t\t\t\t\t\t\t\t\t\t\t...(quote._creationTime\n\t\t\t\t\t\t\t\t\t\t\t\t? [{ type: \"draft\", timestamp: quote._creationTime }]\n\t\t\t\t\t\t\t\t\t\t\t\t: []),\n\t\t\t\t\t\t\t\t\t\t\t...(quote.sentAt\n\t\t\t\t\t\t\t\t\t\t\t\t? [{ type: \"sent\", timestamp: quote.sentAt }]\n\t\t\t\t\t\t\t\t\t\t\t\t: []),\n\t\t\t\t\t\t\t\t\t\t\t...(quote.approvedAt\n\t\t\t\t\t\t\t\t\t\t\t\t? [{ type: \"approved\", timestamp: quote.approvedAt }]\n\t\t\t\t\t\t\t\t\t\t\t\t: []),\n\t\t\t\t\t\t\t\t\t\t\t...(quote.declinedAt\n\t\t\t\t\t\t\t\t\t\t\t\t? [{ type: \"declined\", timestamp: quote.declinedAt }]\n\t\t\t\t\t\t\t\t\t\t\t\t: []),\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\tfailureStatuses={[\"declined\", \"expired\"]}\n\t\t\t\t\t\t\t\t\t\tsuccessStatuses={[\"approved\"]}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Two Column Layout */}\n\t\t\t\t\t\t<div className=\"grid grid-cols-1 xl:grid-cols-4 gap-8\">\n\t\t\t\t\t\t\t{/* Main Content - Left Column */}\n\t\t\t\t\t\t\t<div className=\"xl:col-span-3 space-y-8\">\n\t\t\t\t\t\t\t\t{/* Client and Project Details */}\n\t\t\t\t\t\t\t\t<div className=\"bg-card dark:bg-card backdrop-blur-md border border-border dark:border-border rounded-xl shadow-lg dark:shadow-black/50 ring-1 ring-border/30 dark:ring-border/50\">\n\t\t\t\t\t\t\t\t\t<Card className=\"bg-transparent border-none shadow-none ring-0\">\n\t\t\t\t\t\t\t\t\t\t<CardHeader>\n\t\t\t\t\t\t\t\t\t\t\t<CardTitle className=\"flex items-center justify-between text-xl\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Building2 className=\"h-5 w-5\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\tClient and Project Details\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{project && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trouter.push(`/projects/${project._id}`)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FolderOpen className=\"h-4 w-4 mr-1\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tView Project\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{client && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trouter.push(`/clients/${client._id}`)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit className=\"h-4 w-4 mr-1\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tView Client\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"space-y-8\">\n\t\t\t\t\t\t\t\t\t\t\t\t{/* Client Information */}\n\t\t\t\t\t\t\t\t\t\t\t\t{client ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"space-y-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Company Header */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"border-b border-gray-200 dark:border-gray-700 pb-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-start justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{client.companyName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{client.industry || \"No industry specified\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{client.companyDescription && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-500 dark:text-gray-500 mt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{client.companyDescription}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{client.status && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclient.status === \"active\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{client.status}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Contact & Property Grid */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Primary Contact */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 className=\"text-sm font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Mail className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPrimary Contact\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.firstName}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.lastName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.jobTitle && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.jobTitle}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.email && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={`mailto:${primaryContact.email}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"hover:text-blue-600 dark:hover:text-blue-400\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.email}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.phone && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={`tel:${primaryContact.phone}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"hover:text-blue-600 dark:hover:text-blue-400\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.phone}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.department && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-gray-500 dark:text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryContact.department}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo primary contact set\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{allContacts && allContacts.length > 1 && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-gray-500 dark:text-gray-400 mt-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+{allContacts.length - 1} additional contact\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{allContacts.length > 2 ? \"s\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Primary Property/Address */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 className=\"text-sm font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Building2 className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPrimary Location\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryProperty ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryProperty.propertyName && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryProperty.propertyName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-sm text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{primaryProperty.streetAddress}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryProperty.city},{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryProperty.state}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryProperty.zipCode}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryProperty.country && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{primaryProperty.country}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryProperty.propertyType && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryProperty.propertyType}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryProperty.squareFootage && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-gray-500 dark:text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{primaryProperty.squareFootage.toLocaleString()}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsq ft\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo property address set\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Additional Client Details */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(client.category ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclient.clientSize ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclient.priorityLevel) && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"pt-4 border-t border-gray-200 dark:border-gray-700\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex flex-wrap gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{client.category && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{client.category}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{client.clientSize && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{client.clientSize}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{client.priorityLevel && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclient.priorityLevel === \"urgent\" ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclient.priorityLevel === \"high\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"destructive\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{client.priorityLevel} priority\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"p-6 border-2 border-dashed border-gray-300 dark:border-white/20 rounded-lg text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Building2 className=\"h-12 w-12 text-gray-400 mx-auto mb-3\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tClient information not available\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t\t\t{/* Associated Project */}\n\t\t\t\t\t\t\t\t\t\t\t\t{project && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"pt-6 border-t border-gray-200 dark:border-gray-700\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-start justify-between mb-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 className=\"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FolderOpen className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAssociated Project\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{project.status && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproject.status === \"in-progress\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: project.status === \"completed\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{project.status}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-base font-medium text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{project.title}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{project.projectNumber && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-gray-500 dark:text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tProject #{project.projectNumber}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{project.description && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{project.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex flex-wrap gap-4 text-xs text-gray-500 dark:text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{project.startDate && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Clock className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tStart:{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproject.startDate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{project.endDate && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Clock className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tEnd:{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproject.endDate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{project.projectType && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge variant=\"outline\" className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{project.projectType}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* Signature Status */}\n\t\t\t\t\t\t\t\t{documentsWithSignatures &&\n\t\t\t\t\t\t\t\t\tdocumentsWithSignatures.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"bg-card dark:bg-card backdrop-blur-md border border-border dark:border-border rounded-xl shadow-lg dark:shadow-black/50 ring-1 ring-border/30 dark:ring-border/50\">\n\t\t\t\t\t\t\t\t\t\t\t<Card className=\"bg-transparent border-none shadow-none ring-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t<CardHeader>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CardTitle className=\"flex items-center gap-2 text-xl\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FileText className=\"h-5 w-5\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSignature Status\n\t\t\t\t\t\t\t\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Accordion\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titems={documentsWithSignatures.map((doc) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Get the most recent timestamp for last update\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst lastUpdate =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdoc.boldsign.completedAt ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdoc.boldsign.declinedAt ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdoc.boldsign.revokedAt ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdoc.boldsign.expiredAt ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdoc.boldsign.signedAt ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdoc.boldsign.viewedAt ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdoc.boldsign.sentAt ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdoc.generatedAt;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Status badge variant\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst statusVariant =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdoc.boldsign.status === \"Completed\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: doc.boldsign.status === \"Declined\" ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  doc.boldsign.status === \"Revoked\" ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  doc.boldsign.status === \"Expired\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"destructive\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"secondary\";\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst formattedDate = new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlastUpdate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString(\"en-US\", {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmonth: \"short\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tday: \"numeric\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: `Version ${doc.version} - ${doc.boldsign.status} - ${formattedDate}`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Status badges at top of content */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3 pb-3 border-b border-gray-200 dark:border-gray-700\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv{doc.version}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant={statusVariant}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{doc.boldsign.status}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-gray-500 dark:text-gray-400 ml-auto\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tLast updated: {formattedDate}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SignatureProgressBar\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatus={doc.boldsign.status}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tevents={[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"Sent\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttimestamp: doc.boldsign.sentAt,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"Viewed\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttimestamp: doc.boldsign.viewedAt,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"Signed\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttimestamp: doc.boldsign.signedAt,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: doc.boldsign.status,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttimestamp:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdoc.boldsign.completedAt ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdoc.boldsign.declinedAt ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdoc.boldsign.revokedAt ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdoc.boldsign.expiredAt,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Recipients info */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"pt-4 border-t border-gray-200 dark:border-gray-700\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-medium mb-3 text-sm text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSent to:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ul className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{doc.boldsign.sentTo.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(recipient, i) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex items-center justify-between text-sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-700 dark:text-gray-300\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{recipient.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t({recipient.email})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{recipient.signerType}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t{/* Line Items */}\n\t\t\t\t\t\t\t\t<div className=\"bg-card dark:bg-card backdrop-blur-md border border-border dark:border-border rounded-xl shadow-lg dark:shadow-black/50 ring-1 ring-border/30 dark:ring-border/50\">\n\t\t\t\t\t\t\t\t\t<Card className=\"bg-transparent border-none shadow-none ring-0\">\n\t\t\t\t\t\t\t\t\t\t<CardHeader className=\"flex flex-row items-center justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t<CardTitle className=\"flex items-center gap-2 text-xl\">\n\t\t\t\t\t\t\t\t\t\t\t\t<DollarSign className=\"h-5 w-5\" />\n\t\t\t\t\t\t\t\t\t\t\t\tLine Items\n\t\t\t\t\t\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\tonPress={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\trouter.push(`/quotes/${quoteId}/quoteLineEditor`)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Settings className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\tEdit Line Items\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t\t\t{lineItems && lineItems.length > 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"overflow-hidden rounded-lg border\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Table>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableHeader className=\"bg-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableHead>Description</TableHead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableHead className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tQty\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableHead className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tUnit\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableHead className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tRate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableHead className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAmount\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableHeader>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{lineItems.map((item) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableRow key={item._id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell className=\"font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.quantity}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.unit || \"item\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatCurrency(item.rate)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell className=\"text-right font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatCurrency(item.amount)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Totals */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-6 space-y-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSubtotal:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatCurrency(quote.subtotal)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{quote.discountEnabled && quote.discountAmount && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDiscount:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium text-red-600 dark:text-red-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{quote.discountType === \"percentage\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `${quote.discountAmount}%`\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: formatCurrency(quote.discountAmount)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{quote.taxEnabled && quote.taxAmount && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTax:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatCurrency(quote.taxAmount)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"border-t pt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between text-lg font-bold\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>Total:</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{formatCurrency(quote.total)}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"p-8 border-2 border-dashed border-gray-300 dark:border-white/20 rounded-lg text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ClipboardList className=\"h-12 w-12 text-gray-400 mx-auto mb-3\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo line items added yet\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* Terms & Conditions */}\n\t\t\t\t\t\t\t\t<div className=\"bg-card dark:bg-card backdrop-blur-md border border-border dark:border-border rounded-xl shadow-lg dark:shadow-black/50 ring-1 ring-border/30 dark:ring-border/50\">\n\t\t\t\t\t\t\t\t\t<Card className=\"bg-transparent border-none shadow-none ring-0\">\n\t\t\t\t\t\t\t\t\t\t<CardHeader>\n\t\t\t\t\t\t\t\t\t\t\t<CardTitle className=\"flex items-center justify-between text-xl\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span>Terms & Conditions</span>\n\t\t\t\t\t\t\t\t\t\t\t\t{!isEditing ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setIsEditing(true)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={resetForm}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleSave}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisDisabled={!isDirty}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t\t\t{isEditing ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full min-h-[100px] px-3 py-2 bg-gray-50 dark:bg-white/5 border border-gray-300 dark:border-white/10 rounded-md text-gray-900 dark:text-white\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter terms\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={form.terms}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetForm((f) => ({ ...f, terms: e.target.value }))\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full min-h-[80px] px-3 py-2 bg-gray-50 dark:bg-white/5 border border-gray-300 dark:border-white/10 rounded-md text-gray-900 dark:text-white\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Message to client (optional)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={form.clientMessage}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetForm((f) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...f,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclientMessage: e.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{quote.terms || \"No terms specified\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{quote.clientMessage && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-4 pt-4 border-t border-gray-200 dark:border-white/10\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 className=\"text-sm font-medium text-gray-900 dark:text-white mb-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tMessage to Client:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{quote.clientMessage}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{/* Quote Details Sidebar - Right Column */}\n\t\t\t\t\t\t\t<div className=\"xl:col-span-1\">\n\t\t\t\t\t\t\t\t<div className=\"sticky top-24 space-y-6\">\n\t\t\t\t\t\t\t\t\t{/* Quote Details */}\n\t\t\t\t\t\t\t\t\t<div className=\"bg-card dark:bg-card backdrop-blur-md border border-border dark:border-border rounded-xl shadow-lg dark:shadow-black/50 ring-1 ring-border/30 dark:ring-border/50\">\n\t\t\t\t\t\t\t\t\t\t<Card className=\"bg-transparent border-none shadow-none ring-0\">\n\t\t\t\t\t\t\t\t\t\t\t<CardHeader>\n\t\t\t\t\t\t\t\t\t\t\t\t<CardTitle className=\"text-lg\">Quote Details</CardTitle>\n\t\t\t\t\t\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t\t\t\t\t\t<CardContent className=\"space-y-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tCreated:\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(quote._creationTime).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tStatus:\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge variant={statusVariant(currentStatus)}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatStatus(currentStatus)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between items-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tValid Until:\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{isEditing ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-40 h-9 px-2 py-1 bg-gray-50 dark:bg-white/5 border border-gray-300 dark:border-white/10 rounded-md text-gray-900 dark:text-white\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tform.validUntil\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? new Date(form.validUntil)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.toISOString()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.slice(0, 10)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetForm((f) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...f,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidUntil: e.target.value\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? new Date(e.target.value).getTime()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{quote.validUntil\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tquote.validUntil\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"â€”\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t{quote.sentAt && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSent:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(quote.sentAt).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t{quote.approvedAt && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tApproved:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(quote.approvedAt).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* Generated PDF */}\n\t\t\t\t\t\t\t\t\t<div className=\"bg-card dark:bg-card backdrop-blur-md border border-border dark:border-border rounded-xl shadow-lg dark:shadow-black/50 ring-1 ring-border/30 dark:ring-border/50\">\n\t\t\t\t\t\t\t\t\t\t<Card className=\"bg-transparent border-none shadow-none ring-0\">\n\t\t\t\t\t\t\t\t\t\t\t<CardHeader className=\"flex flex-row items-center justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CardTitle className=\"text-lg\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tGenerated PDF\n\t\t\t\t\t\t\t\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{selectedDocument && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge variant=\"outline\" className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv{selectedDocument.version}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<FileText className=\"h-5 w-5 text-blue-600 dark:text-blue-400\" />\n\t\t\t\t\t\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center py-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{selectedDocumentUrl ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"h-48 bg-gray-50 dark:bg-gray-800 rounded-lg border border-slate-200 dark:border-slate-700 overflow-hidden\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<iframe\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={selectedDocumentUrl}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full h-full\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"PDF Preview\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ border: \"none\" }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Action buttons */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={selectedDocumentUrl}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Eye className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tView\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full flex-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleDownloadPdf}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Download className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDownload\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Version History Toggle */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{allDocumentVersions &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallDocumentVersions.length > 1 && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"pt-2 border-t border-gray-200 dark:border-gray-700\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetShowVersionHistory(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!showVersionHistory\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<History className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{showVersionHistory\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"Hide\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Show\"}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tVersion History (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{allDocumentVersions.length})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Version History List */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{showVersionHistory && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-3 space-y-2 max-h-48 overflow-y-auto\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{allDocumentVersions.map((version) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={version._id}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedVersionId(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tversion._id ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlatestDocument?._id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: version._id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`w-full text-left px-3 py-2 rounded-md text-sm transition-colors ${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedVersionId ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tversion._id ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(!selectedVersionId &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tversion._id ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlatestDocument?._id)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Clock className=\"h-3 w-3 text-gray-400\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tVersion {version.version}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{version._id ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlatestDocument?._id && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tLatest\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tversion.generatedAt\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tversion.generatedAt\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleTimeString([], {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thour: \"2-digit\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FileText className=\"h-12 w-12 text-gray-400 mx-auto mb-3\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-gray-600 dark:text-gray-400 mb-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo PDF generated yet\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tintent=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowDocumentModal(true)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FileText className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tGenerate PDF\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Team Communication Section */}\n\t\t\t\t<div className=\"px-6 mb-8\">\n\t\t\t\t\t<MentionSection\n\t\t\t\t\t\tentityType=\"quote\"\n\t\t\t\t\t\tentityId={quoteId}\n\t\t\t\t\t\tentityName={\n\t\t\t\t\t\t\tquote?.title ||\n\t\t\t\t\t\t\t`Quote #${quote?.quoteNumber || quoteId.slice(-6)}`\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Sticky Footer with Action Buttons */}\n\t\t\t<StickyFormFooter\n\t\t\t\thasUnsavedChanges={isDirty}\n\t\t\t\tisEditing={isEditing}\n\t\t\t\tbuttons={[\n\t\t\t\t\t// Left side buttons - Status actions\n\t\t\t\t\t...(getStatusActions()\n\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel:\n\t\t\t\t\t\t\t\t\t\tquote?.status === \"draft\"\n\t\t\t\t\t\t\t\t\t\t\t? \"Mark as Sent\"\n\t\t\t\t\t\t\t\t\t\t\t: quote?.status === \"sent\"\n\t\t\t\t\t\t\t\t\t\t\t\t? \"Approve\"\n\t\t\t\t\t\t\t\t\t\t\t\t: quote?.status === \"approved\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"Reopen (Sent)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: quote?.status === \"expired\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"Reopen (Draft)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Update Status\",\n\t\t\t\t\t\t\t\t\tintent:\n\t\t\t\t\t\t\t\t\t\tquote?.status === \"draft\"\n\t\t\t\t\t\t\t\t\t\t\t? (\"primary\" as const)\n\t\t\t\t\t\t\t\t\t\t\t: quote?.status === \"sent\"\n\t\t\t\t\t\t\t\t\t\t\t\t? (\"success\" as const)\n\t\t\t\t\t\t\t\t\t\t\t\t: (\"outline\" as const),\n\t\t\t\t\t\t\t\t\ticon:\n\t\t\t\t\t\t\t\t\t\tquote?.status === \"draft\" ? (\n\t\t\t\t\t\t\t\t\t\t\t<Mail className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t) : quote?.status === \"sent\" ? (\n\t\t\t\t\t\t\t\t\t\t\t<Check className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<Edit className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\t\t\tif (quote?.status === \"draft\") {\n\t\t\t\t\t\t\t\t\t\t\thandleStatusChange(\"sent\");\n\t\t\t\t\t\t\t\t\t\t} else if (quote?.status === \"sent\") {\n\t\t\t\t\t\t\t\t\t\t\thandleStatusChange(\"approved\");\n\t\t\t\t\t\t\t\t\t\t} else if (quote?.status === \"approved\") {\n\t\t\t\t\t\t\t\t\t\t\thandleStatusChange(\"sent\");\n\t\t\t\t\t\t\t\t\t\t} else if (quote?.status === \"expired\") {\n\t\t\t\t\t\t\t\t\t\t\thandleStatusChange(\"draft\");\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tposition: \"left\" as const,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t: []),\n\t\t\t\t\t// Right side buttons - Actions\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"Send to Client\",\n\t\t\t\t\t\tintent: \"outline\",\n\t\t\t\t\t\ticon: <Mail className=\"h-4 w-4\" />,\n\t\t\t\t\t\tonClick: () => setSendEmailPopoverOpen(true),\n\t\t\t\t\t\tposition: \"right\" as const,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: \"Generate PDF\",\n\t\t\t\t\t\tintent: \"outline\",\n\t\t\t\t\t\ticon: <FileText className=\"h-4 w-4\" />,\n\t\t\t\t\t\tonClick: () => setShowDocumentModal(true),\n\t\t\t\t\t\tposition: \"right\" as const,\n\t\t\t\t\t},\n\t\t\t\t]}\n\t\t\t\tfullWidth\n\t\t\t/>\n\n\t\t\t{/* Document Selection Modal */}\n\t\t\t<DocumentSelectionModal\n\t\t\t\tisOpen={showDocumentModal}\n\t\t\t\tonClose={() => setShowDocumentModal(false)}\n\t\t\t\tonConfirm={(selectedIds) => handleGeneratePdf(selectedIds)}\n\t\t\t/>\n\n\t\t\t{/* Send Email Popover - positioned at bottom right of screen to align with footer button */}\n\t\t\t<SendEmailPopover\n\t\t\t\tisOpen={sendEmailPopoverOpen}\n\t\t\t\tonOpenChange={setSendEmailPopoverOpen}\n\t\t\t\tonConfirm={handleSendForSignature}\n\t\t\t\tprimaryContact={primaryContact}\n\t\t\t\tquoteNumber={quote?.quoteNumber || quote?._id.slice(-6)}\n\t\t\t\tdocumentVersion={latestDocument?.version}\n\t\t\t>\n\t\t\t\t<div className=\"fixed bottom-4 right-6 pointer-events-none\" />\n\t\t\t</SendEmailPopover>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":"wCAoBA,CAAA,CAAA,CAAA,CAAA,AAAM,CAAN,CAAM,CAAA,EAAU,CAAA,CAAV,AAAU,CAAV,AAAU,CAAV,AAAU,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAjBG,CAiBQ,AAhB1C,CAgB0C,AAhBzC,CAgByC,AAhBzC,CAgByC,AAhBzC,CAAA,AAgByC,CAhBzC,AAgByC,CAAA,AAhBzC,CAAA,AAgByC,CAhBzC,AAAQ,AAgBiC,CAhBjC,AAAE,AAgB+B,CAAU,CAhBtC,AAgBsC,CAhBtC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAqD,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAClF,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAQ,CAAA,AAAE,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAY,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CACzC,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAQ,CAAA,AAAE,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAe,CAAA,CAAA,CAAA,CAAK,AAAL,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAC9C,kFCNA,EAAA,EAAA,CAAA,CAAA,0CAwDA,IAAM,EAAS,EAAA,UAAU,CAAC,MAAM,CAAC,CAChC,KAAM,CACL,cAAe,SACf,gBAAiB,UACjB,QAAS,GACT,SAAU,GACV,WAAY,WACb,EACA,YAAa,CACZ,aAAc,GACd,WAAY,YACb,EACA,cAAe,CACd,MAAO,IACP,OAAQ,EACT,EACA,KAAM,CACL,MAAO,OACP,OAAQ,OACR,UAAW,UACX,eAAgB,aACjB,EACA,OAAQ,CACP,cAAe,MACf,eAAgB,gBAChB,aAAc,GACd,cAAe,GACf,kBAAmB,EACnB,kBAAmB,SACpB,EACA,WAAY,CACX,cAAe,SACf,SAAU,GACX,EACA,YAAa,CACZ,cAAe,SACf,WAAY,WACZ,eAAgB,YACjB,EACA,MAAO,CACN,SAAU,GACV,WAAY,OACZ,MAAO,UACP,aAAc,EACd,cAAe,CAChB,EACA,SAAU,CACT,SAAU,GACV,MAAO,UACP,aAAc,EACd,WAAY,GACb,EACA,YAAa,CACZ,SAAU,GACV,WAAY,OACZ,MAAO,UACP,aAAc,CACf,EACA,KAAM,CACL,SAAU,GACV,MAAO,SACR,EACA,UAAW,CACV,gBAAiB,UACjB,YAAa,EACb,YAAa,UACb,aAAc,EACd,QAAS,GACT,SAAU,GACX,EACA,QAAS,CACR,cAAe,MACf,eAAgB,gBAChB,aAAc,CACf,EACA,UAAW,CACV,SAAU,GACV,MAAO,UACP,WAAY,MACb,EACA,UAAW,CACV,SAAU,GACV,MAAO,UACP,WAAY,EACb,EACA,cAAe,CACd,UAAW,EACX,aAAc,GACd,QAAS,GACT,gBAAiB,UACjB,aAAc,CACf,EACA,aAAc,CACb,SAAU,GACV,WAAY,OACZ,MAAO,UACP,aAAc,EACd,cAAe,YACf,cAAe,EAChB,EACA,cAAe,CACd,SAAU,GACV,MAAO,UACP,WAAY,GACb,EACA,WAAY,CACX,UAAW,GACX,aAAc,GACd,YAAa,EACb,YAAa,UACb,aAAc,CACf,EACA,YAAa,CACZ,cAAe,MACf,gBAAiB,UACjB,gBAAiB,GACjB,kBAAmB,EACpB,EACA,SAAU,CACT,cAAe,MACf,kBAAmB,EACnB,kBAAmB,UACnB,gBAAiB,GACjB,kBAAmB,GACnB,gBAAiB,SAClB,EAC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","ignoreList":[0]}