module.exports=[592552,a=>{"use strict";var b=a.i(187924),c=a.i(700760);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-action",className:(0,c.cn)("col-start-2 row-span-2 row-start-1 self-start justify-self-end",a),...d})}function i({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}function j({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-footer",className:(0,c.cn)("flex items-center px-6 [.border-t]:pt-6",a),...d})}a.s(["Card",()=>d,"CardAction",()=>h,"CardContent",()=>i,"CardDescription",()=>g,"CardFooter",()=>j,"CardHeader",()=>e,"CardTitle",()=>f])},862722,a=>{"use strict";let b=(0,a.i(170106).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>b],862722)},167453,a=>{"use strict";let b=(0,a.i(170106).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],167453)},288457,a=>{"use strict";var b=a.i(478164),c=a.i(828398);a.i(236453);var d=a.i(572131),e=a.i(898003),f=(0,c.withClerk)(({clerk:a,children:e,...f})=>{let{planId:g,planPeriod:h,for:i,onSubscriptionComplete:j,newSubscriptionRedirectUrl:k,checkoutProps:l,...m}=f,{userId:n,orgId:o}=(0,c.useAuth)();if(null===n)throw Error("Clerk: Ensure that `<CheckoutButton />` is rendered inside a `<SignedIn />` component.");if(null===o&&"organization"===i)throw Error('Clerk: Wrap `<CheckoutButton for="organization" />` with a check for an active organization. Retrieve `orgId` from `useAuth()` and confirm it is defined. For SSR, see: https://clerk.com/docs/reference/backend/types/auth-object#how-to-access-the-auth-object');e=(0,b.normalizeWithDefaultValue)(e,"Checkout");let p=(0,b.assertSingleChild)(e)("CheckoutButton"),q=async c=>(p&&"object"==typeof p&&"props"in p&&await (0,b.safeExecute)(p.props.onClick)(c),a)?a.__internal_openCheckout({planId:g,planPeriod:h,for:i,onSubscriptionComplete:j,newSubscriptionRedirectUrl:k,...l}):void 0,r={...m,onClick:q};return d.default.cloneElement(p,r)},{component:"CheckoutButton",renderWhileLoading:!0}),g=(0,c.withClerk)(({clerk:a,children:c,...e})=>{let{plan:f,planId:g,initialPlanPeriod:h,planDetailsProps:i,...j}=e;c=(0,b.normalizeWithDefaultValue)(c,"Plan details");let k=(0,b.assertSingleChild)(c)("PlanDetailsButton"),l=async c=>(k&&"object"==typeof k&&"props"in k&&await (0,b.safeExecute)(k.props.onClick)(c),a)?a.__internal_openPlanDetails({plan:f,planId:g,initialPlanPeriod:h,...i}):void 0,m={...j,onClick:l};return d.default.cloneElement(k,m)},{component:"PlanDetailsButton",renderWhileLoading:!0}),h=(0,c.withClerk)(({clerk:a,children:e,...f})=>{let{for:g,subscriptionDetailsProps:h,onSubscriptionCancel:i,...j}=f;e=(0,b.normalizeWithDefaultValue)(e,"Subscription details");let k=(0,b.assertSingleChild)(e)("SubscriptionDetailsButton"),{userId:l,orgId:m}=(0,c.useAuth)();if(null===l)throw Error("Clerk: Ensure that `<SubscriptionDetailsButton />` is rendered inside a `<SignedIn />` component.");if(null===m&&"organization"===g)throw Error('Clerk: Wrap `<SubscriptionDetailsButton for="organization" />` with a check for an active organization. Retrieve `orgId` from `useAuth()` and confirm it is defined. For SSR, see: https://clerk.com/docs/reference/backend/types/auth-object#how-to-access-the-auth-object');let n=async c=>(k&&"object"==typeof k&&"props"in k&&await (0,b.safeExecute)(k.props.onClick)(c),a)?a.__internal_openSubscriptionDetails({for:g,onSubscriptionCancel:i,...h}):void 0,o={...j,onClick:n};return d.default.cloneElement(k,o)},{component:"SubscriptionDetailsButton",renderWhileLoading:!0});function i(a){(0,c.useAssertWrappedByClerkProvider)("useClerkSignal");let b=(0,c.useIsomorphicClerkContext)(),e=(0,d.useCallback)(c=>b.loaded?b.__internal_state.__internal_effect(()=>{switch(a){case"signIn":b.__internal_state.signInSignal();break;case"signUp":b.__internal_state.signUpSignal();break;default:throw Error(`Unknown signal: ${a}`)}c()}):()=>{},[b,b.loaded,b.__internal_state]),f=(0,d.useCallback)(()=>{switch(a){case"signIn":return b.__internal_state.signInSignal();case"signUp":return b.__internal_state.signUpSignal();default:throw Error(`Unknown signal: ${a}`)}},[b.__internal_state]);return(0,d.useSyncExternalStore)(e,f,f)}function j(){return i("signIn")}function k(){return i("signUp")}a.s(["CheckoutButton",()=>f,"PlanDetailsButton",()=>g,"SubscriptionDetailsButton",()=>h,"useSignInSignal",()=>j,"useSignUpSignal",()=>k],176569),a.i(176569),a.s(["CheckoutButton",()=>f,"SubscriptionDetailsButton",()=>h,"usePlans",()=>e.__experimental_usePlans],288457)},20351,a=>{"use strict";var b=a.i(187924);a.i(511241);var c=a.i(296373),d=a.i(130487),e=a.i(200994),f=a.i(629662),g=a.i(288457),h=a.i(592552),i=a.i(968177),j=a.i(167453),k=a.i(862722);function l(){let a=(0,c.useQuery)(d.api.lib.permissions.debugAuthToken),l=(0,e.useFeatureAccess)(),{has:m,isLoaded:n}=(0,f.useAuth)(),{data:o}=(0,g.usePlans)({for:"user",pageSize:10});console.log(o);let p=[{label:"has({ feature: 'premium_feature_access' })",result:m&&m({feature:"premium_feature_access"})},{label:"has({ plan: 'onetool_business_plan_org' })",result:m&&m({plan:"onetool_business_plan_org"})},{label:"has({ plan: 'free_user' })",result:m&&m({plan:"free_user"})},{label:"has({ plan: 'free_org' })",result:m&&m({plan:"free_org"})}];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(h.Card,{className:"border-blue-500/50 bg-blue-500/5",children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsx)(h.CardTitle,{children:"Direct Frontend Plan Check (useAuth)"}),(0,b.jsxs)(h.CardDescription,{children:["Directly testing has(","{ plan: 'onetool_business_plan_org' }",")"]})]}),(0,b.jsx)(h.CardContent,{className:"space-y-4",children:n?(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-sm font-semibold mb-2",children:"Plan Tests:"}),p.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[a.result?(0,b.jsx)(j.CheckCircle2,{className:"h-4 w-4 text-green-500"}):(0,b.jsx)(k.XCircle,{className:"h-4 w-4 text-red-500"}),(0,b.jsxs)("span",{className:"text-sm font-mono",children:[a.label,":"]}),(0,b.jsx)(i.Badge,{variant:a.result?"default":"secondary",children:a.result?"TRUE":"FALSE"})]},c))]})}):(0,b.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsx)(h.CardTitle,{children:"Frontend Check (use-feature-access hook)"}),(0,b.jsx)(h.CardDescription,{children:"Combined check using Clerk's has() method and publicMetadata"})]}),(0,b.jsxs)(h.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[l.hasPremiumAccess?(0,b.jsx)(j.CheckCircle2,{className:"h-5 w-5 text-green-500"}):(0,b.jsx)(k.XCircle,{className:"h-5 w-5 text-red-500"}),(0,b.jsx)("span",{className:"font-semibold",children:"Premium Access:"}),(0,b.jsx)(i.Badge,{variant:l.hasPremiumAccess?"default":"secondary",children:l.hasPremiumAccess?"TRUE":"FALSE"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[l.hasOrganization?(0,b.jsx)(j.CheckCircle2,{className:"h-5 w-5 text-green-500"}):(0,b.jsx)(k.XCircle,{className:"h-5 w-5 text-red-500"}),(0,b.jsx)("span",{className:"font-semibold",children:"Has Organization:"}),(0,b.jsx)(i.Badge,{variant:l.hasOrganization?"default":"secondary",children:l.hasOrganization?"TRUE":"FALSE"})]}),(0,b.jsx)("div",{className:"mt-4 p-4 bg-muted rounded-md",children:(0,b.jsxs)("p",{className:"text-sm font-mono",children:["Loading: ",l.isLoading?"true":"false"]})})]})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsx)(h.CardTitle,{children:"Backend Token Check (Convex)"}),(0,b.jsx)(h.CardDescription,{children:"Shows what's in the JWT token on the backend"})]}),(0,b.jsx)(h.CardContent,{children:a?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold mb-2",children:"User Info"}),(0,b.jsxs)("div",{className:"p-4 bg-muted rounded-md space-y-1 font-mono text-sm",children:[(0,b.jsxs)("p",{children:["Subject: ",a.subject]}),(0,b.jsxs)("p",{children:["Email: ",a.email||"Not set"]}),(0,b.jsxs)("p",{children:["Issuer: ",a.issuer]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold mb-2",children:"Public Metadata"}),(0,b.jsx)("div",{className:"p-4 bg-muted rounded-md",children:(0,b.jsx)("pre",{className:"text-xs overflow-auto",children:JSON.stringify(a.publicMetadata,null,2)})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold mb-2",children:"Premium Access Checks"}),(0,b.jsx)("div",{className:"p-4 bg-muted rounded-md space-y-2",children:a.publicMetadataChecks?Object.entries(a.publicMetadataChecks).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[c?(0,b.jsx)(j.CheckCircle2,{className:"h-4 w-4 text-green-500"}):(0,b.jsx)(k.XCircle,{className:"h-4 w-4 text-red-500"}),(0,b.jsxs)("span",{className:"text-sm font-mono",children:[a,":"]}),(0,b.jsx)(i.Badge,{variant:c?"default":"secondary",children:c?"TRUE":"FALSE"})]},a)):(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No metadata checks"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold mb-2",children:"Plan Checks"}),(0,b.jsx)("div",{className:"p-4 bg-muted rounded-md space-y-2",children:a.planChecks?Object.entries(a.planChecks).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[c?(0,b.jsx)(j.CheckCircle2,{className:"h-4 w-4 text-green-500"}):(0,b.jsx)(k.XCircle,{className:"h-4 w-4 text-red-500"}),(0,b.jsxs)("span",{className:"text-sm font-mono",children:[a,":"]}),(0,b.jsx)(i.Badge,{variant:c?"default":"secondary",children:c?String(c):"NOT SET"})]},a)):(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No plan data"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold mb-2",children:"Available Token Keys"}),(0,b.jsx)("div",{className:"p-4 bg-muted rounded-md",children:(0,b.jsx)("pre",{className:"text-xs overflow-auto",children:JSON.stringify(a.availableKeys,null,2)})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold mb-2",children:"Full Token Data"}),(0,b.jsx)("div",{className:"p-4 bg-muted rounded-md",children:(0,b.jsx)("pre",{className:"text-xs overflow-auto max-h-96",children:JSON.stringify(a.fullTokenData,null,2)})})]})]}):(0,b.jsx)("p",{className:"text-muted-foreground",children:"Loading token data..."})})]})]})}a.s(["ClientChecks",()=>l])}];

//# sourceMappingURL=_8317f285._.js.map