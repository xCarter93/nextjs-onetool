(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,643531,e=>{"use strict";var t=e.i(678745);e.s(["Check",()=>t.default])},778917,e=>{"use strict";let t=(0,e.i(475254).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>t],778917)},727612,e=>{"use strict";let t=(0,e.i(475254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],727612)},565835,e=>{"use strict";var t=e.i(843476),r=e.i(147145),a=e.i(407107),s=e.i(361922);e.s(["default",0,({isOpen:e,onClose:i,onConfirm:n,title:l,itemName:d,itemType:o,isArchive:c=!1})=>{let u=(0,s.useToast)(),m=async()=>{try{await n(),c?u.success(`${o} Archived`,`"${d}" has been archived successfully. You can restore it within 7 days.`):u.success(`${o} Deleted`,`"${d}" has been permanently deleted.`),i()}catch(e){u.error(`Failed to ${c?"archive":"delete"} ${o.toLowerCase()}`,e instanceof Error?e.message:"An unexpected error occurred")}};return(0,t.jsx)(r.default,{isOpen:e,onClose:i,title:l,size:"sm",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"shrink-0",children:(0,t.jsx)("svg",{className:"h-10 w-10 text-red-500",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Are you sure?"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:c?(0,t.jsxs)(t.Fragment,{children:["This will archive the ",(0,t.jsx)("strong",{children:o}),' "',d,'". Archived ',o.toLowerCase(),"s will have all associated details deleted in 7 days, but you can restore them before then."]}):(0,t.jsxs)(t.Fragment,{children:["This action cannot be undone. This will permanently delete the"," ",(0,t.jsx)("strong",{children:o}),' "',d,'" and remove all associated data.']})})]})]}),!c&&(0,t.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-3",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"shrink-0",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z",clipRule:"evenodd"})})}),(0,t.jsx)("div",{className:"ml-3",children:(0,t.jsxs)("p",{className:"text-sm text-red-700 dark:text-red-300",children:[(0,t.jsx)("strong",{children:"Warning:"})," This is a destructive action that cannot be reversed."]})})]})}),c&&(0,t.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-md p-3",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"shrink-0",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 5a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 5zm0 9a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),(0,t.jsx)("div",{className:"ml-3",children:(0,t.jsxs)("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:[(0,t.jsx)("strong",{children:"Archive Notice:"})," Archived items can be restored within 7 days. After 7 days, they will be permanently deleted."]})})]})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,t.jsx)(a.StyledButton,{onClick:i,intent:"secondary",children:"Cancel"}),(0,t.jsx)(a.StyledButton,{onClick:m,intent:c?"warning":"destructive",children:c?`Archive ${o}`:`Delete ${o}`})]})]})})}])},900175,415882,742968,222462,99211,e=>{"use strict";e.i(407107),e.i(428055);var t=e.i(843476),r=e.i(610012),a=e.i(152088);function s({className:e,...s}){return(0,t.jsx)(r.Input,{className:(0,a.cn)("transition-all duration-200 focus:ring-2 focus:ring-primary/20 dark:focus:ring-primary/30",e),...s})}e.s(["StyledInput",()=>s],415882),e.i(512523);var i=e.i(829164);function n({className:e,...r}){return(0,t.jsx)(i.Table,{className:(0,a.cn)("rounded-lg border overflow-hidden",e),...r})}function l({className:e,...r}){return(0,t.jsx)(i.TableHeader,{className:(0,a.cn)("bg-muted/50 sticky top-0 z-10",e),...r})}function d({className:e,...r}){return(0,t.jsx)(i.TableBody,{className:(0,a.cn)("",e),...r})}function o({className:e,...r}){return(0,t.jsx)(i.TableRow,{className:(0,a.cn)("transition-colors hover:bg-muted/30",e),...r})}function c({className:e,...r}){return(0,t.jsx)(i.TableHead,{className:(0,a.cn)("font-semibold",e),...r})}function u({className:e,...r}){return(0,t.jsx)(i.TableCell,{className:(0,a.cn)("",e),...r})}e.s(["StyledTable",()=>n,"StyledTableBody",()=>d,"StyledTableCell",()=>u,"StyledTableHead",()=>c,"StyledTableHeader",()=>l,"StyledTableRow",()=>o],742968),e.i(547608),e.i(51738);var m=e.i(313318);function x({className:e,...r}){return(0,t.jsx)(m.Tabs,{className:(0,a.cn)("w-full",e),...r})}function p({className:e,...r}){return(0,t.jsx)(m.TabsList,{className:(0,a.cn)("bg-background/80 dark:bg-background/60","ring-1 ring-border/40 dark:ring-border/30","backdrop-blur-sm","shadow-sm","p-0 gap-0 rounded-lg",e),...r})}function h({className:e,...r}){return(0,t.jsx)(m.TabsTrigger,{className:(0,a.cn)("transition-all duration-200","data-[state=active]:bg-primary/10 dark:data-[state=active]:bg-primary/20","data-[state=active]:text-primary dark:data-[state=active]:text-primary-foreground","data-[state=active]:ring-1 data-[state=active]:ring-primary/30 dark:data-[state=active]:ring-primary/40","data-[state=active]:shadow-sm","hover:bg-accent/30 hover:text-accent-foreground","font-medium","px-3 py-1.5",e),...r})}function g({className:e,...r}){return(0,t.jsx)(m.TabsContent,{className:(0,a.cn)("mt-6 animate-in fade-in-50 duration-200",e),...r})}e.s(["StyledTabs",()=>x,"StyledTabsContent",()=>g,"StyledTabsList",()=>p,"StyledTabsTrigger",()=>h],222462);var b=e.i(271645);e.s(["StyledTagsInput",0,({tags:e,setTags:r,onTagAdded:s,onTagRemoved:i,editTag:n=!0,className:l,placeholder:d="Add a tag...",disabled:o=!1})=>{let[c,u]=(0,b.useState)(""),[m,x]=(0,b.useState)(null),p=(0,b.useRef)(null),h=t=>{let a=c.trim();if(("Enter"===t.key||","===t.key)&&a){if(t.preventDefault(),null!==m){let t=[...e],i=e[m];t[m]=a,r(t),x(null),i!==a&&s?.(a)}else e.includes(a)||(r([...e,a]),s?.(a));u("")}},g=()=>{if(null!==m){let t=[...e],a=c.trim();a?t[m]=a:t.splice(m,1),r(t),x(null)}u("")};return(0,b.useEffect)(()=>{p.current&&(p.current.style.width=`${c.length+1}ch`)},[c]),(0,t.jsxs)("div",{className:(0,a.cn)("flex flex-wrap w-full items-center gap-2 p-3 rounded-lg border transition-colors","bg-white dark:bg-gray-900/50","border-gray-200 dark:border-white/10",!o&&"focus-within:border-primary focus-within:ring-1 focus-within:ring-primary/20",l),children:[e.map((s,l)=>(0,t.jsx)("div",{className:"relative",children:n&&m===l?(0,t.jsx)("input",{ref:p,type:"text",value:c,onChange:e=>u(e.target.value),onKeyDown:h,onBlur:g,className:(0,a.cn)("px-3 py-1.5 text-sm rounded-md border outline-none transition-colors","bg-gray-50 dark:bg-gray-800","border-gray-300 dark:border-gray-600","focus:border-primary focus:ring-1 focus:ring-primary/20"),placeholder:"Edit tag...",style:{width:`${Math.max(c.length+1,8)}ch`},autoFocus:!0,disabled:o}):(0,t.jsxs)("div",{onClick:()=>!o&&void(n&&!o&&(u(e[l]),x(l),setTimeout(()=>p.current?.focus(),0))),className:(0,a.cn)("flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium rounded-md transition-all","bg-primary/10 text-primary dark:bg-primary/20 dark:text-primary-foreground","border border-primary/20 dark:border-primary/30",o?"cursor-default":"cursor-pointer hover:bg-primary/20 dark:hover:bg-primary/30 hover:border-primary/30"),children:[s,!o&&(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),r(e.filter(e=>e!==s)),null!==m&&x(null),i?.(s)},className:(0,a.cn)("ml-0.5 -mr-1 text-primary/70 hover:text-primary dark:text-primary-foreground/70 dark:hover:text-primary-foreground","focus:outline-none transition-colors text-lg leading-none hover:scale-110"),"aria-label":"Remove tag",children:"×"})]})},`${s}-${l}`)),!o&&(0,t.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),onKeyDown:h,className:(0,a.cn)("flex-grow min-w-[120px] px-2 py-1 text-sm border-none outline-none","bg-transparent","placeholder:text-gray-500 dark:placeholder:text-gray-400",null!==m?"opacity-0":"opacity-100"),placeholder:d})]})}],99211),e.i(35723),e.s([],900175)},428055,e=>{"use strict";var t=e.i(843476),r=e.i(264036),a=e.i(152088);function s({className:e,children:s,...i}){return(0,t.jsxs)(r.Card,{className:(0,a.cn)("group relative backdrop-blur-md overflow-hidden ring-1 ring-border/20 dark:ring-border/40",e),...i,children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-linear-to-br from-white/10 via-white/5 to-transparent dark:from-white/5 dark:via-white/2 dark:to-transparent rounded-2xl pointer-events-none"}),(0,t.jsx)("div",{className:"relative z-10",children:s})]})}function i({className:e,...s}){return(0,t.jsx)(r.CardHeader,{className:(0,a.cn)("relative z-10",e),...s})}function n({className:e,...s}){return(0,t.jsx)(r.CardTitle,{className:(0,a.cn)("relative z-10",e),...s})}function l({className:e,...s}){return(0,t.jsx)(r.CardDescription,{className:(0,a.cn)("relative z-10",e),...s})}function d({className:e,...s}){return(0,t.jsx)(r.CardContent,{className:(0,a.cn)("relative z-10",e),...s})}function o({className:e,...s}){return(0,t.jsx)(r.CardFooter,{className:(0,a.cn)("relative z-10",e),...s})}e.s(["StyledCard",()=>s,"StyledCardContent",()=>d,"StyledCardDescription",()=>l,"StyledCardFooter",()=>o,"StyledCardHeader",()=>i,"StyledCardTitle",()=>n])},264036,e=>{"use strict";var t=e.i(843476),r=e.i(152088);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function s({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...a})}function n({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...a})}function l({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-action",className:(0,r.cn)("col-start-2 row-span-2 row-start-1 self-start justify-self-end",e),...a})}function d({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...a})}function o({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",e),...a})}e.s(["Card",()=>a,"CardAction",()=>l,"CardContent",()=>d,"CardDescription",()=>n,"CardFooter",()=>o,"CardHeader",()=>s,"CardTitle",()=>i])},373884,e=>{"use strict";let t=(0,e.i(475254).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],373884)},829164,e=>{"use strict";var t=e.i(843476),r=e.i(152088);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,r.cn)("w-full caption-bottom text-sm",e),...a})})}function s({className:e,...a}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,r.cn)("[&_tr]:border-b",e),...a})}function i({className:e,...a}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,r.cn)("[&_tr:last-child]:border-0",e),...a})}function n({className:e,...a}){return(0,t.jsx)("tfoot",{"data-slot":"table-footer",className:(0,r.cn)("bg-muted/50 border-t font-medium [&>tr]:last:border-b-0",e),...a})}function l({className:e,...a}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,r.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...a})}function d({className:e,...a}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,r.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}function o({className:e,...a}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,r.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}function c({className:e,...a}){return(0,t.jsx)("caption",{"data-slot":"table-caption",className:(0,r.cn)("text-muted-foreground mt-4 text-sm",e),...a})}e.s(["Table",()=>a,"TableBody",()=>i,"TableCaption",()=>c,"TableCell",()=>o,"TableFooter",()=>n,"TableHead",()=>d,"TableHeader",()=>s,"TableRow",()=>l])},313318,e=>{"use strict";var t=e.i(843476),r=e.i(271645),a=e.i(981140),s=e.i(30030),i=e.i(842727),n=e.i(296626),l=e.i(248425),d=e.i(586318),o=e.i(369340),c=e.i(610772),u="Tabs",[m,x]=(0,s.createContextScope)(u,[i.createRovingFocusGroupScope]),p=(0,i.createRovingFocusGroupScope)(),[h,g]=m(u),b=r.forwardRef((e,r)=>{let{__scopeTabs:a,value:s,onValueChange:i,defaultValue:n,orientation:m="horizontal",dir:x,activationMode:p="automatic",...g}=e,b=(0,d.useDirection)(x),[f,v]=(0,o.useControllableState)({prop:s,onChange:i,defaultProp:n??"",caller:u});return(0,t.jsx)(h,{scope:a,baseId:(0,c.useId)(),value:f,onValueChange:v,orientation:m,dir:b,activationMode:p,children:(0,t.jsx)(l.Primitive.div,{dir:b,"data-orientation":m,...g,ref:r})})});b.displayName=u;var f="TabsList",v=r.forwardRef((e,r)=>{let{__scopeTabs:a,loop:s=!0,...n}=e,d=g(f,a),o=p(a);return(0,t.jsx)(i.Root,{asChild:!0,...o,orientation:d.orientation,dir:d.dir,loop:s,children:(0,t.jsx)(l.Primitive.div,{role:"tablist","aria-orientation":d.orientation,...n,ref:r})})});v.displayName=f;var y="TabsTrigger",j=r.forwardRef((e,r)=>{let{__scopeTabs:s,value:n,disabled:d=!1,...o}=e,c=g(y,s),u=p(s),m=C(c.baseId,n),x=k(c.baseId,n),h=n===c.value;return(0,t.jsx)(i.Item,{asChild:!0,...u,focusable:!d,active:h,children:(0,t.jsx)(l.Primitive.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":x,"data-state":h?"active":"inactive","data-disabled":d?"":void 0,disabled:d,id:m,...o,ref:r,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{d||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(n)}),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(n)}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;h||d||!e||c.onValueChange(n)})})})});j.displayName=y;var N="TabsContent",w=r.forwardRef((e,a)=>{let{__scopeTabs:s,value:i,forceMount:d,children:o,...c}=e,u=g(N,s),m=C(u.baseId,i),x=k(u.baseId,i),p=i===u.value,h=r.useRef(p);return r.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(n.Presence,{present:d||p,children:({present:r})=>(0,t.jsx)(l.Primitive.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!r,id:x,tabIndex:0,...c,ref:a,style:{...e.style,animationDuration:h.current?"0s":void 0},children:r&&o})})});function C(e,t){return`${e}-trigger-${t}`}function k(e,t){return`${e}-content-${t}`}w.displayName=N;var T=e.i(152088);function S({className:e,...r}){return(0,t.jsx)(b,{"data-slot":"tabs",className:(0,T.cn)("flex flex-col gap-2",e),...r})}function R({className:e,...r}){return(0,t.jsx)(v,{"data-slot":"tabs-list",className:(0,T.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...r})}function P({className:e,...r}){return(0,t.jsx)(j,{"data-slot":"tabs-trigger",className:(0,T.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function z({className:e,...r}){return(0,t.jsx)(w,{"data-slot":"tabs-content",className:(0,T.cn)("flex-1 outline-none",e),...r})}e.s(["Tabs",()=>S,"TabsContent",()=>z,"TabsList",()=>R,"TabsTrigger",()=>P],313318)},512523,e=>{"use strict";var t=e.i(843476),r=e.i(907347),a=e.i(152088);function s({className:e,variant:s,...i}){return(0,t.jsx)(r.Badge,{className:(0,a.cn)("transition-all duration-200",e),variant:s,...i})}e.s(["StyledBadge",()=>s])},555436,e=>{"use strict";let t=(0,e.i(475254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],555436)},664659,e=>{"use strict";var t=e.i(631171);e.s(["ChevronDown",()=>t.default])},267218,e=>{"use strict";var t=e.i(843476);e.i(418094);var r=e.i(225913),a=e.i(152088);e.i(876581);let s=(0,r.cva)("flex w-fit items-stretch [&>*]:focus-visible:z-10 [&>*]:focus-visible:relative [&>[data-slot=select-trigger]:not([class*='w-'])]:w-fit [&>input]:flex-1 has-[select[aria-hidden=true]:last-child]:[&>[data-slot=select-trigger]:last-of-type]:rounded-r-md has-[>[data-slot=button-group]]:gap-2",{variants:{orientation:{horizontal:"[&>*:not(:first-child)]:rounded-l-none [&>*:not(:first-child)]:border-l-0 [&>*:not(:last-child)]:rounded-r-none",vertical:"flex-col [&>*:not(:first-child)]:rounded-t-none [&>*:not(:first-child)]:border-t-0 [&>*:not(:last-child)]:rounded-b-none"}},defaultVariants:{orientation:"horizontal"}});function i({className:e,orientation:r,...i}){return(0,t.jsx)("div",{role:"group","data-slot":"button-group","data-orientation":r,className:(0,a.cn)(s({orientation:r}),e),...i})}e.s(["ButtonGroup",()=>i])},752822,(e,t,r)=>{"use strict";var a=e.r(271645),s=e.r(802239),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=s.useSyncExternalStore,l=a.useRef,d=a.useEffect,o=a.useMemo,c=a.useDebugValue;r.useSyncExternalStoreWithSelector=function(e,t,r,a,s){var u=l(null);if(null===u.current){var m={hasValue:!1,value:null};u.current=m}else m=u.current;var x=n(e,(u=o(function(){function e(e){if(!d){if(d=!0,n=e,e=a(e),void 0!==s&&m.hasValue){var t=m.value;if(s(t,e))return l=t}return l=e}if(t=l,i(n,e))return t;var r=a(e);return void 0!==s&&s(t,r)?(n=e,t):(n=e,l=r)}var n,l,d=!1,o=void 0===r?null:r;return[function(){return e(t())},null===o?void 0:function(){return e(o())}]},[t,r,a,s]))[0],u[1]);return d(function(){m.hasValue=!0,m.value=x},[x]),c(x),x}},430224,(e,t,r)=>{"use strict";t.exports=e.r(752822)},573511,e=>{"use strict";var t=e.i(843476),r=e.i(271645),a=e.i(981140),s=e.i(820783),i=e.i(30030),n=e.i(248425),l=e.i(842727),d=e.i(369340),o=e.i(586318),c=e.i(635804),u=e.i(999682),m=e.i(296626),x="Radio",[p,h]=(0,i.createContextScope)(x),[g,b]=p(x),f=r.forwardRef((e,i)=>{let{__scopeRadio:l,name:d,checked:o=!1,required:c,disabled:u,value:m="on",onCheck:x,form:p,...h}=e,[b,f]=r.useState(null),v=(0,s.useComposedRefs)(i,e=>f(e)),y=r.useRef(!1),w=!b||p||!!b.closest("form");return(0,t.jsxs)(g,{scope:l,checked:o,disabled:u,children:[(0,t.jsx)(n.Primitive.button,{type:"button",role:"radio","aria-checked":o,"data-state":N(o),"data-disabled":u?"":void 0,disabled:u,value:m,...h,ref:v,onClick:(0,a.composeEventHandlers)(e.onClick,e=>{o||x?.(),w&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})}),w&&(0,t.jsx)(j,{control:b,bubbles:!y.current,name:d,value:m,checked:o,required:c,disabled:u,form:p,style:{transform:"translateX(-100%)"}})]})});f.displayName=x;var v="RadioIndicator",y=r.forwardRef((e,r)=>{let{__scopeRadio:a,forceMount:s,...i}=e,l=b(v,a);return(0,t.jsx)(m.Presence,{present:s||l.checked,children:(0,t.jsx)(n.Primitive.span,{"data-state":N(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:r})})});y.displayName=v;var j=r.forwardRef(({__scopeRadio:e,control:a,checked:i,bubbles:l=!0,...d},o)=>{let m=r.useRef(null),x=(0,s.useComposedRefs)(m,o),p=(0,u.usePrevious)(i),h=(0,c.useSize)(a);return r.useEffect(()=>{let e=m.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(p!==i&&t){let r=new Event("click",{bubbles:l});t.call(e,i),e.dispatchEvent(r)}},[p,i,l]),(0,t.jsx)(n.Primitive.input,{type:"radio","aria-hidden":!0,defaultChecked:i,...d,tabIndex:-1,ref:x,style:{...d.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function N(e){return e?"checked":"unchecked"}j.displayName="RadioBubbleInput";var w=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],C="RadioGroup",[k,T]=(0,i.createContextScope)(C,[l.createRovingFocusGroupScope,h]),S=(0,l.createRovingFocusGroupScope)(),R=h(),[P,z]=k(C),I=r.forwardRef((e,r)=>{let{__scopeRadioGroup:a,name:s,defaultValue:i,value:c,required:u=!1,disabled:m=!1,orientation:x,dir:p,loop:h=!0,onValueChange:g,...b}=e,f=S(a),v=(0,o.useDirection)(p),[y,j]=(0,d.useControllableState)({prop:c,defaultProp:i??null,onChange:g,caller:C});return(0,t.jsx)(P,{scope:a,name:s,required:u,disabled:m,value:y,onValueChange:j,children:(0,t.jsx)(l.Root,{asChild:!0,...f,orientation:x,dir:v,loop:h,children:(0,t.jsx)(n.Primitive.div,{role:"radiogroup","aria-required":u,"aria-orientation":x,"data-disabled":m?"":void 0,dir:v,...b,ref:r})})})});I.displayName=C;var A="RadioGroupItem",F=r.forwardRef((e,i)=>{let{__scopeRadioGroup:n,disabled:d,...o}=e,c=z(A,n),u=c.disabled||d,m=S(n),x=R(n),p=r.useRef(null),h=(0,s.useComposedRefs)(i,p),g=c.value===o.value,b=r.useRef(!1);return r.useEffect(()=>{let e=e=>{w.includes(e.key)&&(b.current=!0)},t=()=>b.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,t.jsx)(l.Item,{asChild:!0,...m,focusable:!u,active:g,children:(0,t.jsx)(f,{disabled:u,required:c.required,checked:g,...x,...o,name:c.name,ref:h,onCheck:()=>c.onValueChange(o.value),onKeyDown:(0,a.composeEventHandlers)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,a.composeEventHandlers)(o.onFocus,()=>{b.current&&p.current?.click()})})})});F.displayName=A;var M=r.forwardRef((e,r)=>{let{__scopeRadioGroup:a,...s}=e,i=R(a);return(0,t.jsx)(y,{...i,...s,ref:r})});M.displayName="RadioGroupIndicator";var q=e.i(733498),D=e.i(152088);function L({className:e,disabled:r=!1,...a}){return(0,t.jsx)(I,{"data-slot":"radio-group",className:(0,D.cn)("grid gap-3",e),disabled:r,"aria-disabled":r,...a})}function B({className:e,...r}){return(0,t.jsx)(F,{"data-slot":"radio-group-item",className:(0,D.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,t.jsx)(M,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,t.jsx)(q.CircleIcon,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}e.s(["RadioGroup",()=>L,"RadioGroupItem",()=>B],573511)},569074,e=>{"use strict";let t=(0,e.i(475254).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>t],569074)},957088,e=>{"use strict";var t=e.i(843476),r=e.i(271645),a=e.i(569074),s=e.i(178583),i=e.i(37727),n=e.i(985902);function l({onFileSelect:e,maxSizeMB:l=5,disabled:d=!1}){let[o,c]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null),[x,p]=(0,r.useState)(null),h=(0,r.useCallback)(t=>{if(!t.name.endsWith(".csv"))return void p("Please upload a CSV file");let r=1024*l*1024;if(t.size>r)return void p(`File size exceeds ${l}MB limit`);let a=new FileReader;a.onload=r=>{let a=r.target?.result;m(t),p(null),e(t,a)},a.onerror=()=>{p("Failed to read file")},a.readAsText(t)},[l,e]),g=(0,r.useCallback)(e=>{if(e.preventDefault(),e.stopPropagation(),c(!1),d)return;let t=Array.from(e.dataTransfer.files);t.length>0&&h(t[0])},[d,h]),b=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),d||c(!0)},[d]),f=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),c(!1)},[]),v=(0,r.useCallback)(e=>{if(d)return;let t=e.target.files;t&&t.length>0&&h(t[0])},[d,h]),y=(0,r.useCallback)(()=>{m(null),p(null)},[]);return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{onDrop:g,onDragOver:b,onDragLeave:f,className:`
					relative rounded-lg border-2 border-dashed p-8 text-center transition-all
					${o?"border-primary bg-primary/5 scale-[1.02]":"border-border"}
					${u?"bg-muted/30":"hover:border-primary/50 hover:bg-muted/20"}
				`,"aria-disabled":d,children:[(0,t.jsx)("input",{type:"file",accept:".csv",onChange:v,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",id:"csv-upload",disabled:d,tabIndex:d?-1:0,"aria-disabled":d}),u?(0,t.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,t.jsx)(s.FileText,{className:"w-6 h-6 text-primary"}),(0,t.jsxs)("div",{className:"flex-1 text-left",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-foreground",children:u.name}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(u.size/1024).toFixed(2)," KB"]})]}),(0,t.jsx)(n.Button,{intent:"outline",size:"sm",onClick:e=>{e.preventDefault(),y()},className:"hover:bg-destructive/10 hover:text-destructive",isDisabled:d,children:(0,t.jsx)(i.X,{className:"w-4 h-4"})})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsx)("div",{className:"rounded-full bg-primary/10 p-4",children:(0,t.jsx)(a.Upload,{className:"w-8 h-8 text-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-foreground",children:["Drop your CSV file here, or"," ",(0,t.jsx)("span",{className:"text-primary",children:"browse"})]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Maximum file size: ",l,"MB"]})]})]})]}),x&&(0,t.jsx)("div",{className:"p-3 bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:x})})]})}var d=e.i(643531),o=e.i(878894),c=e.i(680707);let u={companyName:{type:"string",required:!0},status:{type:"enum",required:!0,options:["lead","prospect","active","inactive","archived"]},emailOptIn:{type:"boolean",required:!0},smsOptIn:{type:"boolean",required:!0},industry:{type:"string",required:!1},companyDescription:{type:"string",required:!1},leadSource:{type:"enum",required:!1,options:["word-of-mouth","website","social-media","referral","advertising","trade-show","cold-outreach","other"]},category:{type:"enum",required:!1,options:["design","development","consulting","maintenance","marketing","other"]},clientSize:{type:"enum",required:!1,options:["small","medium","large","enterprise"]},clientType:{type:"enum",required:!1,options:["new-client","existing-client","partner","vendor","contractor"]},isActive:{type:"boolean",required:!1},priorityLevel:{type:"enum",required:!1,options:["low","medium","high","urgent"]},projectDimensions:{type:"string",required:!1},communicationPreference:{type:"enum",required:!1,options:["email","phone","both"]},servicesNeeded:{type:"array",required:!1},tags:{type:"array",required:!1},notes:{type:"string",required:!1}},m={title:{type:"string",required:!0},status:{type:"enum",required:!0,options:["planned","in-progress","completed","cancelled"]},projectType:{type:"enum",required:!0,options:["one-off","recurring"]},clientId:{type:"id",required:!0},description:{type:"string",required:!1},instructions:{type:"string",required:!1},projectNumber:{type:"string",required:!1},startDate:{type:"number",required:!1},endDate:{type:"number",required:!1},salespersonId:{type:"id",required:!1},assignedUserIds:{type:"array",required:!1},invoiceReminderEnabled:{type:"boolean",required:!1},scheduleForLater:{type:"boolean",required:!1}};function x({entityType:e,mappings:r,validation:a,onMappingChange:s}){let n={isValid:a?.isValid??!1,errors:a?.errors??[],warnings:a?.warnings??[],missingRequiredFields:a?.missingRequiredFields??[]},l="clients"===e?u:m,x=Object.keys(l);return(0,t.jsxs)("div",{className:"space-y-4",children:[(n.errors.length>0||n.warnings.length>0)&&(0,t.jsxs)("div",{className:"space-y-2",children:[n.errors.length>0&&(0,t.jsxs)("div",{className:"p-3 bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded-lg",children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-red-800 dark:text-red-200 mb-2",children:["Errors (",n.errors.length,")"]}),(0,t.jsx)("ul",{className:"space-y-1",children:n.errors.map((e,r)=>(0,t.jsxs)("li",{className:"text-xs text-red-700 dark:text-red-300",children:["• ",e.message]},r))})]}),n.warnings.length>0&&(0,t.jsxs)("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-950 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-yellow-800 dark:text-yellow-200 mb-2",children:["Warnings (",n.warnings.length,")"]}),(0,t.jsx)("ul",{className:"space-y-1",children:n.warnings.map((e,r)=>(0,t.jsxs)("li",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:["• ",e.message]},r))})]})]}),(0,t.jsx)("div",{className:"border border-border rounded-lg overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-muted/50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Status"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"CSV Column"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Mapped Field"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Sample Value"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Confidence"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-border",children:r.map((e,r)=>(0,t.jsxs)("tr",{className:`transition-colors hover:bg-muted/30 ${e.isRequired&&e.confidence<.8?"bg-yellow-50 dark:bg-yellow-950 border-yellow-200 dark:border-yellow-800":e.confidence>=.9?"bg-green-50 dark:bg-green-950 border-green-200 dark:border-green-800":e.confidence>=.7?"bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800":"bg-red-50 dark:bg-red-950 border-red-200 dark:border-red-800"}`,children:[(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:e.isRequired&&e.confidence<.8?(0,t.jsx)(o.AlertTriangle,{className:"w-4 h-4 text-yellow-600"}):e.confidence>=.9?(0,t.jsx)(d.Check,{className:"w-4 h-4 text-green-600"}):e.confidence>=.7?(0,t.jsx)(d.Check,{className:"w-4 h-4 text-blue-600"}):(0,t.jsx)(i.X,{className:"w-4 h-4 text-red-600"})})}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)("span",{className:"text-sm font-medium text-foreground",children:e.csvColumn})}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)(c.Select,{value:e.schemaField,onValueChange:t=>s(e.csvColumn,t),children:[(0,t.jsx)(c.SelectTrigger,{className:"w-full max-w-xs bg-background",children:(0,t.jsx)(c.SelectValue,{})}),(0,t.jsx)(c.SelectContent,{children:x.map(e=>(0,t.jsxs)(c.SelectItem,{value:e,children:[e,l[e]?.required&&(0,t.jsx)("span",{className:"text-red-600 ml-1",children:"*"})]},e))})]})}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)("span",{className:"text-xs text-muted-foreground truncate max-w-xs block",children:null!==e.sampleValue&&void 0!==e.sampleValue?String(e.sampleValue):"-"})}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 h-2 bg-muted rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:`h-full transition-all ${e.confidence>=.9?"bg-green-600":e.confidence>=.7?"bg-blue-600":"bg-yellow-600"}`,style:{width:`${100*e.confidence}%`}})}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground min-w-[3ch]",children:[Math.round(100*e.confidence),"%"]})]})})]},r))})]})})}),(0,t.jsxs)("div",{className:"flex items-center gap-6 text-xs text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(d.Check,{className:"w-4 h-4 text-green-600"}),(0,t.jsx)("span",{children:"High confidence (90%+)"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(d.Check,{className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{children:"Good confidence (70-89%)"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(o.AlertTriangle,{className:"w-4 h-4 text-yellow-600"}),(0,t.jsx)("span",{children:"Needs review"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(i.X,{className:"w-4 h-4 text-red-600"}),(0,t.jsx)("span",{children:"Low confidence"})]})]})]})}var p=e.i(573511),h=e.i(173554),g=e.i(761911),b=e.i(607486);function f({entityType:e,onEntityTypeChange:r,isAnalyzing:a,onFileSelect:s,analysisResult:i,mappings:n,onMappingChange:o,importResult:c,error:u,showTitle:m=!0,disabledEntityTypes:f=[],disabled:v=!1}){return(0,t.jsxs)("div",{className:`space-y-8 ${v?"opacity-50":""}`,"aria-disabled":v,children:[m&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("div",{className:"w-1.5 h-6 bg-linear-to-b from-primary to-primary/60 rounded-full"}),(0,t.jsx)("h2",{className:"text-2xl font-semibold text-foreground tracking-tight",children:"Import Existing Data"})]}),(0,t.jsx)("p",{className:"text-muted-foreground ml-5 leading-relaxed",children:"Optionally import your existing clients or projects from a CSV file. Our AI will help map your data to the correct fields."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-foreground mb-4 tracking-wide",children:"What type of data are you importing?"}),(0,t.jsxs)(p.RadioGroup,{value:e,onValueChange:e=>r(e),className:"grid grid-cols-2 gap-4",disabled:v,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(p.RadioGroupItem,{value:"clients",id:"step-clients",className:"peer sr-only"}),(0,t.jsxs)(h.Label,{htmlFor:"step-clients",className:"flex flex-col items-center justify-between rounded-lg border-2 border-border bg-background p-4 hover:bg-muted/30 peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5 cursor-pointer transition-all",children:[(0,t.jsx)(g.Users,{className:"mb-3 h-6 w-6 text-muted-foreground peer-data-[state=checked]:text-primary"}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"font-semibold text-sm",children:"Clients"}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"Import client/customer data"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(p.RadioGroupItem,{value:"projects",id:"step-projects",className:"peer sr-only",disabled:f.includes("projects")}),(0,t.jsxs)(h.Label,{htmlFor:"step-projects",className:`flex flex-col items-center justify-between rounded-lg border-2 border-border bg-background p-4 hover:bg-muted/30 peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5 cursor-pointer transition-all ${f.includes("projects")?"opacity-50 cursor-not-allowed bg-muted/20":""}`,children:[(0,t.jsx)(b.Building2,{className:`mb-3 h-6 w-6 text-muted-foreground peer-data-[state=checked]:text-primary ${f.includes("projects")?"opacity-50":""}`}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"font-semibold text-sm",children:"Projects"}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"Import project data"}),f.includes("projects")&&(0,t.jsx)("div",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1 font-medium",children:"Coming soon"})]})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-foreground mb-4 tracking-wide",children:"Upload CSV File"}),(0,t.jsx)(l,{onFileSelect:s,maxSizeMB:5,disabled:v})]}),a&&(0,t.jsx)("div",{className:"p-6 bg-muted/30 border border-border rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-foreground",children:"AI is analyzing your data..."}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"This may take a moment"})]})]})}),i&&n.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-foreground mb-4 tracking-wide",children:"Review & Adjust Field Mappings"}),(0,t.jsx)(x,{entityType:e,mappings:n,validation:i.validation,onMappingChange:o})]}),c&&(0,t.jsx)("div",{className:"p-4 bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(d.Check,{className:"w-5 h-5 text-green-600 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-green-800 dark:text-green-200",children:"Import Complete"}),(0,t.jsxs)("p",{className:"text-xs text-green-700 dark:text-green-300 mt-1",children:["Successfully imported ",c.successCount," ",e,c.failureCount>0&&` (${c.failureCount} failed)`]})]})]})}),u&&(0,t.jsx)("div",{className:"p-4 bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:u})})]})}e.s(["CsvImportStep",()=>f],957088)},873476,e=>{"use strict";var t=e.i(843476),r=e.i(271645);e.i(250711);var a=e.i(982045),s=e.i(283164),i=e.i(610012),n=e.i(985902),l=e.i(264036),d=e.i(829164),o=e.i(907347),c=e.i(313318),u=e.i(152990),m=e.i(682830),x=e.i(373375),p=e.i(463059),h=e.i(761911),g=e.i(778917),b=e.i(107233),f=e.i(727612),v=e.i(475254);let y=(0,v.default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),j=(0,v.default)("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);var N=e.i(569074),w=e.i(22165),C=e.i(373264),k=e.i(618566),T=e.i(361922),S=e.i(565835),R=e.i(407107);e.i(900175);var P=e.i(864535),z=e.i(245715),I=e.i(957088);function A({isOpen:i,onOpenChange:n,onComplete:l}){let d=(0,T.useToast)(),o=(0,a.useMutation)(s.api.clients.bulkCreate),c=(0,a.useMutation)(s.api.projects.bulkCreate),[u,m]=(0,r.useState)({file:null,fileContent:null,entityType:"clients",isAnalyzing:!1,analysisResult:null,mappings:[],isImporting:!1,importResult:null}),[x,p]=(0,r.useState)(null),h=async(e,t)=>{m(r=>({...r,file:e,fileContent:t,isAnalyzing:!0,analysisResult:null,mappings:[]}));try{let e=await fetch("/api/analyze-csv",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({csvContent:t,entityType:u.entityType})});if(!e.ok)throw Error("Failed to analyze CSV");let r=await e.json();m(e=>({...e,isAnalyzing:!1,analysisResult:r,mappings:r.detectedFields}))}catch(e){console.error("Error analyzing CSV:",e),d.error("Analysis Failed",e instanceof Error?e.message:"Failed to analyze CSV file"),m(e=>({...e,isAnalyzing:!1}))}},g=async()=>{if(u.fileContent&&u.analysisResult){m(e=>({...e,isImporting:!0})),p(null);try{let t=(await e.A(849481)).default.parse(u.fileContent,{header:!0,skipEmptyLines:!0,dynamicTyping:!0}).data.map(e=>{let t={};return(u.mappings||[]).forEach(r=>{let a=e[r.csvColumn],s=((e,t)=>{if(null!=e&&""!==e)switch(t){case"number":let r=parseFloat(String(e));return isNaN(r)?void 0:r;case"boolean":if("boolean"==typeof e)return e;let a=String(e).toLowerCase().trim();return"true"===a||"yes"===a||"1"===a;case"date":let s=new Date(String(e));return isNaN(s.getTime())?void 0:s.toISOString();case"array":if(Array.isArray(e))return e;let i=String(e).trim();if(!i)return;let n=i.includes(";")?";":i.includes(",")?",":i.includes("|")?"|":",";return i.split(n).map(e=>e.trim()).filter(e=>e.length>0);default:return e}})(a,r.dataType);void 0!==s&&(t[r.schemaField]=s)}),t}),r=0,a=0;if("clients"===u.entityType)try{await o({clients:t}),r=t.length}catch(e){throw a=t.length,e}else if("projects"===u.entityType)try{await c({projects:t}),r=t.length}catch(e){throw a=t.length,e}m(e=>({...e,isImporting:!1,importResult:{successCount:r,failureCount:a,items:t.map((e,t)=>({success:t<r,rowIndex:t}))}})),0===a?d.success("Import Complete",`Successfully imported ${r} ${u.entityType}`):r>0&&d.warning("Import Partially Complete",`Imported ${r} ${u.entityType}, ${a} failed`)}catch(e){console.error("Error importing data:",e),d.error("Import Failed",e instanceof Error?e.message:"Failed to import data"),m(e=>({...e,isImporting:!1}))}}},b=()=>{m({file:null,fileContent:null,entityType:"clients",isAnalyzing:!1,analysisResult:null,mappings:[],isImporting:!1,importResult:null}),p(null),n(!1)};return(0,t.jsx)(z.Sheet,{open:i,onOpenChange:n,children:(0,t.jsx)(z.SheetContent,{side:"right",className:"w-full sm:max-w-5xl bg-background!",children:(0,t.jsxs)("div",{className:"flex flex-col h-full overflow-hidden",children:[(0,t.jsxs)(z.SheetHeader,{className:"border-b border-border pb-4 shrink-0",children:[(0,t.jsx)(z.SheetTitle,{className:"flex items-center gap-2 text-2xl font-semibold",children:"Import Data"}),(0,t.jsx)(z.SheetDescription,{className:"text-muted-foreground",children:"Import your existing clients or projects from a CSV file. Our AI will help map your data to the correct fields."})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto pt-6 px-6",children:(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(I.CsvImportStep,{entityType:u.entityType,onEntityTypeChange:e=>m(t=>({...t,entityType:e,analysisResult:null,mappings:[]})),isAnalyzing:u.isAnalyzing,onFileSelect:h,analysisResult:u.analysisResult,mappings:u.mappings||[],onMappingChange:(e,t)=>{m(r=>({...r,mappings:(r.mappings||[]).map(r=>r.csvColumn===e?{...r,schemaField:t}:r)}))},importResult:u.importResult??null,error:x,showTitle:!1,disabledEntityTypes:["projects"]})})}),(0,t.jsxs)(z.SheetFooter,{className:"flex flex-row justify-end gap-3 border-t border-border shrink-0",children:[(0,t.jsx)(R.StyledButton,{type:"button",intent:"outline",onClick:b,label:"Close",showArrow:!1}),u.analysisResult&&!u.importResult&&(0,t.jsx)(R.StyledButton,{type:"button",intent:"primary",onClick:g,isLoading:u.isImporting,disabled:!u.analysisResult?.validation.isValid,label:u.isImporting?"Importing...":"Import Data",icon:!u.isImporting&&(0,t.jsx)(N.Upload,{className:"w-4 h-4"}),showArrow:!1}),(u.importResult||!u.file)&&(0,t.jsx)(R.StyledButton,{type:"button",intent:"primary",onClick:()=>{b(),l?.()},label:"Done",showArrow:!1})]})]})})})}var F=e.i(283953),M=e.i(465986),q=e.i(466715),D=e.i(267218),L=e.i(152088);let B=[{id:"lead",name:"Leads",description:"Potential new clients"},{id:"prospect",name:"Prospects",description:"Actively evaluating"},{id:"active",name:"Active",description:"Current clients"},{id:"inactive",name:"Inactive",description:"Paused or dormant"}];function E(){let e,v,z=(0,k.useRouter)(),I=(0,T.useToast)(),[E,$]=(0,r.useState)("table"),[V,H]=(0,r.useState)(!1),[K,O]=(0,r.useState)(!1),[G,U]=(0,r.useState)(null),[W,_]=(0,r.useState)("active"),[Y,X]=(0,r.useState)([]),{canPerform:Q,reason:J,currentUsage:Z,limit:ee}=(0,F.useCanPerformAction)("create_client"),{hasPremiumAccess:et}=(0,F.useFeatureAccess)(),er=()=>{Q?z.push("/clients/new"):I.error("Upgrade Required",J||"You've reached your client limit")},ea=(0,a.useMutation)(s.api.clients.archive),es=(0,a.useMutation)(s.api.clients.restore),ei=(0,a.useMutation)(s.api.clients.update),en=(0,a.useQuery)(s.api.clients.listWithProjectCounts,{}),el=(0,a.useQuery)(s.api.clients.listWithProjectCounts,{status:"archived",includeArchived:!0}),ed=(0,a.useQuery)(s.api.clients.getStats,{}),eo=r.default.useMemo(()=>en||[],[en]),ec=r.default.useMemo(()=>el||[],[el]),eu=0===eo.length,em=0===ec.length,ex="active"===W?eo:ec,[ep,eh]=r.default.useState([]),[eg,eb]=r.default.useState([]),[ef,ev]=r.default.useState(""),[ey,ej]=r.default.useState({pageIndex:0,pageSize:10}),eN=r.default.useMemo(()=>{let e=new Map;return eo.forEach(t=>{let r;r="Active"===t.status?"active":"Prospect"===t.status?"prospect":"inactive",e.set(t.id,r)}),e},[eo]);r.default.useEffect(()=>{eo&&0!==eo.length?X(eo.filter(e=>"Archived"!==e.status).map(e=>{let t;return t="Active"===e.status?"active":"Prospect"===e.status?"prospect":"inactive",{id:e.id,name:e.name,column:t,status:t,industry:e.industry,activeProjects:e.activeProjects,primaryContact:e.primaryContact?{name:e.primaryContact.name,email:e.primaryContact.email}:null}})):X([])},[eo]);let ew=async(e,t)=>{try{await es({id:e}),I.success("Client Restored",`${t} has been restored and is now active.`)}catch(e){console.error("Failed to restore client:",e),I.error("Restore Failed","Failed to restore the client. Please try again.")}},eC=async()=>{if(G)try{await ea({id:G.id}),H(!1),U(null),I.success("Client Archived",`${G.name} has been archived. It will be permanently deleted in 7 days.`)}catch(e){console.error("Failed to archive client:",e),I.error("Archive Failed","Failed to archive the client. Please try again.")}},ek=r.default.useCallback(e=>{X(e);let t=e.find(e=>{let t=eN.get(e.id);return t&&t!==e.column});if(t){let e;e="active"===t.column?"active":"prospect"===t.column?"prospect":"lead"===t.column?"lead":"inactive",ei({id:t.id,status:e}).catch(e=>{console.error("Failed to update client status:",e),I.error("Update Failed","Failed to update client status. Please try again.")})}},[eN,ei,I]),eT=(e=(e,t)=>{U({id:e,name:t}),H(!0)},v="archived"===W,[{accessorKey:"name",header:()=>(0,t.jsx)("div",{className:"flex items-center gap-1",children:"Name"}),cell:({row:e})=>(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"font-medium text-foreground",children:e.original.name}),(0,t.jsx)("span",{className:"text-muted-foreground text-xs",children:e.original.location})]})},{accessorKey:"industry",header:"Industry",cell:({row:e})=>(0,t.jsx)("span",{className:"text-foreground",children:e.original.industry})},{accessorKey:"primaryContact",header:"Primary Contact",cell:({row:e})=>(0,t.jsx)("div",{className:"flex flex-col",children:e.original.primaryContact?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"font-medium text-foreground",children:e.original.primaryContact.name}),(0,t.jsx)("span",{className:"text-muted-foreground text-xs",children:e.original.primaryContact.email})]}):(0,t.jsx)("span",{className:"text-muted-foreground text-sm",children:"No contact"})})},{accessorKey:"activeProjects",header:"Active Projects",cell:({row:e})=>(0,t.jsx)("span",{className:"text-foreground",children:e.original.activeProjects})},{accessorKey:"lastActivity",header:"Last Activity",cell:({row:e})=>{let r=new Date(e.original.lastActivity);return(0,t.jsx)("span",{className:"text-foreground",children:isNaN(r.getTime())?e.original.lastActivity:r.toLocaleDateString()})}},{accessorKey:"status",header:"Status",cell:({row:e})=>(0,t.jsx)(o.Badge,{variant:(e=>{switch(e){case"Active":return"default";case"Prospect":return"secondary";default:return"outline"}})(e.original.status),children:e.original.status})},{id:"actions",header:"",cell:({row:r})=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.Button,{intent:"outline",size:"sq-sm",onPress:()=>{z.push(`/clients/${r.original.id}`)},"aria-label":`View client ${r.original.name}`,children:(0,t.jsx)(g.ExternalLink,{className:"size-4"})}),v&&ew?(0,t.jsx)(n.Button,{intent:"outline",size:"sq-sm",onPress:()=>ew(r.original.id,r.original.name),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-950","aria-label":`Restore client ${r.original.name}`,children:(0,t.jsx)(y,{className:"size-4"})}):(0,t.jsx)(n.Button,{intent:"outline",size:"sq-sm",onPress:()=>e(r.original.id,r.original.name),className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950","aria-label":`Archive client ${r.original.name}`,children:(0,t.jsx)(f.Trash2,{className:"size-4"})})]})}]),eS=(0,u.useReactTable)({data:ex,columns:eT,state:{sorting:ep,columnFilters:eg,globalFilter:ef,pagination:ey},onSortingChange:eh,onColumnFiltersChange:eb,onGlobalFilterChange:ev,onPaginationChange:ej,globalFilterFn:(e,t,r)=>{if(!r||""===r.trim())return!0;let a=r.toLowerCase().trim(),s=e.original;return!!(s.name&&s.name.toLowerCase().includes(a)||s.industry&&s.industry.toLowerCase().includes(a)||s.primaryContact&&(s.primaryContact.name&&s.primaryContact.name.toLowerCase().includes(a)||s.primaryContact.email&&s.primaryContact.email.toLowerCase().includes(a)))||!1},getCoreRowModel:(0,m.getCoreRowModel)(),getSortedRowModel:(0,m.getSortedRowModel)(),getFilteredRowModel:(0,m.getFilteredRowModel)(),getPaginationRowModel:(0,m.getPaginationRowModel)()});return(r.default.useEffect(()=>{ej(e=>({...e,pageIndex:0}))},[W,ef]),void 0===en||void 0===el||void 0===ed)?(0,t.jsxs)("div",{className:"relative p-6 space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-1.5 h-6 bg-linear-to-b from-primary to-primary/60 rounded-full"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Clients"}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"Loading clients..."})]})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[1,2,3].map(e=>(0,t.jsxs)(l.Card,{children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsx)("div",{className:"h-4 bg-muted rounded animate-pulse"})}),(0,t.jsx)(l.CardContent,{children:(0,t.jsx)("div",{className:"h-8 bg-muted rounded animate-pulse"})})]},e))})]}):(0,t.jsxs)("div",{className:"relative p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-1.5 h-6 bg-linear-to-b from-primary to-primary/60 rounded-full"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Clients"}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"Overview of your clients"})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(M.Tooltip,{children:[(0,t.jsx)(M.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("span",{className:"inline-block",children:(0,t.jsxs)(R.StyledButton,{intent:"outline",size:"md",onClick:()=>O(!0),disabled:!et,children:[(0,t.jsx)(N.Upload,{className:"h-4 w-4"}),"Import Clients"]})})}),!et&&(0,t.jsx)(M.TooltipContent,{children:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"font-semibold",children:"Premium Feature"}),(0,t.jsx)("p",{children:"Upgrade to access client import functionality"})]})})]}),(0,t.jsxs)(M.Tooltip,{children:[(0,t.jsx)(M.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("span",{className:"inline-block",children:(0,t.jsxs)(R.StyledButton,{intent:"primary",size:"md",onClick:er,disabled:!Q,icon:(0,t.jsx)(b.Plus,{className:"h-4 w-4"}),children:["Add Client",!Q&&ee&&"unlimited"!==ee&&void 0!==Z&&(0,t.jsxs)(o.Badge,{variant:"secondary",className:"ml-1 text-xs",children:[Z,"/",ee]})]})})}),!Q&&(0,t.jsx)(M.TooltipContent,{children:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"font-semibold",children:"Upgrade Required"}),(0,t.jsx)("p",{children:J||"You've reached your client limit"}),ee&&"unlimited"!==ee&&void 0!==Z&&(0,t.jsxs)("p",{className:"text-muted-foreground",children:[Z,"/",ee," clients"]})]})})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,t.jsxs)(l.Card,{className:"group relative backdrop-blur-md overflow-hidden ring-1 ring-border/20 dark:ring-border/40",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-linear-to-br from-white/10 via-white/5 to-transparent dark:from-white/5 dark:via-white/2 dark:to-transparent rounded-2xl"}),(0,t.jsxs)(l.CardHeader,{className:"relative z-10",children:[(0,t.jsxs)(l.CardTitle,{className:"flex items-center gap-2 text-base",children:[(0,t.jsx)(h.Users,{className:"size-4"})," Prospective Clients"]}),(0,t.jsx)(l.CardDescription,{children:"Clients currently marked as prospects"})]}),(0,t.jsx)(l.CardContent,{className:"relative z-10",children:(0,t.jsx)("div",{className:"text-3xl font-semibold",children:ed?.groupedByStatus?.prospective??0})})]}),(0,t.jsxs)(l.Card,{className:"group relative backdrop-blur-md overflow-hidden ring-1 ring-border/20 dark:ring-border/40",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-linear-to-br from-white/10 via-white/5 to-transparent dark:from-white/5 dark:via-white/2 dark:to-transparent rounded-2xl"}),(0,t.jsxs)(l.CardHeader,{className:"relative z-10",children:[(0,t.jsx)(l.CardTitle,{className:"text-base",children:"Active Clients"}),(0,t.jsx)(l.CardDescription,{children:"Clients engaged in work right now"})]}),(0,t.jsx)(l.CardContent,{className:"relative z-10",children:(0,t.jsx)("div",{className:"text-3xl font-semibold",children:ed?.groupedByStatus?.active??0})})]}),(0,t.jsxs)(l.Card,{className:"group relative backdrop-blur-md overflow-hidden ring-1 ring-border/20 dark:ring-border/40",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-linear-to-br from-white/10 via-white/5 to-transparent dark:from-white/5 dark:via-white/2 dark:to-transparent rounded-2xl"}),(0,t.jsxs)(l.CardHeader,{className:"relative z-10",children:[(0,t.jsx)(l.CardTitle,{className:"text-base",children:"Inactive Clients"}),(0,t.jsx)(l.CardDescription,{children:"Clients marked inactive or archived"})]}),(0,t.jsx)(l.CardContent,{className:"relative z-10",children:(0,t.jsx)("div",{className:"text-3xl font-semibold",children:ed?.groupedByStatus?.inactive??0})})]})]}),(0,t.jsxs)(l.Card,{className:"group relative backdrop-blur-md overflow-hidden ring-1 ring-border/20 dark:ring-border/40",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-linear-to-br from-white/10 via-white/5 to-transparent dark:from-white/5 dark:via-white/2 dark:to-transparent rounded-2xl"}),(0,t.jsxs)(l.CardHeader,{className:"relative z-10 flex flex-col gap-2 border-b",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.CardTitle,{children:"Clients"}),(0,t.jsx)(l.CardDescription,{children:"Search, sort, and browse your client list"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,t.jsx)(i.Input,{placeholder:"Search clients, contacts, or industry...",value:ef,onChange:e=>ev(e.target.value),className:"w-full md:w-96"}),(0,t.jsxs)(D.ButtonGroup,{children:[(0,t.jsxs)("button",{onClick:()=>$("table"),"aria-pressed":"table"===E,"aria-label":"Table view",className:(0,L.cn)("inline-flex items-center gap-2 font-semibold transition-all duration-200 text-xs px-3 py-1.5 ring-1 shadow-sm hover:shadow-md backdrop-blur-sm","table"===E?"text-primary hover:text-primary/80 bg-primary/10 hover:bg-primary/15 ring-primary/30 hover:ring-primary/40":"text-gray-600 hover:text-gray-700 bg-transparent hover:bg-gray-50 ring-transparent hover:ring-gray-200 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:bg-gray-800 dark:hover:ring-gray-700"),children:[(0,t.jsx)(w.TableProperties,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Table"})]}),(0,t.jsxs)("button",{onClick:()=>$("kanban"),"aria-pressed":"kanban"===E,"aria-label":"Kanban view",className:(0,L.cn)("inline-flex items-center gap-2 font-semibold transition-all duration-200 text-xs px-3 py-1.5 ring-1 shadow-sm hover:shadow-md backdrop-blur-sm","kanban"===E?"text-primary hover:text-primary/80 bg-primary/10 hover:bg-primary/15 ring-primary/30 hover:ring-primary/40":"text-gray-600 hover:text-gray-700 bg-transparent hover:bg-gray-50 ring-transparent hover:ring-gray-200 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:bg-gray-800 dark:hover:ring-gray-700"),children:[(0,t.jsx)(C.LayoutGrid,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Kanban"})]})]})]})]}),(0,t.jsx)(l.CardContent,{className:"relative z-10 px-0",children:"kanban"===E?(0,t.jsx)("div",{className:"px-2 py-6 h-[calc(100vh-28rem)]",children:(0,t.jsx)(q.KanbanProvider,{columns:B,data:Y,onDataChange:ek,children:e=>{let r=Y.filter(t=>t.column===e.id);return(0,t.jsxs)(q.KanbanBoard,{id:e.id,className:"bg-card/60 flex flex-col",children:[(0,t.jsxs)(q.KanbanHeader,{className:"flex items-center justify-between border-b bg-muted/30 shrink-0",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-sm text-foreground",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]}),(0,t.jsx)(P.StyledBadge,{variant:"outline",children:r.length})]}),(0,t.jsx)(q.KanbanCards,{id:e.id,children:e=>(0,t.jsx)(q.KanbanCard,{id:e.id,name:e.name,column:e.column,children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-foreground",children:e.name}),(0,t.jsx)(P.StyledBadge,{variant:(e=>{switch(e){case"active":return"default";case"prospect":case"lead":return"secondary";default:return"outline"}})(e.status),children:(e=>{switch(e){case"lead":return"Lead";case"prospect":return"Prospect";case"active":return"Active";case"inactive":return"Inactive";default:return e}})(e.status)})]}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:e.industry}),(0,t.jsx)("div",{className:"flex items-center justify-between text-xs",children:(0,t.jsx)("span",{className:"text-muted-foreground",children:0===e.activeProjects?"No active projects":`${e.activeProjects} active ${1===e.activeProjects?"project":"projects"}`})}),e.primaryContact&&(0,t.jsxs)("div",{className:"text-xs text-muted-foreground border-t border-border/50 pt-2",children:[(0,t.jsx)("p",{className:"font-medium text-foreground",children:e.primaryContact.name}),(0,t.jsx)("p",{children:e.primaryContact.email})]}),(0,t.jsx)("div",{className:"pt-2 border-t border-border/50",children:(0,t.jsx)(R.StyledButton,{intent:"outline",size:"sm",icon:(0,t.jsx)(g.ExternalLink,{className:"h-3.5 w-3.5"}),label:"View Client",showArrow:!1,onClick:t=>{t?.stopPropagation(),z.push(`/clients/${e.id}`)},className:"w-full justify-center"})})]})},e.id)})]},e.id)}})}):(0,t.jsxs)(c.Tabs,{value:W,onValueChange:_,className:"w-full",children:[(0,t.jsx)("div",{className:"px-6 pt-4",children:(0,t.jsxs)(c.TabsList,{className:"grid w-full grid-cols-2",children:[(0,t.jsx)(c.TabsTrigger,{value:"active",children:"Active Clients"}),(0,t.jsx)(c.TabsTrigger,{value:"archived",children:"Archived Clients"})]})}),(0,t.jsx)(c.TabsContent,{value:"active",className:"mt-0",children:eu?(0,t.jsxs)("div",{className:"px-6 py-12 text-center",children:[(0,t.jsx)("div",{className:"mx-auto mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted",children:(0,t.jsx)(h.Users,{className:"h-12 w-12 text-muted-foreground"})}),(0,t.jsx)("h3",{className:"mb-2 text-lg font-semibold text-foreground",children:"No clients yet"}),(0,t.jsx)("p",{className:"mx-auto mb-6 max-w-sm text-muted-foreground",children:"Create your first client to start organizing relationships and tracking activity."}),(0,t.jsxs)(M.Tooltip,{children:[(0,t.jsx)(M.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("span",{className:"inline-block",children:(0,t.jsx)(R.StyledButton,{intent:"primary",size:"md",onClick:er,disabled:!Q,icon:(0,t.jsx)(b.Plus,{className:"h-4 w-4"}),children:"Add Your First Client"})})}),!Q&&(0,t.jsx)(M.TooltipContent,{children:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"font-semibold",children:"Upgrade Required"}),(0,t.jsx)("p",{children:J||"You've reached your client limit"}),ee&&"unlimited"!==ee&&void 0!==Z&&(0,t.jsxs)("p",{className:"text-muted-foreground",children:[Z,"/",ee," clients"]})]})})]})]}):(0,t.jsxs)("div",{className:"px-6",children:[(0,t.jsx)("div",{className:"overflow-hidden rounded-lg border",children:(0,t.jsxs)(d.Table,{children:[(0,t.jsx)(d.TableHeader,{className:"bg-muted sticky top-0 z-10",children:eS.getHeaderGroups().map(e=>(0,t.jsx)(d.TableRow,{children:e.headers.map(e=>(0,t.jsx)(d.TableHead,{children:e.isPlaceholder?null:(0,u.flexRender)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,t.jsx)(d.TableBody,{children:eS.getRowModel().rows?.length?eS.getRowModel().rows.map(e=>(0,t.jsx)(d.TableRow,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,t.jsx)(d.TableCell,{children:(0,u.flexRender)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,t.jsx)(d.TableRow,{children:(0,t.jsx)(d.TableCell,{colSpan:eT.length,className:"h-24 text-center",children:"No clients match your search."})})})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between py-4",children:[(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[eS.getFilteredRowModel().rows.length," of"," ",eo.length," active clients"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.Button,{intent:"outline",size:"sq-sm",onPress:()=>eS.previousPage(),isDisabled:!eS.getCanPreviousPage(),"aria-label":"Previous page",children:(0,t.jsx)(x.ChevronLeft,{className:"size-4"})}),(0,t.jsxs)("div",{className:"text-sm font-medium",children:["Page ",eS.getState().pagination?.pageIndex+1," of"," ",eS.getPageCount()]}),(0,t.jsx)(n.Button,{intent:"outline",size:"sq-sm",onPress:()=>eS.nextPage(),isDisabled:!eS.getCanNextPage(),"aria-label":"Next page",children:(0,t.jsx)(p.ChevronRight,{className:"size-4"})})]})]})]})}),(0,t.jsx)(c.TabsContent,{value:"archived",className:"mt-0",children:em?(0,t.jsxs)("div",{className:"px-6 py-12 text-center",children:[(0,t.jsx)("div",{className:"mx-auto mb-4 flex h-24 w-24 items-center justify-center rounded-full bg-muted",children:(0,t.jsx)(j,{className:"h-12 w-12 text-muted-foreground"})}),(0,t.jsx)("h3",{className:"mb-2 text-lg font-semibold text-foreground",children:"No archived clients"}),(0,t.jsx)("p",{className:"mx-auto max-w-sm text-muted-foreground",children:"Clients you archive will appear here for seven days before being permanently deleted."})]}):(0,t.jsxs)("div",{className:"px-6",children:[(0,t.jsx)("div",{className:"overflow-hidden rounded-lg border",children:(0,t.jsxs)(d.Table,{children:[(0,t.jsx)(d.TableHeader,{className:"bg-muted sticky top-0 z-10",children:eS.getHeaderGroups().map(e=>(0,t.jsx)(d.TableRow,{children:e.headers.map(e=>(0,t.jsx)(d.TableHead,{children:e.isPlaceholder?null:(0,u.flexRender)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,t.jsx)(d.TableBody,{children:eS.getRowModel().rows?.length?eS.getRowModel().rows.map(e=>(0,t.jsx)(d.TableRow,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,t.jsx)(d.TableCell,{children:(0,u.flexRender)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,t.jsx)(d.TableRow,{children:(0,t.jsx)(d.TableCell,{colSpan:eT.length,className:"h-24 text-center",children:"No archived clients match your search."})})})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between py-4",children:[(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[eS.getFilteredRowModel().rows.length," of"," ",ec.length," archived clients"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.Button,{intent:"outline",size:"sq-sm",onPress:()=>eS.previousPage(),isDisabled:!eS.getCanPreviousPage(),"aria-label":"Previous page",children:(0,t.jsx)(x.ChevronLeft,{className:"size-4"})}),(0,t.jsxs)("div",{className:"text-sm font-medium",children:["Page ",eS.getState().pagination?.pageIndex+1," of"," ",eS.getPageCount()]}),(0,t.jsx)(n.Button,{intent:"outline",size:"sq-sm",onPress:()=>eS.nextPage(),isDisabled:!eS.getCanNextPage(),"aria-label":"Next page",children:(0,t.jsx)(p.ChevronRight,{className:"size-4"})})]})]})]})})]})})]}),G&&(0,t.jsx)(S.default,{isOpen:V,onClose:()=>H(!1),onConfirm:eC,title:"Archive Client",itemName:G.name,itemType:"Client",isArchive:!0}),(0,t.jsx)(A,{isOpen:K,onOpenChange:O,onComplete:()=>{O(!1),I.success("Clients Imported","Your clients have been successfully imported.")}})]})}e.s(["default",()=>E],873476)},849481,e=>{e.v(t=>Promise.all(["static/chunks/f8af89e108860c77.js"].map(t=>e.l(t))).then(()=>t(59935)))}]);