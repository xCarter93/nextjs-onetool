(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,730896,e=>{"use strict";let t=(0,e.i(475254).default)("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);e.s(["FileIcon",()=>t],730896)},514764,82735,e=>{"use strict";var t=e.i(475254);let r=(0,t.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.s(["Send",()=>r],514764);let a=(0,t.default)("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]);e.s(["Paperclip",()=>a],82735)},374294,686311,e=>{"use strict";var t=e.i(843476),r=e.i(271645);e.i(250711);var a=e.i(982045),i=e.i(827085),n=e.i(283164),s=e.i(407107),l=e.i(565833),o=e.i(337837),d=e.i(361922),c=e.i(514764),u=e.i(82735),f=e.i(37727),m=e.i(730896),p=e.i(531278);function g({entityType:e,entityId:g,entityName:h,onMentionCreated:x}){let[y,b]=(0,r.useState)(""),[v,j]=(0,r.useState)(!1),[w,N]=(0,r.useState)(""),[k,_]=(0,r.useState)([]),[C,S]=(0,r.useState)([]),[E,P]=(0,r.useState)(new Map),I=(0,r.useRef)(null),M=(0,r.useRef)(null),O=(0,d.useToast)(),{memberships:R}=(0,i.useOrganization)({memberships:{infinite:!0}}),z=(0,a.useQuery)(n.api.users.listByOrg),U=(0,a.useMutation)(n.api.notifications.createMention),$=(0,a.useMutation)(n.api.users.syncUserFromClerk),A=(0,a.useMutation)(n.api.messageAttachments.generateUploadUrl),T=R?.data?.map(e=>{let t=e.publicUserData;if(!t||!t.userId)return null;let r=z?.find(e=>e.email===t.identifier||e.externalId===t.userId);return{id:r?._id||t.userId,name:t.firstName&&t.lastName?`${t.firstName} ${t.lastName}`.trim():t.identifier||"Unknown User",email:t.identifier||"",image:t.imageUrl||"",convexUserId:r?._id}}).filter(e=>null!==e)||[];(0,r.useEffect)(()=>{let e=new Map(E),t=!1;C.forEach(r=>{if(r.file.type.startsWith("image/")&&!e.has(r.tempId)){let a=URL.createObjectURL(r.file);e.set(r.tempId,a),t=!0}});let r=new Set(C.map(e=>e.tempId));return Array.from(e.keys()).forEach(a=>{if(!r.has(a)){let r=e.get(a);r&&(URL.revokeObjectURL(r),e.delete(a),t=!0)}}),t&&P(e),()=>{e.forEach(e=>{URL.revokeObjectURL(e)})}},[C]);let L=T.filter(e=>e.name.toLowerCase().includes(w.toLowerCase())),B=()=>I.current&&I.current.textContent||"",D=()=>{let e=window.getSelection();if(!e||0===e.rangeCount)return 0;let t=e.getRangeAt(0),r=t.cloneRange();return r.selectNodeContents(I.current),r.setEnd(t.endContainer,t.endOffset),r.toString().length},F=async e=>{let t=e.target.files;if(!t||0===t.length)return;let r=Array.from(t).map(e=>{let t=crypto.randomUUID();return e.size>0xa00000?{tempId:t,file:e,uploading:!1,error:"File size exceeds 10MB limit"}:{tempId:t,file:e,uploading:!1,error:void 0}}).filter(e=>!e.error);for(let e of(S(e=>[...e,...r]),r)){let{tempId:t}=e;S(e=>e.map(e=>e.tempId===t?{...e,uploading:!0}:e));try{let r=await A(),a=await fetch(r,{method:"POST",headers:{"Content-Type":e.file.type},body:e.file});if(!a.ok)throw Error("Upload failed");let{storageId:i}=await a.json();S(e=>e.map(e=>e.tempId===t?{...e,uploading:!1,storageId:i}:e))}catch(e){console.error("File upload error:",e),S(e=>e.map(e=>e.tempId===t?{...e,uploading:!1,error:"Upload failed"}:e))}}M.current&&(M.current.value="")},W=e=>{S(t=>t.filter(t=>t.tempId!==e))},q=async()=>{if(!y.trim())return void O.error("Error","Please enter a message");if(C.some(e=>e.uploading))return void O.error("Error","Please wait for files to finish uploading");if(C.some(e=>e.error))return void O.error("Error","Please remove files with errors");try{let t=C.filter(e=>e.storageId).map(e=>({storageId:e.storageId,fileName:e.file.name,fileSize:e.file.size,mimeType:e.file.type}));if(0===k.length)return void O.error("No recipients","Please @mention a team member to notify them about this message");for(let r of k){let a=T.find(e=>e.convexUserId===r.id||e.id===r.id);if(!a)continue;let i=a.convexUserId;i||(i=await $({clerkUserId:a.id,name:a.name,email:a.email,imageUrl:a.image})),await U({taggedUserId:i,message:y,entityType:e,entityId:g,entityName:h,attachments:t.length>0?t:void 0})}I.current&&(I.current.textContent=""),b(""),_([]),E.forEach(e=>{URL.revokeObjectURL(e)}),P(new Map),S([]),O.success("Success","Message sent!"),x?.()}catch(t){let e=t instanceof Error?t.message:"Failed to send message";O.error("Error",e)}};return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)(o.Popover,{open:v&&L.length>0,onOpenChange:e=>{e||j(!1)},children:[(0,t.jsx)(o.PopoverTrigger,{asChild:!0,children:(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("div",{ref:I,contentEditable:!0,onInput:()=>{let e=B();b(e);let t=D(),r=e.slice(0,t),a=r.lastIndexOf("@");if(-1!==a){let e=r.slice(a+1),t=r.lastIndexOf("@["),i=r.lastIndexOf("]");-1!==t&&!(i>t)||e.includes(" ")||e.includes("[")||e.includes("]")?j(!1):(N(e),j(!0))}else j(!1)},className:"min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 overflow-auto whitespace-pre-wrap break-words empty:before:content-[attr(data-placeholder)] empty:before:text-muted-foreground",style:{minHeight:"100px"},suppressContentEditableWarning:!0,"data-placeholder":"Type @ to mention a team member..."})})}),(0,t.jsx)(o.PopoverContent,{align:"start",side:"bottom",className:"w-80 p-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700",onOpenAutoFocus:e=>e.preventDefault(),children:(0,t.jsx)("div",{className:"max-h-64 overflow-y-auto",children:L.map(e=>{var r;let a;return(0,t.jsxs)("button",{onClick:()=>((e,t,r)=>{let a=B(),i=D(),n=a.slice(0,i).lastIndexOf("@");if(-1!==n&&I.current){let s=a.slice(0,n),l=a.slice(i),o=`${s}@[${t}]${l}`,d=r||e;_(e=>[...e,{id:d,name:t}]),I.current.textContent=o,b(o),j(!1);let c=n+t.length+3,u=window.getSelection(),f=document.createRange(),m=I.current.firstChild;m&&m.nodeType===Node.TEXT_NODE&&(f.setStart(m,Math.min(c,m.textContent?.length||0)),f.collapse(!0),u?.removeAllRanges(),u?.addRange(f)),I.current.focus()}})(e.id,e.name,e.convexUserId),className:"w-full flex items-center gap-3 px-3 py-2 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md transition-colors text-left",children:[(0,t.jsxs)(l.Avatar,{className:"h-8 w-8",children:[(0,t.jsx)(l.AvatarImage,{src:e.image,alt:e.name}),(0,t.jsx)(l.AvatarFallback,{className:"text-xs",children:(a=(r=e.name).split(" ")).length>=2?`${a[0][0]}${a[1][0]}`.toUpperCase():r.slice(0,2).toUpperCase()})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e.email})]})]},e.id)})})})]}),C.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:C.map(e=>{let r=e.file.type.startsWith("image/"),a="application/pdf"===e.file.type;return(0,t.jsx)("div",{className:"relative inline-block group",children:r?(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"h-20 w-20 bg-gray-100 dark:bg-gray-800 rounded-lg border-2 border-gray-200 dark:border-gray-700 overflow-hidden flex items-center justify-center",children:e.uploading?(0,t.jsx)(p.Loader2,{className:"h-6 w-6 text-gray-400 animate-spin"}):(0,t.jsx)("img",{src:E.get(e.tempId)||"",alt:e.file.name,className:"h-full w-full object-cover"})}),!e.uploading&&!e.error&&(0,t.jsx)("button",{onClick:()=>W(e.tempId),className:"absolute -top-2 -right-2 p-1 bg-red-500 hover:bg-red-600 text-white rounded-full shadow-lg transition-colors",type:"button",title:"Remove",children:(0,t.jsx)(f.X,{className:"h-3 w-3"})}),e.error&&(0,t.jsx)("div",{className:"absolute inset-0 bg-red-500/90 rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs text-white font-medium px-2 text-center",children:"Error"})})]}):(0,t.jsxs)("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1.5 bg-gray-100 dark:bg-gray-800 rounded-md border border-gray-200 dark:border-gray-700 transition-colors max-w-[200px]",children:[(0,t.jsx)(m.FileIcon,{className:`h-3.5 w-3.5 shrink-0 ${a?"text-red-500":"text-gray-500"}`}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 truncate block",children:e.file.name}),(0,t.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB"][t]})(e.file.size),e.uploading&&" • Uploading..."]})]}),e.uploading?(0,t.jsx)(p.Loader2,{className:"h-3 w-3 text-gray-400 animate-spin shrink-0"}):e.error?(0,t.jsx)("span",{className:"text-xs text-red-500 shrink-0",children:"✕"}):(0,t.jsx)("button",{onClick:()=>W(e.tempId),className:"p-0.5 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors shrink-0",type:"button",title:"Remove",children:(0,t.jsx)(f.X,{className:"h-3 w-3 text-gray-500"})})]})},e.tempId)})}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:k.length>0?(0,t.jsxs)("span",{children:["Mentioning:"," ",(0,t.jsx)("strong",{children:k.map(e=>e.name).join(", ")})]}):(0,t.jsx)("span",{children:"Type @ to mention someone"})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{ref:M,type:"file",multiple:!0,className:"hidden",onChange:F,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.csv,.zip"}),(0,t.jsx)(s.StyledButton,{onClick:()=>M.current?.click(),size:"sm",intent:"outline",icon:(0,t.jsx)(u.Paperclip,{className:"h-4 w-4"}),showArrow:!1,type:"button"}),(0,t.jsx)(s.StyledButton,{onClick:q,disabled:!y.trim()||C.some(e=>e.uploading||e.error),size:"sm",intent:"primary",icon:(0,t.jsx)(c.Send,{className:"h-4 w-4"}),label:"Send",showArrow:!1})]})]})]})}var h=e.i(907347),x=e.i(293363);let y=(0,e.i(475254).default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);e.s(["MessageSquare",()=>y],686311);var b=e.i(440160),v=e.i(657688);function j({notificationId:e}){let r=(0,a.useQuery)(n.api.messageAttachments.listByNotificationWithUrls,{notificationId:e});if(!r||0===r.length)return null;let i=e=>{if(0===e)return"0 Bytes";let t=["Bytes","KB","MB","GB","TB","PB"],r=Math.min(Math.floor(Math.log(e)/Math.log(1024)),t.length-1);return Math.round(e/Math.pow(1024,r)*100)/100+" "+t[r]},s=e=>e.startsWith("image/");return(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:r.map(e=>(0,t.jsx)(w,{attachment:e,downloadUrl:e.downloadUrl,formatFileSize:i,isImage:s},e._id))})}function w({attachment:e,downloadUrl:r,formatFileSize:a,isImage:i}){if(!r)return null;let n="application/pdf"===e.mimeType;return i(e.mimeType)?(0,t.jsxs)("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"group relative inline-block",title:`${e.fileName} (${a(e.fileSize)})`,children:[(0,t.jsx)(v.default,{src:r,alt:e.fileName,width:80,height:80,className:"h-20 w-20 object-cover rounded-lg border-2 border-gray-200 dark:border-gray-700 hover:border-blue-400 dark:hover:border-blue-500 transition-colors"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 rounded-lg transition-colors flex items-center justify-center",children:(0,t.jsx)(b.Download,{className:"h-4 w-4 text-white opacity-0 group-hover:opacity-100 transition-opacity drop-shadow-lg"})})]}):(0,t.jsxs)("a",{href:r,target:"_blank",rel:"noopener noreferrer",download:e.fileName,className:"inline-flex items-center gap-1.5 px-2.5 py-1.5 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md border border-gray-200 dark:border-gray-700 transition-colors group max-w-[200px]",title:`${e.fileName} (${a(e.fileSize)})`,children:[n?(0,t.jsx)(m.FileIcon,{className:"h-3.5 w-3.5 text-red-500 shrink-0"}):(0,t.jsx)(m.FileIcon,{className:"h-3.5 w-3.5 text-gray-500 shrink-0"}),(0,t.jsx)("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 truncate",children:e.fileName}),(0,t.jsx)(b.Download,{className:"h-3 w-3 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 shrink-0 ml-auto"})]})}function N({entityType:e,entityId:r}){let i=(0,a.useQuery)(n.api.notifications.listByEntity,{entityType:e,entityId:r});return void 0===i?(0,t.jsx)("div",{className:"space-y-4 animate-pulse",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-200 dark:bg-gray-700"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4"}),(0,t.jsx)("div",{className:"h-16 bg-gray-200 dark:bg-gray-700 rounded"})]})]},e))}):0===i.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4",children:(0,t.jsx)(y,{className:"h-8 w-8 text-gray-400 dark:text-gray-600"})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No messages yet"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 max-w-sm",children:"Start a conversation by mentioning a team member with @ in the input above."})]}):(0,t.jsx)("div",{className:"space-y-6",children:i.map(e=>{var r;let a;return(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(l.Avatar,{className:"h-10 w-10 shrink-0",children:[(0,t.jsx)(l.AvatarImage,{src:e.author?.image,alt:e.author?.name||e.author?.email||"User"}),(0,t.jsx)(l.AvatarFallback,{className:"text-sm",children:e.author?.name?(a=(r=e.author.name).split(" ")).length>=2?`${a[0][0]}${a[1][0]}`.toUpperCase():r.slice(0,2).toUpperCase():e.author?.email?e.author.email.substring(0,2).toUpperCase():"??"})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:e.author?.name||e.author?.email||"Unknown User"}),(0,t.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:(0,x.formatRelativeTime)(e._creationTime)})]}),(0,t.jsx)("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg px-4 py-3 border border-gray-200 dark:border-gray-700",children:(0,t.jsx)("div",{className:"text-sm text-gray-900 dark:text-white whitespace-pre-wrap break-words",children:(0,x.parseMessageParts)(e.message).map((e,r)=>e.isMention?(0,t.jsx)(h.Badge,{variant:"secondary",className:"inline-flex mx-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-900/50 font-medium",children:e.text},r):(0,t.jsx)("span",{children:e.text},r))})}),e.hasAttachments&&(0,t.jsx)(j,{notificationId:e._id})]})]},e._id)})})}e.i(900175);var k=e.i(428055);function _({entityType:e,entityId:a,entityName:i}){let[n,s]=(0,r.useState)(0);return(0,t.jsxs)(k.StyledCard,{children:[(0,t.jsxs)(k.StyledCardHeader,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(y,{className:"h-5 w-5 text-primary"}),(0,t.jsx)(k.StyledCardTitle,{className:"text-lg",children:"Team Communication"})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Mention team members to notify them about this ",e]})]}),(0,t.jsxs)(k.StyledCardContent,{className:"space-y-6",children:[(0,t.jsx)("div",{className:"pb-6 border-b border-gray-200 dark:border-gray-700",children:(0,t.jsx)(g,{entityType:e,entityId:a,entityName:i,onMentionCreated:()=>{s(e=>e+1)}})}),(0,t.jsx)("div",{children:(0,t.jsx)(N,{entityType:e,entityId:a})},n)]})]})}e.s(["MentionSection",()=>_],374294)},191741,e=>{"use strict";let t=(0,e.i(475254).default)("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);e.s(["ClipboardList",()=>t],191741)},565833,e=>{"use strict";var t=e.i(843476),r=e.i(271645),a=e.i(30207),i=e.i(934620);e.i(174080);var n=e.i(820783),s=Symbol.for("react.lazy"),l=r[" use ".trim().toString()];function o(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===s&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var d=Symbol("radix.slottable");function c(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===d}var u=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{var i,s;let d,u,f,m=(s=i=`Primitive.${a}`,(d=r.forwardRef((e,t)=>{let{children:a,...i}=e;if(o(a)&&"function"==typeof l&&(a=l(a._payload)),r.isValidElement(a)){var s;let e,l,o=(s=a,(l=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(l=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),d=function(e,t){let r={...t};for(let a in t){let i=e[a],n=t[a];/^on[A-Z]/.test(a)?i&&n?r[a]=(...e)=>{let t=n(...e);return i(...e),t}:i&&(r[a]=i):"style"===a?r[a]={...i,...n}:"className"===a&&(r[a]=[i,n].filter(Boolean).join(" "))}return{...e,...r}}(i,a.props);return a.type!==r.Fragment&&(d.ref=t?(0,n.composeRefs)(t,o):o),r.cloneElement(a,d)}return r.Children.count(a)>1?r.Children.only(null):null})).displayName=`${s}.SlotClone`,u=d,(f=r.forwardRef((e,a)=>{let{children:i,...n}=e;o(i)&&"function"==typeof l&&(i=l(i._payload));let s=r.Children.toArray(i),d=s.find(c);if(d){let e=d.props.children,i=s.map(t=>t!==d?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,t.jsx)(u,{...n,ref:a,children:r.isValidElement(e)?r.cloneElement(e,void 0,i):null})}return(0,t.jsx)(u,{...n,ref:a,children:i})})).displayName=`${i}.Slot`,f),p=r.forwardRef((e,r)=>{let{asChild:i,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(i?m:a,{...n,ref:r})});return p.displayName=`Primitive.${a}`,{...e,[a]:p}},{}),f=e.i(802239);function m(){return()=>{}}var p="Avatar",[g,h]=function(e,a=[]){let i=[],n=()=>{let t=i.map(e=>r.createContext(e));return function(a){let i=a?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...a,[e]:i}}),[a,i])}};return n.scopeName=e,[function(a,n){let s=r.createContext(n);s.displayName=a+"Context";let l=i.length;i=[...i,n];let o=a=>{let{scope:i,children:n,...o}=a,d=i?.[e]?.[l]||s,c=r.useMemo(()=>o,Object.values(o));return(0,t.jsx)(d.Provider,{value:c,children:n})};return o.displayName=a+"Provider",[o,function(t,i){let o=i?.[e]?.[l]||s,d=r.useContext(o);if(d)return d;if(void 0!==n)return n;throw Error(`\`${t}\` must be used within \`${a}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let i=a.reduce((t,{useScope:r,scopeName:a})=>{let i=r(e)[`__scope${a}`];return{...t,...i}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return a.scopeName=t.scopeName,a}(n,...a)]}(p),[x,y]=g(p),b=r.forwardRef((e,a)=>{let{__scopeAvatar:i,...n}=e,[s,l]=r.useState("idle");return(0,t.jsx)(x,{scope:i,imageLoadingStatus:s,onImageLoadingStatusChange:l,children:(0,t.jsx)(u.span,{...n,ref:a})})});b.displayName=p;var v="AvatarImage",j=r.forwardRef((e,n)=>{let{__scopeAvatar:s,src:l,onLoadingStatusChange:o=()=>{},...d}=e,c=y(v,s),p=function(e,{referrerPolicy:t,crossOrigin:a}){let n=(0,f.useSyncExternalStore)(m,()=>!0,()=>!1),s=r.useRef(null),l=n?(s.current||(s.current=new window.Image),s.current):null,[o,d]=r.useState(()=>k(l,e));return(0,i.useLayoutEffect)(()=>{d(k(l,e))},[l,e]),(0,i.useLayoutEffect)(()=>{let e=e=>()=>{d(e)};if(!l)return;let r=e("loaded"),i=e("error");return l.addEventListener("load",r),l.addEventListener("error",i),t&&(l.referrerPolicy=t),"string"==typeof a&&(l.crossOrigin=a),()=>{l.removeEventListener("load",r),l.removeEventListener("error",i)}},[l,a,t]),o}(l,d),g=(0,a.useCallbackRef)(e=>{o(e),c.onImageLoadingStatusChange(e)});return(0,i.useLayoutEffect)(()=>{"idle"!==p&&g(p)},[p,g]),"loaded"===p?(0,t.jsx)(u.img,{...d,ref:n,src:l}):null});j.displayName=v;var w="AvatarFallback",N=r.forwardRef((e,a)=>{let{__scopeAvatar:i,delayMs:n,...s}=e,l=y(w,i),[o,d]=r.useState(void 0===n);return r.useEffect(()=>{if(void 0!==n){let e=window.setTimeout(()=>d(!0),n);return()=>window.clearTimeout(e)}},[n]),o&&"loaded"!==l.imageLoadingStatus?(0,t.jsx)(u.span,{...s,ref:a}):null});function k(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}N.displayName=w;var _=e.i(152088);function C({className:e,...r}){return(0,t.jsx)(b,{"data-slot":"avatar",className:(0,_.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...r})}function S({className:e,...r}){return(0,t.jsx)(j,{"data-slot":"avatar-image",className:(0,_.cn)("aspect-square size-full",e),...r})}function E({className:e,...r}){return(0,t.jsx)(N,{"data-slot":"avatar-fallback",className:(0,_.cn)("bg-muted flex size-full items-center justify-center rounded-full",e),...r})}e.s(["Avatar",()=>C,"AvatarFallback",()=>E,"AvatarImage",()=>S],565833)},643531,e=>{"use strict";var t=e.i(678745);e.s(["Check",()=>t.default])},488143,(e,t,r)=>{"use strict";function a({widthInt:e,heightInt:t,blurWidth:r,blurHeight:a,blurDataURL:i,objectFit:n}){let s=r?40*r:e,l=a?40*a:t,o=s&&l?`viewBox='0 0 ${s} ${l}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${o}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${o?"none":"contain"===n?"xMidYMid":"cover"===n?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${i}'/%3E%3C/svg%3E`}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImageBlurSvg",{enumerable:!0,get:function(){return a}})},987690,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={VALID_LOADERS:function(){return n},imageConfigDefault:function(){return s}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let n=["default","imgix","cloudinary","akamai","custom"],s={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},908927,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImgProps",{enumerable:!0,get:function(){return o}}),e.r(233525);let a=e.r(488143),i=e.r(987690),n=["-moz-initial","fill","none","scale-down",void 0];function s(e){return void 0!==e.default}function l(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function o({src:e,sizes:t,unoptimized:r=!1,priority:o=!1,preload:d=!1,loading:c,className:u,quality:f,width:m,height:p,fill:g=!1,style:h,overrideSrc:x,onLoad:y,onLoadingComplete:b,placeholder:v="empty",blurDataURL:j,fetchPriority:w,decoding:N="async",layout:k,objectFit:_,objectPosition:C,lazyBoundary:S,lazyRoot:E,...P},I){var M;let O,R,z,{imgConf:U,showAltText:$,blurComplete:A,defaultLoader:T}=I,L=U||i.imageConfigDefault;if("allSizes"in L)O=L;else{let e=[...L.deviceSizes,...L.imageSizes].sort((e,t)=>e-t),t=L.deviceSizes.sort((e,t)=>e-t),r=L.qualities?.sort((e,t)=>e-t);O={...L,allSizes:e,deviceSizes:t,qualities:r}}if(void 0===T)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let B=P.loader||T;delete P.loader,delete P.srcSet;let D="__next_img_default"in B;if(D){if("custom"===O.loader)throw Object.defineProperty(Error(`Image with src "${e}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=B;B=t=>{let{config:r,...a}=t;return e(a)}}if(k){"fill"===k&&(g=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[k];e&&(h={...h,...e});let r={responsive:"100vw",fill:"100vw"}[k];r&&!t&&(t=r)}let F="",W=l(m),q=l(p);if((M=e)&&"object"==typeof M&&(s(M)||void 0!==M.src)){let t=s(e)?e.default:e;if(!t.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!t.height||!t.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(R=t.blurWidth,z=t.blurHeight,j=j||t.blurDataURL,F=t.src,!g)if(W||q){if(W&&!q){let e=W/t.width;q=Math.round(t.height*e)}else if(!W&&q){let e=q/t.height;W=Math.round(t.width*e)}}else W=t.width,q=t.height}let V=!o&&!d&&("lazy"===c||void 0===c);(!(e="string"==typeof e?e:F)||e.startsWith("data:")||e.startsWith("blob:"))&&(r=!0,V=!1),O.unoptimized&&(r=!0),D&&!O.dangerouslyAllowSVG&&e.split("?",1)[0].endsWith(".svg")&&(r=!0);let G=l(f),H=Object.assign(g?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:_,objectPosition:C}:{},$?{}:{color:"transparent"},h),X=A||"empty"===v?null:"blur"===v?`url("data:image/svg+xml;charset=utf-8,${(0,a.getImageBlurSvg)({widthInt:W,heightInt:q,blurWidth:R,blurHeight:z,blurDataURL:j||"",objectFit:H.objectFit})}")`:`url("${v}")`,Q=n.includes(H.objectFit)?"fill"===H.objectFit?"100% 100%":"cover":H.objectFit,K=X?{backgroundSize:Q,backgroundPosition:H.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:X}:{},J=function({config:e,src:t,unoptimized:r,width:a,quality:i,sizes:n,loader:s}){if(r)return{src:t,srcSet:void 0,sizes:void 0};let{widths:l,kind:o}=function({deviceSizes:e,allSizes:t},r,a){if(a){let r=/(^|\s)(1?\d?\d)vw/g,i=[];for(let e;e=r.exec(a);)i.push(parseInt(e[2]));if(i.length){let r=.01*Math.min(...i);return{widths:t.filter(t=>t>=e[0]*r),kind:"w"}}return{widths:t,kind:"w"}}return"number"!=typeof r?{widths:e,kind:"w"}:{widths:[...new Set([r,2*r].map(e=>t.find(t=>t>=e)||t[t.length-1]))],kind:"x"}}(e,a,n),d=l.length-1;return{sizes:n||"w"!==o?n:"100vw",srcSet:l.map((r,a)=>`${s({config:e,src:t,quality:i,width:r})} ${"w"===o?r:a+1}${o}`).join(", "),src:s({config:e,src:t,quality:i,width:l[d]})}}({config:O,src:e,unoptimized:r,width:W,quality:G,sizes:t,loader:B}),Y=V?"lazy":c;return{props:{...P,loading:Y,fetchPriority:w,width:W,height:q,decoding:N,className:u,style:{...H,...K},sizes:J.sizes,srcSet:J.srcSet,src:x||J.src},meta:{unoptimized:r,preload:d||o,placeholder:v,fill:g}}}},898879,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return l}});let a=e.r(271645),i="undefined"==typeof window,n=i?()=>{}:a.useLayoutEffect,s=i?()=>{}:a.useEffect;function l(e){let{headManager:t,reduceComponentsToState:r}=e;function l(){if(t&&t.mountedInstances){let e=a.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(r(e))}}return i&&(t?.mountedInstances?.add(e.children),l()),n(()=>(t?.mountedInstances?.add(e.children),()=>{t?.mountedInstances?.delete(e.children)})),n(()=>(t&&(t._pendingUpdate=l),()=>{t&&(t._pendingUpdate=l)})),s(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},325633,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return g},defaultHead:function(){return u}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let n=e.r(563141),s=e.r(151836),l=e.r(843476),o=s._(e.r(271645)),d=n._(e.r(898879)),c=e.r(742732);function u(){return[(0,l.jsx)("meta",{charSet:"utf-8"},"charset"),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function f(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===o.default.Fragment?e.concat(o.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(233525);let m=["name","httpEquiv","charSet","itemProp"];function p(e){let t,r,a,i;return e.reduce(f,[]).reverse().concat(u().reverse()).filter((t=new Set,r=new Set,a=new Set,i={},e=>{let n=!0,s=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){s=!0;let r=e.key.slice(e.key.indexOf("$")+1);t.has(r)?n=!1:t.add(r)}switch(e.type){case"title":case"base":r.has(e.type)?n=!1:r.add(e.type);break;case"meta":for(let t=0,r=m.length;t<r;t++){let r=m[t];if(e.props.hasOwnProperty(r))if("charSet"===r)a.has(r)?n=!1:a.add(r);else{let t=e.props[r],a=i[r]||new Set;("name"!==r||!s)&&a.has(t)?n=!1:(a.add(t),i[r]=a)}}}return n})).reverse().map((e,t)=>{let r=e.key||t;return o.default.cloneElement(e,{key:r})})}let g=function({children:e}){let t=(0,o.useContext)(c.HeadManagerContext);return(0,l.jsx)(d.default,{reduceComponentsToState:p,headManager:t,children:e})};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},918556,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ImageConfigContext",{enumerable:!0,get:function(){return n}});let a=e.r(563141)._(e.r(271645)),i=e.r(987690),n=a.default.createContext(i.imageConfigDefault)},670965,(e,t,r)=>{"use strict";function a(e,t){let r=e||75;return t?.qualities?.length?t.qualities.reduce((e,t)=>Math.abs(t-r)<Math.abs(e-r)?t:e,0):r}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"findClosestQuality",{enumerable:!0,get:function(){return a}})},1948,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n}});let a=e.r(670965);function i({config:e,src:t,width:r,quality:i}){if(t.startsWith("/")&&t.includes("?")&&e.localPatterns?.length===1&&"**"===e.localPatterns[0].pathname&&""===e.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${t}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let n=(0,a.findClosestQuality)(i,e);return`${e.path}?url=${encodeURIComponent(t)}&w=${r}&q=${n}${t.startsWith("/_next/static/media/"),""}`}i.__next_img_default=!0;let n=i},605500,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Image",{enumerable:!0,get:function(){return v}});let a=e.r(563141),i=e.r(151836),n=e.r(843476),s=i._(e.r(271645)),l=a._(e.r(174080)),o=a._(e.r(325633)),d=e.r(908927),c=e.r(987690),u=e.r(918556);e.r(233525);let f=e.r(65856),m=a._(e.r(1948)),p=e.r(818581),g={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function h(e,t,r,a,i,n,s){let l=e?.src;e&&e["data-loaded-src"]!==l&&(e["data-loaded-src"]=l,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&i(!0),r?.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let a=!1,i=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>a,isPropagationStopped:()=>i,persist:()=>{},preventDefault:()=>{a=!0,t.preventDefault()},stopPropagation:()=>{i=!0,t.stopPropagation()}})}a?.current&&a.current(e)}}))}function x(e){return s.use?{fetchPriority:e}:{fetchpriority:e}}"undefined"==typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let y=(0,s.forwardRef)(({src:e,srcSet:t,sizes:r,height:a,width:i,decoding:l,className:o,style:d,fetchPriority:c,placeholder:u,loading:f,unoptimized:m,fill:g,onLoadRef:y,onLoadingCompleteRef:b,setBlurComplete:v,setShowAltText:j,sizesInput:w,onLoad:N,onError:k,..._},C)=>{let S=(0,s.useCallback)(e=>{e&&(k&&(e.src=e.src),e.complete&&h(e,u,y,b,v,m,w))},[e,u,y,b,v,k,m,w]),E=(0,p.useMergedRef)(C,S);return(0,n.jsx)("img",{..._,...x(c),loading:f,width:i,height:a,decoding:l,"data-nimg":g?"fill":"1",className:o,style:d,sizes:r,srcSet:t,src:e,ref:E,onLoad:e=>{h(e.currentTarget,u,y,b,v,m,w)},onError:e=>{j(!0),"empty"!==u&&v(!0),k&&k(e)}})});function b({isAppRouter:e,imgAttributes:t}){let r={as:"image",imageSrcSet:t.srcSet,imageSizes:t.sizes,crossOrigin:t.crossOrigin,referrerPolicy:t.referrerPolicy,...x(t.fetchPriority)};return e&&l.default.preload?(l.default.preload(t.src,r),null):(0,n.jsx)(o.default,{children:(0,n.jsx)("link",{rel:"preload",href:t.srcSet?void 0:t.src,...r},"__nimg-"+t.src+t.srcSet+t.sizes)})}let v=(0,s.forwardRef)((e,t)=>{let r=(0,s.useContext)(f.RouterContext),a=(0,s.useContext)(u.ImageConfigContext),i=(0,s.useMemo)(()=>{let e=g||a||c.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),r=e.deviceSizes.sort((e,t)=>e-t),i=e.qualities?.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:r,qualities:i,localPatterns:"undefined"==typeof window?a?.localPatterns:e.localPatterns}},[a]),{onLoad:l,onLoadingComplete:o}=e,p=(0,s.useRef)(l);(0,s.useEffect)(()=>{p.current=l},[l]);let h=(0,s.useRef)(o);(0,s.useEffect)(()=>{h.current=o},[o]);let[x,v]=(0,s.useState)(!1),[j,w]=(0,s.useState)(!1),{props:N,meta:k}=(0,d.getImgProps)(e,{defaultLoader:m.default,imgConf:i,blurComplete:x,showAltText:j});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y,{...N,unoptimized:k.unoptimized,placeholder:k.placeholder,fill:k.fill,onLoadRef:p,onLoadingCompleteRef:h,setBlurComplete:v,setShowAltText:w,sizesInput:e.sizes,ref:t}),k.preload?(0,n.jsx)(b,{isAppRouter:!r,imgAttributes:N}):null]})});("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},794909,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return c},getImageProps:function(){return d}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let n=e.r(563141),s=e.r(908927),l=e.r(605500),o=n._(e.r(1948));function d(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let c=l.Image},657688,(e,t,r)=>{t.exports=e.r(794909)},440160,e=>{"use strict";let t=(0,e.i(475254).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>t],440160)}]);