(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,493843,e=>{"use strict";var t=e.i(843476),r=e.i(271645),a=e.i(820783),s=e.i(30030),i=e.i(981140),n=e.i(369340),l=e.i(999682),d=e.i(635804),o=e.i(296626),c=e.i(248425),u="Checkbox",[x,m]=(0,s.createContextScope)(u),[g,h]=x(u);function p(e){let{__scopeCheckbox:a,checked:s,children:i,defaultChecked:l,disabled:d,form:o,name:c,onCheckedChange:x,required:m,value:h="on",internal_do_not_use_render:p}=e,[b,f]=(0,n.useControllableState)({prop:s,defaultProp:l??!1,onChange:x,caller:u}),[y,v]=r.useState(null),[j,k]=r.useState(null),w=r.useRef(!1),C=!y||!!o||!!y.closest("form"),D={checked:b,disabled:d,setChecked:f,control:y,setControl:v,name:c,form:o,value:h,hasConsumerStoppedPropagationRef:w,required:m,defaultChecked:!N(l)&&l,isFormControl:C,bubbleInput:j,setBubbleInput:k};return(0,t.jsx)(g,{scope:a,...D,children:"function"==typeof p?p(D):i})}var b="CheckboxTrigger",f=r.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:n,...l},d)=>{let{control:o,value:u,disabled:x,checked:m,required:g,setControl:p,setChecked:f,hasConsumerStoppedPropagationRef:y,isFormControl:v,bubbleInput:j}=h(b,e),k=(0,a.useComposedRefs)(d,p),w=r.useRef(m);return r.useEffect(()=>{let e=o?.form;if(e){let t=()=>f(w.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[o,f]),(0,t.jsx)(c.Primitive.button,{type:"button",role:"checkbox","aria-checked":N(m)?"mixed":m,"aria-required":g,"data-state":C(m),"data-disabled":x?"":void 0,disabled:x,value:u,...l,ref:k,onKeyDown:(0,i.composeEventHandlers)(s,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,i.composeEventHandlers)(n,e=>{f(e=>!!N(e)||!e),j&&v&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})})});f.displayName=b;var y=r.forwardRef((e,r)=>{let{__scopeCheckbox:a,name:s,checked:i,defaultChecked:n,required:l,disabled:d,value:o,onCheckedChange:c,form:u,...x}=e;return(0,t.jsx)(p,{__scopeCheckbox:a,checked:i,defaultChecked:n,disabled:d,required:l,onCheckedChange:c,name:s,form:u,value:o,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f,{...x,ref:r,__scopeCheckbox:a}),e&&(0,t.jsx)(w,{__scopeCheckbox:a})]})})});y.displayName=u;var v="CheckboxIndicator",j=r.forwardRef((e,r)=>{let{__scopeCheckbox:a,forceMount:s,...i}=e,n=h(v,a);return(0,t.jsx)(o.Presence,{present:s||N(n.checked)||!0===n.checked,children:(0,t.jsx)(c.Primitive.span,{"data-state":C(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:r,style:{pointerEvents:"none",...e.style}})})});j.displayName=v;var k="CheckboxBubbleInput",w=r.forwardRef(({__scopeCheckbox:e,...s},i)=>{let{control:n,hasConsumerStoppedPropagationRef:o,checked:u,defaultChecked:x,required:m,disabled:g,name:p,value:b,form:f,bubbleInput:y,setBubbleInput:v}=h(k,e),j=(0,a.useComposedRefs)(i,v),w=(0,l.usePrevious)(u),C=(0,d.useSize)(n);r.useEffect(()=>{if(!y)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!o.current;if(w!==u&&e){let r=new Event("click",{bubbles:t});y.indeterminate=N(u),e.call(y,!N(u)&&u),y.dispatchEvent(r)}},[y,w,u,o]);let D=r.useRef(!N(u)&&u);return(0,t.jsx)(c.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:x??D.current,required:m,disabled:g,name:p,value:b,form:f,...s,tabIndex:-1,ref:j,style:{...s.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function N(e){return"indeterminate"===e}function C(e){return N(e)?"indeterminate":e?"checked":"unchecked"}w.displayName=k;var D=e.i(678784),F=e.i(152088);function S({className:e,...r}){return(0,t.jsx)(y,{"data-slot":"checkbox",className:(0,F.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,t.jsx)(j,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,t.jsx)(D.CheckIcon,{className:"size-3.5"})})})}e.s(["Checkbox",()=>S],493843)},264036,e=>{"use strict";var t=e.i(843476),r=e.i(152088);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function s({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...a})}function n({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...a})}function l({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-action",className:(0,r.cn)("col-start-2 row-span-2 row-start-1 self-start justify-self-end",e),...a})}function d({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...a})}function o({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",e),...a})}e.s(["Card",()=>a,"CardAction",()=>l,"CardContent",()=>d,"CardDescription",()=>n,"CardFooter",()=>o,"CardHeader",()=>s,"CardTitle",()=>i])},373884,e=>{"use strict";let t=(0,e.i(475254).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],373884)},555436,e=>{"use strict";let t=(0,e.i(475254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],555436)},664659,e=>{"use strict";var t=e.i(631171);e.s(["ChevronDown",()=>t.default])},267218,e=>{"use strict";var t=e.i(843476);e.i(418094);var r=e.i(225913),a=e.i(152088);e.i(876581);let s=(0,r.cva)("flex w-fit items-stretch [&>*]:focus-visible:z-10 [&>*]:focus-visible:relative [&>[data-slot=select-trigger]:not([class*='w-'])]:w-fit [&>input]:flex-1 has-[select[aria-hidden=true]:last-child]:[&>[data-slot=select-trigger]:last-of-type]:rounded-r-md has-[>[data-slot=button-group]]:gap-2",{variants:{orientation:{horizontal:"[&>*:not(:first-child)]:rounded-l-none [&>*:not(:first-child)]:border-l-0 [&>*:not(:last-child)]:rounded-r-none",vertical:"flex-col [&>*:not(:first-child)]:rounded-t-none [&>*:not(:first-child)]:border-t-0 [&>*:not(:last-child)]:rounded-b-none"}},defaultVariants:{orientation:"horizontal"}});function i({className:e,orientation:r,...i}){return(0,t.jsx)("div",{role:"group","data-slot":"button-group","data-orientation":r,className:(0,a.cn)(s({orientation:r}),e),...i})}e.s(["ButtonGroup",()=>i])},752822,(e,t,r)=>{"use strict";var a=e.r(271645),s=e.r(802239),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=s.useSyncExternalStore,l=a.useRef,d=a.useEffect,o=a.useMemo,c=a.useDebugValue;r.useSyncExternalStoreWithSelector=function(e,t,r,a,s){var u=l(null);if(null===u.current){var x={hasValue:!1,value:null};u.current=x}else x=u.current;var m=n(e,(u=o(function(){function e(e){if(!d){if(d=!0,n=e,e=a(e),void 0!==s&&x.hasValue){var t=x.value;if(s(t,e))return l=t}return l=e}if(t=l,i(n,e))return t;var r=a(e);return void 0!==s&&s(t,r)?(n=e,t):(n=e,l=r)}var n,l,d=!1,o=void 0===r?null:r;return[function(){return e(t())},null===o?void 0:function(){return e(o())}]},[t,r,a,s]))[0],u[1]);return d(function(){x.hasValue=!0,x.value=m},[m]),c(m),m}},430224,(e,t,r)=>{"use strict";t.exports=e.r(752822)},49789,e=>{"use strict";var t=e.i(843476),r=e.i(271645),a=e.i(24079),s=e.i(407107);function i({buttons:e,onCancel:i,onSave:n,cancelText:l="Cancel",saveText:d="Save",isLoading:o=!1,className:c="",fullWidth:u=!1,hasUnsavedChanges:x=!1,isEditing:m=!1}){let g=(0,a.useSidebar)(),h=e||[...i?[{label:l,onClick:i,intent:"outline",disabled:o}]:[],...n?[{label:o?"Saving...":d,onClick:n,intent:"primary",type:"submit",disabled:o}]:[]];if(0===h.length)return null;let p=!g||g.isMobile?"0px":"expanded"===g.state?"var(--sidebar-width, 18rem)":"var(--sidebar-width-icon, 3rem)";return(0,t.jsx)("div",{className:`fixed bottom-0 right-0 z-40 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 shadow-lg ${c} transition-[left] duration-200 ease-linear`,style:{left:p},children:(0,t.jsx)("div",{className:"w-full px-6",children:(0,t.jsx)("div",{className:"w-full",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-x-3 py-4 flex-wrap",children:[(0,t.jsx)("div",{className:"flex items-center gap-x-3 flex-wrap",children:h.filter(e=>!e.position||"left"===e.position).map((e,a)=>{let i=(0,t.jsx)(s.StyledButton,{label:e.label,onClick:e.onClick,intent:e.intent,size:e.size,icon:e.icon,isLoading:e.isLoading,disabled:e.disabled,type:e.type});return(0,t.jsx)(r.Fragment,{children:e.customComponent?e.customComponent(i):i},`left-${a}`)})}),m&&x&&(0,t.jsxs)("div",{className:"flex items-center gap-2.5 px-4 py-2 rounded-lg bg-yellow-100 dark:bg-yellow-900/40 border-2 border-yellow-400 dark:border-yellow-600 shrink-0 shadow-md animate-pulse",children:[(0,t.jsx)("div",{className:"w-2.5 h-2.5 bg-yellow-500 rounded-full shrink-0 animate-pulse"}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-yellow-900 dark:text-yellow-100 leading-tight",children:"Unsaved changes"}),(0,t.jsx)("p",{className:"text-xs font-medium text-yellow-800 dark:text-yellow-200 leading-tight",children:"Save or cancel your changes"})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-x-3 flex-wrap",children:h.filter(e=>"right"===e.position).map((e,a)=>{let i=(0,t.jsx)(s.StyledButton,{label:e.label,onClick:e.onClick,intent:e.intent,size:e.size,icon:e.icon,isLoading:e.isLoading,disabled:e.disabled,type:e.type});return(0,t.jsx)(r.Fragment,{children:e.customComponent?e.customComponent(i):i},`right-${a}`)})})]})})})})}e.s(["StickyFormFooter",()=>i])},541247,e=>{"use strict";var t=e.i(843476),r=e.i(152088);function a({className:e,...a}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...a})}e.s(["Textarea",()=>a])},859531,495794,e=>{"use strict";var t=e.i(271645);let r=t.forwardRef(function({title:e,titleId:r,...a},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),e?t.createElement("title",{id:r},e):null,t.createElement("path",{fillRule:"evenodd",d:"M9.965 11.026a5 5 0 1 1 1.06-1.06l2.755 2.754a.75.75 0 1 1-1.06 1.06l-2.755-2.754ZM10.5 7a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z",clipRule:"evenodd"}))});e.s(["MagnifyingGlassIcon",0,r],859531);let a=t.forwardRef(function({title:e,titleId:r,...a},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":r},a),e?t.createElement("title",{id:r},e):null,t.createElement("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z"}))});e.s(["UserIcon",0,a],495794)},625754,e=>{"use strict";var t=e.i(843476),r=e.i(271645);e.s(["default",0,({options:e=[],placeholder:a="Select an option...",value:s,onSelect:i,disabled:n=!1})=>{let[l,d]=(0,r.useState)(s||""),[o,c]=(0,r.useState)(!1),[u,x]=(0,r.useState)(s||null),[m,g]=(0,r.useState)(e),[h,p]=(0,r.useState)(-1),b=(0,r.useRef)(null),f=(0,r.useRef)([]);(0,r.useEffect)(()=>{""===l?g(e):g(e.filter(e=>e.toLowerCase().includes(l.toLowerCase()))),p(-1),f.current=[]},[l,e]),(0,r.useEffect)(()=>{void 0!==s&&(d(s),x(s))},[s]),(0,r.useEffect)(()=>{h>=0&&f.current[h]&&f.current[h]?.scrollIntoView({behavior:"smooth",block:"nearest"})},[h]),(0,r.useEffect)(()=>{let e=e=>{b.current&&!b.current.contains(e.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let y=e=>{x(e),d(e),c(!1),p(-1),i?.(e)};return(0,t.jsxs)("div",{className:"relative w-full max-w-md",ref:b,children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",value:l,onChange:e=>{n||(d(e.target.value),c(!0),x(null),p(-1))},onFocus:()=>{n||c(!0)},onKeyDown:e=>{if(!n){if(!o&&("ArrowDown"===e.key||"ArrowUp"===e.key)){c(!0),m.length>0&&p("ArrowDown"===e.key?0:m.length-1);return}if(o)switch(e.key){case"ArrowDown":e.preventDefault(),m.length>0&&p(e=>e<m.length-1?e+1:0);break;case"ArrowUp":e.preventDefault(),m.length>0&&p(e=>e>0?e-1:m.length-1);break;case"Enter":e.preventDefault(),h>=0&&h<m.length&&y(m[h]);break;case"Escape":e.preventDefault(),c(!1),p(-1);break;case"Tab":c(!1),p(-1)}}},placeholder:a,disabled:n,className:`w-full px-4 py-2 pr-20 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent placeholder-gray-500 dark:placeholder-gray-400 ${n?"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"}`,role:"combobox","aria-expanded":o,"aria-haspopup":"listbox","aria-controls":"combobox-options","aria-autocomplete":"list","aria-activedescendant":h>=0?`option-${h}`:void 0}),u&&!n&&(0,t.jsx)("button",{type:"button",onClick:()=>{n||(d(""),x(null),c(!1),p(-1),i?.(null))},className:"absolute right-8 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":"Clear selection",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsx)("button",{type:"button",onClick:()=>!n&&c(!o),disabled:n,className:`absolute right-2 top-1/2 transform -translate-y-1/2 transition-colors ${n?"text-gray-400 dark:text-gray-500 cursor-not-allowed":"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"}`,"aria-label":"Toggle dropdown",children:(0,t.jsx)("svg",{className:`w-5 h-5 transition-transform ${o?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),o&&!n&&(0,t.jsx)("div",{id:"combobox-options",className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-y-scroll",role:"listbox",children:m.length>0?m.map((e,r)=>(0,t.jsx)("button",{ref:e=>{f.current[r]=e},id:`option-${r}`,onClick:()=>y(e),className:`w-full px-4 py-2 text-left focus:outline-none first:rounded-t-lg last:rounded-b-lg transition-colors ${r===h?"bg-blue-100 dark:bg-blue-900/20 text-blue-900 dark:text-blue-300":"text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-700 focus:bg-gray-50 dark:focus:bg-gray-700"}`,role:"option","aria-selected":u===e,onMouseEnter:()=>p(r),children:e},r)):(0,t.jsx)("div",{className:"px-4 py-2 text-gray-500 dark:text-gray-400",role:"status",children:"No options found"})})]})}])},369910,560539,e=>{"use strict";var t=e.i(843476),r=e.i(985902);let a=e=>e?("number"==typeof e?new Date(e):e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Not set";function s({form:e,calendarDate:s,handleCalendarNavigation:i,handleDateClick:n,formatDisplayDate:l=a,showDueDate:d=!1,variant:o="default"}){return(0,t.jsx)(e.Field,{name:"startDate",children:a=>(0,t.jsx)(e.Field,{name:"endDate",children:c=>{let u,x=a.state.value,m=c.state.value;d&&(u=e.getFieldValue("dueDate"));let g="detailed"===o;return(0,t.jsxs)("div",{className:g?"relative overflow-hidden rounded-2xl p-6 shadow-sm border border-gray-200/60 dark:border-white/10 bg-white/80 dark:bg-white/[0.03] backdrop-blur supports-[backdrop-filter]:bg-white/60 ring-1 ring-black/5 dark:ring-white/10":"bg-white dark:bg-gray-900 border border-gray-200 dark:border-white/10 rounded-xl p-6 shadow-sm",children:[g&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"pointer-events-none absolute -top-24 -right-24 h-48 w-48 rounded-full bg-primary/10 blur-3xl"}),(0,t.jsx)("div",{className:"pointer-events-none absolute -bottom-24 -left-24 h-48 w-48 rounded-full bg-blue-500/10 blur-3xl"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:s.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),(0,t.jsxs)("div",{className:g?"flex gap-2 rounded-lg bg-gray-50/80 dark:bg-white/5 p-1 ring-1 ring-inset ring-gray-200/70 dark:ring-white/10 shadow-sm":"flex gap-2",children:[(0,t.jsx)(r.Button,{type:"button",intent:"outline",size:"sm",onClick:e=>{e.preventDefault(),e.stopPropagation(),i("prev")},children:(0,t.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),(0,t.jsx)(r.Button,{type:"button",intent:"outline",size:"sm",onClick:e=>{e.preventDefault(),e.stopPropagation(),i("next")},children:(0,t.jsx)("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})]}),(0,t.jsxs)("div",{className:g?"grid grid-cols-7 gap-1.5":"grid grid-cols-7 gap-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,t.jsx)("div",{className:g?"text-center text-[11px] uppercase tracking-wide font-medium text-gray-500 dark:text-gray-400 py-3 border-b border-gray-100/80 dark:border-white/5":"text-center text-xs font-medium text-gray-500 dark:text-gray-400 py-3 border-b border-gray-100 dark:border-white/5",children:e},e)),(e=>{let t=e.getFullYear(),r=e.getMonth(),a=new Date(t,r,1),s=new Date(t,r+1,0),i=a.getDay(),n=s.getDate(),l=[];for(let e=0;e<i;e++)l.push(null);for(let e=1;e<=n;e++)l.push(e);for(;l.length<42;)l.push(null);return l})(s).map((e,r)=>{let a=null!==e,i=new Date,l=a&&e===i.getDate()&&s.getMonth()===i.getMonth()&&s.getFullYear()===i.getFullYear(),o=!1,c=!1,h=!1,p=!1,b=!1,f=e?new Date(s.getFullYear(),s.getMonth(),e):null;if(f&&f.setHours(0,0,0,0),e&&x){let e=new Date("number"==typeof x?x:x.getTime());if(e.setHours(0,0,0,0),o=f?.getTime()===e.getTime(),!m&&f&&(b=f<e),m&&!o&&f){let t=new Date("number"==typeof m?m:m.getTime());t.setHours(0,0,0,0),p=f>e&&f<t}}if(e&&m&&f){let e=new Date("number"==typeof m?m:m.getTime());e.setHours(0,0,0,0),c=f.getTime()===e.getTime()}if(e&&d&&u&&f){let e=new Date("number"==typeof u?u:u.getTime());e.setHours(0,0,0,0),h=f.getTime()===e.getTime()}let y=o||c||h;return g?(0,t.jsxs)("div",{onClick:t=>{!b&&e&&(t.preventDefault(),t.stopPropagation(),n(e))},className:`
													relative h-11 flex items-center justify-center text-sm transition-colors duration-200 rounded-lg
													${a&&!b?"cursor-pointer":"cursor-default"}
													${a?"text-gray-900 dark:text-white":"text-gray-300 dark:text-gray-600"}
													${a&&!b&&!y&&!p?"hover:bg-primary/10 ring-1 ring-inset ring-primary/20 dark:hover:bg-primary/15":""}
													${y?"bg-primary text-primary-foreground shadow-sm ring-1 ring-primary/40 font-medium":""}
													${p?"bg-blue-100 dark:bg-blue-900/50 text-blue-900 dark:text-blue-100 font-medium":""}
													${l&&!y&&!p?"ring-1 ring-amber-500/60 text-amber-600 dark:text-amber-300 bg-amber-500/10":""}
												`,title:b?"Cannot select date before start date":o?"Project Start":c?"Project End":h?"Due Date":a?"Click to set date":"",children:[e||"",y&&(0,t.jsx)("div",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 w-6 h-1 rounded-full bg-white/70 dark:bg-white/80"})]},r):(0,t.jsxs)("div",{onClick:t=>{!b&&e&&(t.preventDefault(),t.stopPropagation(),n(e))},className:`relative h-10 flex items-center justify-center text-sm transition-all duration-200 ${a?b?"text-gray-300 dark:text-gray-700 cursor-not-allowed opacity-50":o?"bg-blue-600 text-white rounded-l-lg shadow-md hover:bg-blue-700 font-bold cursor-pointer":c?"bg-blue-600 text-white rounded-r-lg shadow-md hover:bg-blue-700 font-bold cursor-pointer":p?"bg-blue-100 dark:bg-blue-900/50 text-blue-900 dark:text-blue-100 font-medium cursor-pointer hover:bg-blue-200 dark:hover:bg-blue-900/70":"text-gray-900 dark:text-white hover:bg-blue-50 dark:hover:bg-blue-900/30 cursor-pointer":"text-gray-300 dark:text-gray-600"}${l&&!y&&!p&&!b?" ring-2 ring-orange-500 dark:ring-orange-400 ring-inset rounded-lg font-medium":""}`,title:b?"Cannot select date before start date":o?"Project Start Date":c?"Project End Date":p?"Within project range":a?"Click to set date":"",children:[e??"",o&&(0,t.jsx)("div",{className:"absolute top-0.5 right-0.5 w-1.5 h-1.5 bg-white rounded-full"}),c&&(0,t.jsx)("div",{className:"absolute top-0.5 left-0.5 w-1.5 h-1.5 bg-white rounded-full"})]},r)})]}),(0,t.jsxs)("div",{className:g?"flex items-center justify-center gap-6 mt-5 pt-4 border-t border-gray-200/80 dark:border-white/10 text-xs":"flex items-center justify-center gap-6 mt-4 pt-4 border-t border-gray-200 dark:border-white/10 text-xs text-gray-500 dark:text-gray-400",children:[x&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-blue-600 rounded"}),(0,t.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Start: ",l(x)]})]}),m&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-blue-600 rounded"}),(0,t.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["End: ",l(m)]})]}),d&&u&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-blue-600 rounded"}),(0,t.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Due: ",l(u)]})]})]})]})}})})}e.s(["CalendarWidget",()=>s],369910);var i=e.i(271645);let n=i.forwardRef(function({title:e,titleId:t,...r},a){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))});e.s(["MapPinIcon",0,n],560539)},740141,e=>{"use strict";var t=e.i(843476),r=e.i(271645),a=e.i(741452),s=e.i(362201),i=e.i(361922),n=e.i(412762),l=e.i(610012),d=e.i(541247),o=e.i(493843),c=e.i(173554),u=e.i(985902),x=e.i(160430),m=e.i(337837),g=e.i(747697),h=e.i(369910),p=e.i(264036),b=e.i(907347),f=e.i(49789);e.i(250711);var y=e.i(982045),v=e.i(283164),j=e.i(618566),k=e.i(859531),w=e.i(495794),N=e.i(560539),C=e.i(625754),D=e.i(267218),F=e.i(152088),S=e.i(35723),T=e.i(284614);let E={clientId:"",title:"",instructions:"",projectType:"one-off",startDate:void 0,endDate:void 0,startTime:"",endTime:"",assignedUserIds:[],invoiceReminderEnabled:!0,scheduleForLater:!1},P=s.object({clientId:s.string().min(1,"Client selection is required"),title:s.string().min(1,"Project title is required"),instructions:s.string(),projectType:s.enum(["one-off","recurring"]),startDate:s.date().optional(),endDate:s.date().optional(),startTime:s.string(),endTime:s.string(),assignedUserIds:s.array(s.string()),invoiceReminderEnabled:s.boolean(),scheduleForLater:s.boolean()}).refine(e=>!e.startDate||!e.endDate||e.endDate>=e.startDate,{message:"End date must be on or after start date",path:["endDate"]}),L=e=>e?("number"==typeof e?new Date(e):e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Not set",I=e=>e.propertyName?`${e.propertyName} - ${e.streetAddress}`:e.streetAddress,M=e=>`${e.firstName} ${e.lastName}${e.jobTitle?` - ${e.jobTitle}`:""}`;function R({form:e,isLoading:a}){let[s,i]=r.default.useState(!1),[l,d]=r.default.useState(!1);return(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,t.jsx)(e.Field,{name:"startDate",children:e=>(0,t.jsxs)(n.Field,{children:[(0,t.jsx)(n.FieldLabel,{children:"Start Date"}),(0,t.jsxs)(m.Popover,{open:s,onOpenChange:i,children:[(0,t.jsx)(m.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)(u.Button,{intent:"outline",className:"w-full justify-start text-left font-normal",children:[(0,t.jsx)(g.CalendarIcon,{className:"mr-2 h-4 w-4"}),e.state.value?L(e.state.value):"Select start date"]})}),(0,t.jsx)(m.PopoverContent,{className:"w-auto p-0 bg-white dark:bg-gray-950",align:"start",children:(0,t.jsx)(x.Calendar,{mode:"single",selected:e.state.value,onSelect:t=>{e.handleChange(t),i(!1)},disabled:a,className:"!bg-white dark:!bg-gray-950"})})]})]})}),(0,t.jsx)(e.Field,{name:"endDate",children:r=>{let s=e.getFieldValue("startDate");return(0,t.jsxs)(n.Field,{children:[(0,t.jsx)(n.FieldLabel,{children:"End Date"}),(0,t.jsxs)(m.Popover,{open:l,onOpenChange:d,children:[(0,t.jsx)(m.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)(u.Button,{intent:"outline",className:"w-full justify-start text-left font-normal",children:[(0,t.jsx)(g.CalendarIcon,{className:"mr-2 h-4 w-4"}),r.state.value?L(r.state.value):"Select end date"]})}),(0,t.jsx)(m.PopoverContent,{className:"w-auto p-0 bg-white dark:bg-gray-950",align:"start",children:(0,t.jsx)(x.Calendar,{mode:"single",selected:r.state.value,onSelect:e=>{r.handleChange(e),d(!1)},disabled:e=>{if(a)return!0;if(!s)return!1;let t=new Date("number"==typeof s?s:s.getTime());t.setHours(0,0,0,0);let r=new Date(e);return r.setHours(0,0,0,0),r<t},className:"!bg-white dark:!bg-gray-950"})})]})]})}})]})}function $({preselectedClientId:e,onSubmit:s,isLoading:u=!1}){let x=(0,j.useRouter)(),m=(0,i.useToastOperations)(),[$,B]=r.default.useState(e||null),[V,z]=r.default.useState(null),[H,_]=r.default.useState(null),[U,A]=r.default.useState(()=>{let e=new Date;return e.setHours(0,0,0,0),e}),[O,W]=r.default.useState("one-off"),q=(0,y.useQuery)(v.api.clients.list,{}),G=(0,r.useMemo)(()=>q??[],[q]),Z=(0,y.useQuery)(v.api.clients.get,$?{id:$}:"skip"),Q=(0,y.useQuery)(v.api.clientContacts.listByClient,$?{clientId:$}:"skip"),Y=(0,y.useQuery)(v.api.clientProperties.listByClient,$?{clientId:$}:"skip"),K=(0,y.useQuery)(v.api.users.listByOrg),X=(0,y.useMutation)(v.api.projects.create),J=(0,a.useForm)({defaultValues:{...E,clientId:e||""},onSubmit:async({value:e})=>{let t=P.safeParse(e);if(!t.success){console.error("Validation errors:",t.error.flatten()),m.error("Validation Error","Please fix the errors in the form before submitting.");return}try{let t={clientId:e.clientId,title:e.title.trim(),description:e.instructions||void 0,instructions:e.instructions||void 0,status:"planned",projectType:e.projectType,startDate:e.startDate?e.startDate.getTime():void 0,endDate:e.endDate?e.endDate.getTime():void 0,assignedUserIds:e.assignedUserIds.length>0?e.assignedUserIds:void 0,invoiceReminderEnabled:e.invoiceReminderEnabled,scheduleForLater:e.scheduleForLater};if(s)s(e);else{let e=await X(t);m.success("Project Created","Project has been successfully created!"),x.push(`/projects/${e}`)}}catch(e){console.error("Failed to submit form:",e),m.error("Error","Failed to create project. Please try again.")}}});(0,r.useEffect)(()=>{e&&(B(e),J.setFieldValue("clientId",e))},[e,J]),(0,r.useEffect)(()=>{z(null),_(null)},[$]),(0,r.useEffect)(()=>{Y&&z(e=>{if(e&&Y.some(t=>t._id===e))return e;let t=Y.find(e=>e.isPrimary)??Y[0]??null;return t?t._id:null})},[Y]),(0,r.useEffect)(()=>{Q&&_(e=>{if(e&&Q.some(t=>t._id===e))return e;let t=Q.find(e=>e.isPrimary)??Q[0]??null;return t?t._id:null})},[Q]);let ee=(0,r.useMemo)(()=>$?G.find(e=>e._id===$)??null:null,[G,$]),et=(0,r.useMemo)(()=>Y?.map(e=>I(e))??[],[Y]),er=(0,r.useMemo)(()=>Q?.map(e=>M(e))??[],[Q]),ea=(0,r.useMemo)(()=>Y&&V?Y.find(e=>e._id===V)??null:null,[Y,V]),es=(0,r.useMemo)(()=>Q&&H?Q.find(e=>e._id===H)??null:null,[Q,H]),ei=(0,r.useMemo)(()=>G.map(e=>e.companyName),[G]),en=e=>{W(e),J.setFieldValue("projectType",e)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-full px-6",children:(0,t.jsxs)("div",{className:"w-full pt-8 pb-24",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-white",children:"Create New Project"}),(0,t.jsx)("p",{className:"mt-3 text-base text-gray-600 dark:text-gray-400 max-w-2xl",children:"Set up your project with all the essential details for successful execution."})]}),(0,t.jsxs)("form",{id:"project-onboarding-form",onSubmit:e=>{e.preventDefault(),J.handleSubmit()},children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3 mb-8",children:[(0,t.jsxs)(p.Card,{className:"shadow-sm border-gray-200/60 dark:border-white/10",children:[(0,t.jsx)(p.CardHeader,{className:"pb-4",children:(0,t.jsxs)(p.CardTitle,{className:"flex items-center gap-2 text-xl font-semibold text-gray-900 dark:text-white",children:[(0,t.jsx)(k.MagnifyingGlassIcon,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),"Client Information"]})}),(0,t.jsxs)(p.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400 text-left",children:"Selected Client *"}),(0,t.jsx)(J.Field,{name:"clientId",children:e=>(0,t.jsx)(C.default,{options:ei,placeholder:ee?.companyName??"Select a client...",onSelect:t=>{(e=>{if(!e){B(null),J.setFieldValue("clientId","");return}let t=G.find(t=>t.companyName===e);t&&(B(t._id),J.setFieldValue("clientId",t._id))})(t),e.handleChange(t&&G.find(e=>e.companyName===t)?._id||"")},disabled:u})})]}),Z?(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Status:"}),(0,t.jsx)("div",{className:"flex items-center gap-2 mt-1",children:(0,t.jsx)(b.Badge,{className:(e=>{switch(e){case"lead":case"prospect":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"active":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"inactive":default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400";case"archived":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}})(Z.status),variant:"outline",children:Z.status})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Type:"}),(0,t.jsx)("div",{className:"mt-1 text-gray-900 dark:text-white capitalize",children:Z.clientType||"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Industry:"}),(0,t.jsx)("div",{className:"mt-1 text-gray-900 dark:text-white",children:Z.industry||"No industry specified"})]}),Z.companyDescription&&(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Description:"}),(0,t.jsx)("div",{className:"mt-1 text-gray-900 dark:text-white",children:Z.companyDescription})]})]}):$?(0,t.jsx)("div",{className:"text-center py-8 text-sm text-gray-500 dark:text-gray-400",children:"Loading client details..."}):(0,t.jsx)("div",{className:"text-center py-8 text-sm text-gray-500 dark:text-gray-400",children:"Select a client to view details"})]})]}),(0,t.jsxs)(p.Card,{className:"shadow-sm border-gray-200/60 dark:border-white/10",children:[(0,t.jsx)(p.CardHeader,{className:"pb-4",children:(0,t.jsxs)(p.CardTitle,{className:"flex items-center gap-2 text-xl font-semibold text-gray-900 dark:text-white",children:[(0,t.jsx)(N.MapPinIcon,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),"Property Address"]})}),(0,t.jsxs)(p.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400 text-left",children:"Selected Property"}),(0,t.jsx)(C.default,{options:et,placeholder:ea?I(ea):$?et.length>0?"Select a property...":"No properties for this client":"Select a client first...",onSelect:e=>{if(!Y)return;if(!e)return void z(null);let t=Y.find(t=>I(t)===e);t&&z(t._id)},disabled:!$||0===et.length})]}),ea?(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[ea.propertyName&&(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Property Name:"}),(0,t.jsx)("div",{className:"mt-1 text-gray-900 dark:text-white font-medium",children:ea.propertyName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Type:"}),(0,t.jsx)("div",{className:"mt-1 text-gray-900 dark:text-white capitalize",children:ea.propertyType||"Not specified"})]}),ea.squareFootage&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Square Footage:"}),(0,t.jsxs)("div",{className:"mt-1 text-gray-900 dark:text-white",children:[ea.squareFootage.toLocaleString()," sq ft"]})]}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Address:"}),(0,t.jsxs)("div",{className:"mt-1 text-gray-900 dark:text-white",children:[(0,t.jsx)("div",{className:"font-medium",children:ea.streetAddress}),(0,t.jsxs)("div",{className:"text-gray-600 dark:text-gray-400",children:[ea.city,", ",ea.state," ",ea.zipCode,ea.country?`, ${ea.country}`:""]})]})]}),ea.description&&(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Description:"}),(0,t.jsx)("div",{className:"mt-1 text-gray-900 dark:text-white",children:ea.description})]})]}):$?(0,t.jsx)("div",{className:"text-center py-8 text-sm text-gray-500 dark:text-gray-400",children:0===et.length?"No properties available for this client":"Select a property above to view details"}):(0,t.jsx)("div",{className:"text-center py-8 text-sm text-gray-500 dark:text-gray-400",children:"Select a client to view property information"})]})]}),(0,t.jsxs)(p.Card,{className:"shadow-sm border-gray-200/60 dark:border-white/10",children:[(0,t.jsx)(p.CardHeader,{className:"pb-4",children:(0,t.jsxs)(p.CardTitle,{className:"flex items-center gap-2 text-xl font-semibold text-gray-900 dark:text-white",children:[(0,t.jsx)(w.UserIcon,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"}),"Contact Details"]})}),(0,t.jsxs)(p.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-600 dark:text-gray-400 text-left",children:"Selected Contact"}),(0,t.jsx)(C.default,{options:er,placeholder:es?M(es):$?er.length>0?"Select a contact...":"No contacts for this client":"Select a client first...",onSelect:e=>{if(!Q)return;if(!e)return void _(null);let t=Q.find(t=>M(t)===e);t&&_(t._id)},disabled:!$||0===er.length})]}),es?(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Name:"}),(0,t.jsxs)("div",{className:"mt-1 text-gray-900 dark:text-white font-medium",children:[es.firstName," ",es.lastName]})]}),es.jobTitle&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Job Title:"}),(0,t.jsx)("div",{className:"mt-1 text-gray-900 dark:text-white",children:es.jobTitle})]}),es.role&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Role:"}),(0,t.jsx)("div",{className:"mt-1 text-gray-900 dark:text-white capitalize",children:es.role})]}),es.department&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Department:"}),(0,t.jsx)("div",{className:"mt-1 text-gray-900 dark:text-white",children:es.department})]}),es.email&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Email:"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("a",{href:`mailto:${es.email}`,className:"text-blue-600 dark:text-blue-400 hover:underline",children:es.email})})]}),es.phone&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Phone:"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("a",{href:`tel:${es.phone}`,className:"text-blue-600 dark:text-blue-400 hover:underline",children:es.phone})})]})]}):$?(0,t.jsx)("div",{className:"text-center py-8 text-sm text-gray-500 dark:text-gray-400",children:0===er.length?"No contacts available for this client":"Select a contact above to view details"}):(0,t.jsx)("div",{className:"text-center py-8 text-sm text-gray-500 dark:text-gray-400",children:"Select a client to view contact information"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)(p.Card,{className:"shadow-sm border-gray-200/60 dark:border-white/10",children:[(0,t.jsx)(p.CardHeader,{className:"pb-4",children:(0,t.jsx)(p.CardTitle,{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Project Information"})}),(0,t.jsxs)(p.CardContent,{className:"space-y-6",children:[(0,t.jsx)(n.FieldGroup,{className:"sm:col-span-4",children:(0,t.jsx)(J.Field,{name:"title",children:e=>{let r=e.state.meta.isTouched&&e.state.meta.errors.length>0;return(0,t.jsxs)(n.Field,{"data-invalid":r,children:[(0,t.jsx)(n.FieldLabel,{htmlFor:e.name,children:"Project Title *"}),(0,t.jsx)(l.Input,{id:e.name,name:e.name,value:e.state.value,onBlur:e.handleBlur,onChange:t=>e.handleChange(t.target.value),"aria-invalid":r,placeholder:"e.g., Workshop & Festival",disabled:u}),r&&(0,t.jsx)(n.FieldError,{errors:e.state.meta.errors})]})}})}),(0,t.jsx)(n.FieldGroup,{className:"col-span-full",children:(0,t.jsx)(J.Field,{name:"instructions",children:e=>{let r=e.state.meta.isTouched&&e.state.meta.errors.length>0;return(0,t.jsxs)(n.Field,{"data-invalid":r,children:[(0,t.jsx)(n.FieldLabel,{htmlFor:e.name,children:"Instructions"}),(0,t.jsx)(d.Textarea,{id:e.name,name:e.name,value:e.state.value,onBlur:e.handleBlur,onChange:t=>e.handleChange(t.target.value),"aria-invalid":r,rows:4,placeholder:"Describe any special instructions or context for this project",disabled:u}),r&&(0,t.jsx)(n.FieldError,{errors:e.state.meta.errors})]})}})}),(0,t.jsx)(n.FieldGroup,{className:"sm:col-span-4",children:(0,t.jsx)(J.Field,{name:"assignedUserIds",children:e=>{let r=e.state.value||[];return(0,t.jsxs)(n.Field,{children:[(0,t.jsxs)(n.FieldLabel,{htmlFor:e.name,className:"flex items-center gap-2",children:[(0,t.jsx)(T.User,{className:"h-4 w-4 text-primary"}),"Assign To"]}),(0,t.jsx)(S.StyledMultiSelector,{options:K?.map(e=>({label:e.name||e.email,value:e._id}))||[],value:r,onValueChange:t=>e.handleChange(t),placeholder:"Select team members",maxCount:2,disabled:u,className:"w-full"})]})}})}),(0,t.jsx)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"block text-sm font-medium text-gray-900 dark:text-white",children:"Project Number"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Automatically assigned after creation"})]})}),(0,t.jsx)("div",{className:"flex items-center gap-3 pt-4 border-t border-gray-200 dark:border-white/10",children:(0,t.jsx)(J.Field,{name:"invoiceReminderEnabled",children:e=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Checkbox,{id:"invoiceReminder",checked:e.state.value,onCheckedChange:t=>e.handleChange(!!t),disabled:u}),(0,t.jsx)(c.Label,{htmlFor:"invoiceReminder",className:"text-sm text-gray-900 dark:text-white",children:"Remind me to invoice when I close the project"})]})})})]})]}),(0,t.jsxs)(p.Card,{className:"shadow-sm border-gray-200/60 dark:border-white/10",children:[(0,t.jsx)(p.CardHeader,{className:"pb-4",children:(0,t.jsxs)(p.CardTitle,{className:"flex items-center gap-2 text-xl font-semibold text-gray-900 dark:text-white",children:[(0,t.jsx)(g.CalendarIcon,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"}),"Schedule & Project Details"]})}),(0,t.jsxs)(p.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Project Type"}),(0,t.jsxs)(D.ButtonGroup,{children:[(0,t.jsx)("button",{type:"button",onClick:()=>en("one-off"),className:(0,F.cn)("inline-flex items-center gap-2 font-semibold transition-all duration-200 text-xs px-3 py-1.5 ring-1 shadow-sm hover:shadow-md backdrop-blur-sm","one-off"===O?"text-primary hover:text-primary/80 bg-primary/10 hover:bg-primary/15 ring-primary/30 hover:ring-primary/40":"text-gray-600 hover:text-gray-700 bg-transparent hover:bg-gray-50 ring-transparent hover:ring-gray-200 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:bg-gray-800 dark:hover:ring-gray-700"),children:"One-off Project"}),(0,t.jsx)("button",{type:"button",onClick:()=>en("recurring"),className:(0,F.cn)("inline-flex items-center gap-2 font-semibold transition-all duration-200 text-xs px-3 py-1.5 ring-1 shadow-sm hover:shadow-md backdrop-blur-sm","recurring"===O?"text-primary hover:text-primary/80 bg-primary/10 hover:bg-primary/15 ring-primary/30 hover:ring-primary/40":"text-gray-600 hover:text-gray-700 bg-transparent hover:bg-gray-50 ring-transparent hover:ring-gray-200 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:bg-gray-800 dark:hover:ring-gray-700"),children:"Recurring Project"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(R,{form:J,isLoading:u}),(0,t.jsx)(J.Field,{name:"projectType",children:e=>"recurring"===e.state.value&&(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,t.jsx)(J.Field,{name:"startTime",children:e=>(0,t.jsxs)(n.Field,{children:[(0,t.jsx)(n.FieldLabel,{htmlFor:e.name,children:"Start Time"}),(0,t.jsx)(l.Input,{id:e.name,type:"time",value:e.state.value,onChange:t=>e.handleChange(t.target.value),disabled:u})]})}),(0,t.jsx)(J.Field,{name:"endTime",children:e=>(0,t.jsxs)(n.Field,{children:[(0,t.jsx)(n.FieldLabel,{htmlFor:e.name,children:"End Time"}),(0,t.jsx)(l.Input,{id:e.name,type:"time",value:e.state.value,onChange:t=>e.handleChange(t.target.value),disabled:u})]})})]})}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsx)(J.Field,{name:"scheduleForLater",children:e=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Checkbox,{id:"scheduleForLater",checked:e.state.value,onCheckedChange:t=>e.handleChange(!!t),disabled:u}),(0,t.jsx)(c.Label,{htmlFor:"scheduleForLater",className:"text-sm text-gray-900 dark:text-white",children:"Scheduled for later"})]})})})]}),(0,t.jsx)(h.CalendarWidget,{form:J,calendarDate:U,handleCalendarNavigation:e=>{A(t=>{let r=new Date(t);return r.setMonth("prev"===e?r.getMonth()-1:r.getMonth()+1),r})},handleDateClick:e=>{if(!e)return;let t=new Date(U.getFullYear(),U.getMonth(),e);t.setHours(0,0,0,0);let r=J.getFieldValue("startDate"),a=J.getFieldValue("endDate");if(!r)return void J.setFieldValue("startDate",t);if(!a){let e=new Date("number"==typeof r?r:r.getTime());if(e.setHours(0,0,0,0),t<e){J.setFieldValue("startDate",t),J.setFieldValue("endDate",void 0),m.error("Invalid Date Selection","End date cannot be before start date. Resetting to new start date.");return}J.setFieldValue("endDate",t);return}J.setFieldValue("startDate",t),J.setFieldValue("endDate",void 0)},formatDisplayDate:L,variant:"default"})]})]})]})]})]})]})}),(0,t.jsx)(f.StickyFormFooter,{buttons:[{label:u?"Creating...":"Create Project",onClick:()=>J.handleSubmit(),intent:"primary",isLoading:u,position:"left"}]})]})}function B(){let e=(0,j.useSearchParams)().get("clientId");return(0,t.jsx)($,{preselectedClientId:e})}function V(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(B,{})})}$.displayName="ProjectOnboardingForm",e.s(["default",()=>V],740141)}]);